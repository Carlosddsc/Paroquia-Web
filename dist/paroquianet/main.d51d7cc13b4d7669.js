"use strict";(self.webpackChunkparoquianet=self.webpackChunkparoquianet||[]).push([[179],{6304:(ut,Ie,R)=>{R.d(Ie,{Dh:()=>Oe,GT:()=>de,cc:()=>Ae,hO:()=>Le,on:()=>L,pX:()=>ne,xv:()=>le});var d=R(5879),Y=R(120),P=R(6106);ut=R.hmd(ut);const X=["ngOnDestroy"],ne=(ke,mt,lt,te={})=>new Proxy(ke,{get:(me,ee)=>lt.runOutsideAngular(()=>{var be;if(ke[ee])return!(null===(be=te?.spy)||void 0===be)&&be.get&&te.spy.get(ee,ke[ee]),ke[ee];if(X.indexOf(ee)>-1)return()=>{};const Pe=mt.toPromise().then(qe=>{const se=qe&&qe[ee];return"function"==typeof se?se.bind(qe):se&&se.then?se.then(wt=>lt.run(()=>wt)):lt.run(()=>se)});return new Proxy(()=>{},{get:(qe,se)=>Pe[se],apply:(qe,se,wt)=>Pe.then(Vt=>{var ar;const Hr=Vt&&Vt(...wt);return!(null===(ar=te?.spy)||void 0===ar)&&ar.apply&&te.spy.apply(ee,wt,Hr),Hr})})})}),de=(ke,mt)=>{mt.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(te=>{Object.defineProperty(ke.prototype,te,Object.getOwnPropertyDescriptor(lt.prototype||lt,te))})})};class fe{constructor(mt){return mt}}const Oe=new d.OlP("angularfire2.app.options"),le=new d.OlP("angularfire2.app.name");function L(ke,mt,lt){const me="object"==typeof lt&&lt||{};me.name=me.name||"string"==typeof lt&&lt||"[DEFAULT]";const be=Y.Z.apps.filter(Pe=>Pe&&Pe.name===me.name)[0]||mt.runOutsideAngular(()=>Y.Z.initializeApp(ke,me));try{JSON.stringify(ke)!==JSON.stringify(be.options)&&$("error",`${be.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(be)}const $=(ke,...mt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ke](...mt)},K={provide:fe,useFactory:L,deps:[Oe,d.R0b,[new d.FiY,le]]};let Le=(()=>{class ke{constructor(lt){Y.Z.registerVersion("angularfire",P.q4.full,"core"),Y.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Y.Z.registerVersion("angular",d.q4F.full,lt.toString())}static initializeApp(lt,te){return{ngModule:ke,providers:[{provide:Oe,useValue:lt},{provide:le,useValue:te}]}}}return ke.\u0275fac=function(lt){return new(lt||ke)(d.LFG(d.Lbi))},ke.\u0275mod=d.oAB({type:ke}),ke.\u0275inj=d.cJS({providers:[K]}),ke})();function Ae(ke,mt,lt,te,me){const[,ee,be]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===ke)||[];if(ee)return function We(ke,mt){try{return ke.toString()===mt.toString()}catch{return ke===mt}}(me,be)||(Ge("error",`${mt} was already initialized on the ${lt} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:me,was:be})),ee;{const Pe=te();return globalThis.\u0275AngularfireInstanceCache.push([ke,Pe,me]),Pe}}const xe=!!ut.hot,Ge=(ke,...mt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ke](...mt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6106:(ut,Ie,R)=>{R.d(Ie,{q4:()=>zt,iC:()=>Wa,HU:()=>ra,vb:()=>Js,JM:()=>nc});var d=R(5879),Y=R(4097),P=R(5861),X=R(1571),ne=R(229),de=R(6820),fe=R(4287);const Oe=(I,C)=>C.some(M=>I instanceof M);let le,L;const Le=new WeakMap,Ae=new WeakMap,We=new WeakMap,xe=new WeakMap,Ge=new WeakMap;let lt={get(I,C,M){if(I instanceof IDBTransaction){if("done"===C)return Ae.get(I);if("objectStoreNames"===C)return I.objectStoreNames||We.get(I);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return be(I[C])},set:(I,C,M)=>(I[C]=M,!0),has:(I,C)=>I instanceof IDBTransaction&&("done"===C||"store"===C)||C in I};function ee(I){return"function"==typeof I?function me(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...C){return I.apply(Pe(this),C),be(Le.get(this))}:function(...C){return be(I.apply(Pe(this),C))}:function(C,...M){const k=I.call(Pe(this),C,...M);return We.set(k,C.sort?C.sort():[C]),be(k)}}(I):(I instanceof IDBTransaction&&function mt(I){if(Ae.has(I))return;const C=new Promise((M,k)=>{const H=()=>{I.removeEventListener("complete",q),I.removeEventListener("error",ce),I.removeEventListener("abort",ce)},q=()=>{M(),H()},ce=()=>{k(I.error||new DOMException("AbortError","AbortError")),H()};I.addEventListener("complete",q),I.addEventListener("error",ce),I.addEventListener("abort",ce)});Ae.set(I,C)}(I),Oe(I,function $(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,lt):I)}function be(I){if(I instanceof IDBRequest)return function ke(I){const C=new Promise((M,k)=>{const H=()=>{I.removeEventListener("success",q),I.removeEventListener("error",ce)},q=()=>{M(be(I.result)),H()},ce=()=>{k(I.error),H()};I.addEventListener("success",q),I.addEventListener("error",ce)});return C.then(M=>{M instanceof IDBCursor&&Le.set(M,I)}).catch(()=>{}),Ge.set(C,I),C}(I);if(xe.has(I))return xe.get(I);const C=ee(I);return C!==I&&(xe.set(I,C),Ge.set(C,I)),C}const Pe=I=>Ge.get(I),wt=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],ar=new Map;function Hr(I,C){if(!(I instanceof IDBDatabase)||C in I||"string"!=typeof C)return;if(ar.get(C))return ar.get(C);const M=C.replace(/FromIndex$/,""),k=C!==M,H=Vt.includes(M);if(!(M in(k?IDBIndex:IDBObjectStore).prototype)||!H&&!wt.includes(M))return;const q=function(){var ce=(0,P.Z)(function*(Ke,...ze){const at=this.transaction(Ke,H?"readwrite":"readonly");let Tt=at.store;return k&&(Tt=Tt.index(ze.shift())),(yield Promise.all([Tt[M](...ze),H&&at.done]))[0]});return function(ze){return ce.apply(this,arguments)}}();return ar.set(C,q),q}!function te(I){lt=I(lt)}(I=>({...I,get:(C,M,k)=>Hr(C,M)||I.get(C,M,k),has:(C,M)=>!!Hr(C,M)||I.has(C,M)}));const ls="@firebase/installations",Un="0.6.4",jo=1e4,ds=`w:${Un}`,ae="FIS_v2",ue="https://firebaseinstallations.googleapis.com/v1",ye=36e5,tt=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function On({projectId:I}){return`${ue}/projects/${I}/installations`}function yt(I){return{token:I.token,requestStatus:2,expiresIn:Nr(I.expiresIn),creationTime:Date.now()}}function Yt(I,C){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,P.Z)(function*(I,C){const k=(yield C.json()).error;return tt.create("request-failed",{requestName:I,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function _n({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ur(I){return sn.apply(this,arguments)}function sn(){return(sn=(0,P.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function Nr(I){return Number(I.replace("s","000"))}function si(){return(si=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:M}){const k=On(I),H=_n(I),q=C.getImmediate({optional:!0});if(q){const at=yield q.getHeartbeatsHeader();at&&H.append("x-firebase-client",at)}const Ke={method:"POST",headers:H,body:JSON.stringify({fid:M,authVersion:ae,appId:I.appId,sdkVersion:ds})},ze=yield ur(()=>fetch(k,Ke));if(ze.ok){const at=yield ze.json();return{fid:at.fid||M,registrationStatus:2,refreshToken:at.refreshToken,authToken:yt(at.authToken)}}throw yield Yt("Create Installation",ze)})).apply(this,arguments)}function oi(I){return new Promise(C=>{setTimeout(C,I)})}const Da=/^[cdef][\w-]{21}$/,pt="";function Ut(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function Ct(I){return function js(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Da.test(M)?M:pt}catch{return pt}}function ln(I){return`${I.appName}!${I.appId}`}const Cn=new Map;function zr(I,C){const M=ln(I);Ta(M,C),function st(I,C){const M=function Lt(){return!Gr&&"BroadcastChannel"in self&&(Gr=new BroadcastChannel("[Firebase] FID Change"),Gr.onmessage=I=>{Ta(I.data.key,I.data.fid)}),Gr}();M&&M.postMessage({key:I,fid:C}),function $s(){0===Cn.size&&Gr&&(Gr.close(),Gr=null)}()}(M,C)}function Ta(I,C){const M=Cn.get(I);if(M)for(const k of M)k(C)}let Gr=null;const hs="firebase-installations-database",Aa=1,Or="firebase-installations-store";let Hs=null;function Li(){return Hs||(Hs=function qe(I,C,{blocked:M,upgrade:k,blocking:H,terminated:q}={}){const ce=indexedDB.open(I,C),Ke=be(ce);return k&&ce.addEventListener("upgradeneeded",ze=>{k(be(ce.result),ze.oldVersion,ze.newVersion,be(ce.transaction))}),M&&ce.addEventListener("blocked",()=>M()),Ke.then(ze=>{q&&ze.addEventListener("close",()=>q()),H&&ze.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ke}(hs,Aa,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Or)}})),Hs}function Xn(I,C){return er.apply(this,arguments)}function er(){return(er=(0,P.Z)(function*(I,C){const M=ln(I),H=(yield Li()).transaction(Or,"readwrite"),q=H.objectStore(Or),ce=yield q.get(M);return yield q.put(C,M),yield H.done,(!ce||ce.fid!==C.fid)&&zr(I,C.fid),C})).apply(this,arguments)}function fs(I){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,P.Z)(function*(I){const C=ln(I),k=(yield Li()).transaction(Or,"readwrite");yield k.objectStore(Or).delete(C),yield k.done})).apply(this,arguments)}function Vi(I,C){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,P.Z)(function*(I,C){const M=ln(I),H=(yield Li()).transaction(Or,"readwrite"),q=H.objectStore(Or),ce=yield q.get(M),Ke=C(ce);return void 0===Ke?yield q.delete(M):yield q.put(Ke,M),yield H.done,Ke&&(!ce||ce.fid!==Ke.fid)&&zr(I,Ke.fid),Ke})).apply(this,arguments)}function U(I){return V.apply(this,arguments)}function V(){return V=(0,P.Z)(function*(I){let C;const M=yield Vi(I.appConfig,k=>{const H=function G(I){return Bn(I||{fid:Ut(),registrationStatus:0})}(k),q=function Ee(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(tt.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},k=function re(I,C){return nt.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:k}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:vt(I)}:{installationEntry:C}}(I,H);return C=q.registrationPromise,q.installationEntry});return M.fid===pt?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}}),V.apply(this,arguments)}function nt(){return nt=(0,P.Z)(function*(I,C){try{const M=yield function ao(I,C){return si.apply(this,arguments)}(I,C);return Xn(I.appConfig,M)}catch(M){throw $e(M)&&409===M.customData.serverCode?yield fs(I.appConfig):yield Xn(I.appConfig,{fid:C.fid,registrationStatus:0}),M}}),nt.apply(this,arguments)}function vt(I){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,P.Z)(function*(I){let C=yield Qt(I.appConfig);for(;1===C.registrationStatus;)yield oi(100),C=yield Qt(I.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:k}=yield U(I);return k||M}return C})).apply(this,arguments)}function Qt(I){return Vi(I,C=>{if(!C)throw tt.create("installation-not-found");return Bn(C)})}function Bn(I){return function Dt(I){return 1===I.registrationStatus&&I.registrationTime+jo<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function lr(){return(lr=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:C},M){const k=function qr(I,{fid:C}){return`${On(I)}/${C}/authTokens:generate`}(I,M),H=function bn(I,{refreshToken:C}){const M=_n(I);return M.append("Authorization",function ii(I){return`${ae} ${I}`}(C)),M}(I,M),q=C.getImmediate({optional:!0});if(q){const at=yield q.getHeartbeatsHeader();at&&H.append("x-firebase-client",at)}const Ke={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:ds,appId:I.appId}})},ze=yield ur(()=>fetch(k,Ke));if(ze.ok)return yt(yield ze.json());throw yield Yt("Generate Auth Token",ze)})).apply(this,arguments)}function ps(I){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,P.Z)(function*(I,C=!1){let M;const k=yield Vi(I.appConfig,q=>{if(!Xe(q))throw tt.create("not-registered");const ce=q.authToken;if(!C&&function Kt(I){return 2===I.requestStatus&&!function jn(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+ye}(I)}(ce))return q;if(1===ce.requestStatus)return M=function he(I,C){return Q.apply(this,arguments)}(I,C),q;{if(!navigator.onLine)throw tt.create("app-offline");const Ke=function Rn(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}(q);return M=function rt(I,C){return dt.apply(this,arguments)}(I,Ke),Ke}});return M?yield M:k.authToken}),Sa.apply(this,arguments)}function Q(){return(Q=(0,P.Z)(function*(I,C){let M=yield Ne(I.appConfig);for(;1===M.authToken.requestStatus;)yield oi(100),M=yield Ne(I.appConfig);const k=M.authToken;return 0===k.requestStatus?ps(I,C):k})).apply(this,arguments)}function Ne(I){return Vi(I,C=>{if(!Xe(C))throw tt.create("not-registered");return function Yi(I){return 1===I.requestStatus&&I.requestTime+jo<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function dt(){return dt=(0,P.Z)(function*(I,C){try{const M=yield function $t(I,C){return lr.apply(this,arguments)}(I,C),k=Object.assign(Object.assign({},C),{authToken:M});return yield Xn(I.appConfig,k),M}catch(M){if(!$e(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const k=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Xn(I.appConfig,k)}else yield fs(I.appConfig);throw M}}),dt.apply(this,arguments)}function Xe(I){return void 0!==I&&2===I.registrationStatus}function gs(){return(gs=(0,P.Z)(function*(I){const C=I,{installationEntry:M,registrationPromise:k}=yield U(C);return k?k.catch(console.error):ps(C).catch(console.error),M.fid})).apply(this,arguments)}function Ma(){return Ma=(0,P.Z)(function*(I,C=!1){const M=I;return yield function Tu(I){return wi.apply(this,arguments)}(M),(yield ps(M,C)).token}),Ma.apply(this,arguments)}function wi(){return(wi=(0,P.Z)(function*(I){const{registrationPromise:C}=yield U(I);C&&(yield C)})).apply(this,arguments)}function wr(I){return tt.create("missing-app-config-values",{valueName:I})}const Ad="installations",_m=I=>{const C=I.getProvider("app").getImmediate(),M=function Mu(I){if(!I||!I.options)throw wr("App Configuration");if(!I.name)throw wr("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!I.options[M])throw wr(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,X._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},uo=I=>{const C=I.getProvider("app").getImmediate(),M=(0,X._getProvider)(C,Ad).getImmediate();return{getId:()=>function Zr(I){return gs.apply(this,arguments)}(M),getToken:H=>function Kc(I){return Ma.apply(this,arguments)}(M,H)}};(function kf(){(0,X._registerComponent)(new de.wA(Ad,_m,"PUBLIC")),(0,X._registerComponent)(new de.wA("installations-internal",uo,"PRIVATE"))})(),(0,X.registerVersion)(ls,Un),(0,X.registerVersion)(ls,Un,"esm2017");const xu="@firebase/remote-config",dr=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class He{constructor(C,M,k,H){this.client=C,this.storage=M,this.storageCache=k,this.logger=H}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-M,H=k<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${H}.`),H}fetch(C){var M=this;return(0,P.Z)(function*(){const[k,H]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(H&&M.isCachedDataFresh(C.cacheMaxAgeMillis,k))return H;C.eTag=H&&H.eTag;const q=yield M.client.fetch(C),ce=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===q.status&&ce.push(M.storage.setLastSuccessfulFetchResponse(q)),yield Promise.all(ce),q})()}}function Rt(I=navigator){return I.languages&&I.languages[0]||I.language}class cn{constructor(C,M,k,H,q,ce){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=k,this.projectId=H,this.apiKey=q,this.appId=ce}fetch(C){var M=this;return(0,P.Z)(function*(){const[k,H]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},ze={sdk_version:M.sdkVersion,app_instance_id:k,app_instance_id_token:H,app_id:M.appId,language_code:Rt()},at={method:"POST",headers:Ke,body:JSON.stringify(ze)},Tt=fetch(ce,at),At=new Promise((zi,Lr)=>{C.signal.addEventListener(()=>{const sc=new Error("The operation was aborted.");sc.name="AbortError",Lr(sc)})});let hi;try{yield Promise.race([Tt,At]),hi=yield Tt}catch(zi){let Lr="fetch-client-network";throw"AbortError"===zi?.name&&(Lr="fetch-timeout"),dr.create(Lr,{originalErrorMessage:zi?.message})}let mn=hi.status;const eo=hi.headers.get("ETag")||void 0;let ic,an;if(200===hi.status){let zi;try{zi=yield hi.json()}catch(Lr){throw dr.create("fetch-client-parse",{originalErrorMessage:Lr?.message})}ic=zi.entries,an=zi.state}if("INSTANCE_STATE_UNSPECIFIED"===an?mn=500:"NO_CHANGE"===an?mn=304:("NO_TEMPLATE"===an||"EMPTY_CONFIG"===an)&&(ic={}),304!==mn&&200!==mn)throw dr.create("fetch-status",{httpStatus:mn});return{status:mn,eTag:eo,config:ic}})()}}class Pr{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,P.Z)(function*(){const k=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,k)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:k}){var H=this;return(0,P.Z)(function*(){yield function ai(I,C){return new Promise((M,k)=>{const H=Math.max(C-Date.now(),0),q=setTimeout(M,H);I.addEventListener(()=>{clearTimeout(q),k(dr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const q=yield H.client.fetch(C);return yield H.storage.deleteThrottleMetadata(),q}catch(q){if(!function Ho(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(q))throw q;const ce={throttleEndTimeMillis:Date.now()+(0,ne.$s)(k),backoffCount:k+1};return yield H.storage.setThrottleMetadata(ce),H.attemptFetch(C,ce)}})()}}class Gs{constructor(C,M,k,H,q){this.app=C,this._client=M,this._storageCache=k,this._storage=H,this._logger=q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bi(I,C){const M=I.target.error||void 0;return dr.create(C,{originalErrorMessage:M&&M?.message})}const ht="app_namespace_store";class qn{constructor(C,M,k,H=function ys(){return new Promise((I,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=k=>{C(Bi(k,"storage-open"))},M.onsuccess=k=>{I(k.target.result)},M.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(ht,{keyPath:"compositeKey"})}}catch(M){C(dr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=C,this.appName=M,this.namespace=k,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,P.Z)(function*(){const k=yield M.openDbPromise;return new Promise((H,q)=>{const Ke=k.transaction([ht],"readonly").objectStore(ht),ze=M.createCompositeKey(C);try{const at=Ke.get(ze);at.onerror=Tt=>{q(Bi(Tt,"storage-get"))},at.onsuccess=Tt=>{const At=Tt.target.result;H(At?At.value:void 0)}}catch(at){q(dr.create("storage-get",{originalErrorMessage:at?.message}))}})})()}set(C,M){var k=this;return(0,P.Z)(function*(){const H=yield k.openDbPromise;return new Promise((q,ce)=>{const ze=H.transaction([ht],"readwrite").objectStore(ht),at=k.createCompositeKey(C);try{const Tt=ze.put({compositeKey:at,value:M});Tt.onerror=At=>{ce(Bi(At,"storage-set"))},Tt.onsuccess=()=>{q()}}catch(Tt){ce(dr.create("storage-set",{originalErrorMessage:Tt?.message}))}})})()}delete(C){var M=this;return(0,P.Z)(function*(){const k=yield M.openDbPromise;return new Promise((H,q)=>{const Ke=k.transaction([ht],"readwrite").objectStore(ht),ze=M.createCompositeKey(C);try{const at=Ke.delete(ze);at.onerror=Tt=>{q(Bi(Tt,"storage-delete"))},at.onsuccess=()=>{H()}}catch(at){q(dr.create("storage-delete",{originalErrorMessage:at?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class zo{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,P.Z)(function*(){const M=C.storage.getLastFetchStatus(),k=C.storage.getLastSuccessfulFetchTimestampMillis(),H=C.storage.getActiveConfig(),q=yield M;q&&(C.lastFetchStatus=q);const ce=yield k;ce&&(C.lastSuccessfulFetchTimestampMillis=ce);const Ke=yield H;Ke&&(C.activeConfig=Ke)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Md(){return ji.apply(this,arguments)}function ji(){return(ji=(0,P.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function Kr(){(0,X._registerComponent)(new de.wA("remote-config",function I(C,{instanceIdentifier:M}){const k=C.getProvider("app").getImmediate(),H=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dr.create("registration-window");if(!(0,ne.hl)())throw dr.create("indexed-db-unavailable");const{projectId:q,apiKey:ce,appId:Ke}=k.options;if(!q)throw dr.create("registration-project-id");if(!ce)throw dr.create("registration-api-key");if(!Ke)throw dr.create("registration-app-id");const ze=new qn(Ke,k.name,M=M||"firebase"),at=new zo(ze),Tt=new fe.Yd(xu);Tt.logLevel=fe.in.ERROR;const At=new cn(H,X.SDK_VERSION,M,q,ce,Ke),hi=new Pr(At,ze),mn=new He(hi,ze,at,Tt),eo=new Gs(k,mn,at,ze,Tt);return function hr(I){const C=(0,ne.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(eo),eo},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(xu,"0.4.4"),(0,X.registerVersion)(xu,"0.4.4","esm2017")}();const vs=(I,C)=>C.some(M=>I instanceof M);let qs,Qi;const Na=new WeakMap,Ji=new WeakMap,ui=new WeakMap,Er=new WeakMap,_s=new WeakMap;let ku={get(I,C,M){if(I instanceof IDBTransaction){if("done"===C)return Ji.get(I);if("objectStoreNames"===C)return I.objectStoreNames||ui.get(I);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return br(I[C])},set:(I,C,M)=>(I[C]=M,!0),has:(I,C)=>I instanceof IDBTransaction&&("done"===C||"store"===C)||C in I};function al(I){return"function"==typeof I?function Ir(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ol(){return Qi||(Qi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...C){return I.apply(lo(this),C),br(Na.get(this))}:function(...C){return br(I.apply(lo(this),C))}:function(C,...M){const k=I.call(lo(this),C,...M);return ui.set(k,C.sort?C.sort():[C]),br(k)}}(I):(I instanceof IDBTransaction&&function tr(I){if(Ji.has(I))return;const C=new Promise((M,k)=>{const H=()=>{I.removeEventListener("complete",q),I.removeEventListener("error",ce),I.removeEventListener("abort",ce)},q=()=>{M(),H()},ce=()=>{k(I.error||new DOMException("AbortError","AbortError")),H()};I.addEventListener("complete",q),I.addEventListener("error",ce),I.addEventListener("abort",ce)});Ji.set(I,C)}(I),vs(I,function Ht(){return qs||(qs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ku):I)}function br(I){if(I instanceof IDBRequest)return function Oa(I){const C=new Promise((M,k)=>{const H=()=>{I.removeEventListener("success",q),I.removeEventListener("error",ce)},q=()=>{M(br(I.result)),H()},ce=()=>{k(I.error),H()};I.addEventListener("success",q),I.addEventListener("error",ce)});return C.then(M=>{M instanceof IDBCursor&&Na.set(M,I)}).catch(()=>{}),_s.set(C,I),C}(I);if(Er.has(I))return Er.get(I);const C=al(I);return C!==I&&(Er.set(I,C),_s.set(C,I)),C}const lo=I=>_s.get(I);function Qr(I,C,{blocked:M,upgrade:k,blocking:H,terminated:q}={}){const ce=indexedDB.open(I,C),Ke=br(ce);return k&&ce.addEventListener("upgradeneeded",ze=>{k(br(ce.result),ze.oldVersion,ze.newVersion,br(ce.transaction))}),M&&ce.addEventListener("blocked",()=>M()),Ke.then(ze=>{q&&ze.addEventListener("close",()=>q()),H&&ze.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ke}function Zs(I,{blocked:C}={}){const M=indexedDB.deleteDatabase(I);return C&&M.addEventListener("blocked",()=>C()),br(M).then(()=>{})}const ul=["get","getKey","getAll","getAllKeys","count"],Lf=["put","add","delete","clear"],cl=new Map;function ll(I,C){if(!(I instanceof IDBDatabase)||C in I||"string"!=typeof C)return;if(cl.get(C))return cl.get(C);const M=C.replace(/FromIndex$/,""),k=C!==M,H=Lf.includes(M);if(!(M in(k?IDBIndex:IDBObjectStore).prototype)||!H&&!ul.includes(M))return;const q=function(){var ce=(0,P.Z)(function*(Ke,...ze){const at=this.transaction(Ke,H?"readwrite":"readonly");let Tt=at.store;return k&&(Tt=Tt.index(ze.shift())),(yield Promise.all([Tt[M](...ze),H&&at.done]))[0]});return function(ze){return ce.apply(this,arguments)}}();return cl.set(C,q),q}!function kr(I){ku=I(ku)}(I=>({...I,get:(C,M,k)=>ll(C,M)||I.get(C,M,k),has:(C,M)=>!!ll(C,M)||I.has(C,M)}));const dl="/firebase-messaging-sw.js",hl="/firebase-cloud-messaging-push-scope",xd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wm="https://fcmregistrations.googleapis.com/v1",wn="google.c.a.c_id",Em="google.c.a.c_l",Vf="google.c.a.ts";var Nd=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(Nd||{});function ws(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fl(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(M),H=new Uint8Array(k.length);for(let q=0;q<k.length;++q)H[q]=k.charCodeAt(q);return H}const Fu="fcm_token_details_db",pl=5,ho="fcm_token_object_Store";function Ra(){return Ra=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(q=>q.name).includes(Fu))return null;let C=null;return(yield Qr(Fu,pl,{upgrade:(k=(0,P.Z)(function*(H,q,ce,Ke){var ze;if(q<2||!H.objectStoreNames.contains(ho))return;const at=Ke.objectStore(ho),Tt=yield at.index("fcmSenderId").get(I);if(yield at.clear(),Tt)if(2===q){const At=Tt;if(!At.auth||!At.p256dh||!At.endpoint)return;C={token:At.fcmToken,createTime:null!==(ze=At.createTime)&&void 0!==ze?ze:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:ws(At.vapidKey)}}}else if(3===q){const At=Tt;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:ws(At.auth),p256dh:ws(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:ws(At.vapidKey)}}}else if(4===q){const At=Tt;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:ws(At.auth),p256dh:ws(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:ws(At.vapidKey)}}}}),function(q,ce,Ke,ze){return k.apply(this,arguments)})})).close(),yield Zs(Fu),yield Zs("fcm_vapid_details_db"),yield Zs("undefined"),function Im(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var k}),Ra.apply(this,arguments)}const Es="firebase-messaging-database",Xi=1,Ci="firebase-messaging-store";let Od=null;function $n(){return Od||(Od=Qr(Es,Xi,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Ci)}})),Od}function Go(I){return pr.apply(this,arguments)}function pr(){return pr=(0,P.Z)(function*(I){const C=qo(I),k=yield(yield $n()).transaction(Ci).objectStore(Ci).get(C);if(k)return k;{const H=yield function w_(I){return Ra.apply(this,arguments)}(I.appConfig.senderId);if(H)return yield gl(I,H),H}}),pr.apply(this,arguments)}function gl(I,C){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,P.Z)(function*(I,C){const M=qo(I),H=(yield $n()).transaction(Ci,"readwrite");return yield H.objectStore(Ci).put(C,M),yield H.done,C})).apply(this,arguments)}function ka(){return(ka=(0,P.Z)(function*(I){const C=qo(I),k=(yield $n()).transaction(Ci,"readwrite");yield k.objectStore(Ci).delete(C),yield k.done})).apply(this,arguments)}function qo({appConfig:I}){return I.appId}const nr=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lu(I,C){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(I,C){const M=yield Vu(I),k=bm(C),H={method:"POST",headers:M,body:JSON.stringify(k)};let q;try{q=yield(yield fetch(Is(I.appConfig),H)).json()}catch(ce){throw nr.create("token-subscribe-failed",{errorInfo:ce?.toString()})}if(q.error)throw nr.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw nr.create("token-subscribe-no-token");return q.token})).apply(this,arguments)}function vl(){return(vl=(0,P.Z)(function*(I,C){const M=yield Vu(I),k=bm(C.subscriptionOptions),H={method:"PATCH",headers:M,body:JSON.stringify(k)};let q;try{q=yield(yield fetch(`${Is(I.appConfig)}/${C.token}`,H)).json()}catch(ce){throw nr.create("token-update-failed",{errorInfo:ce?.toString()})}if(q.error)throw nr.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw nr.create("token-update-no-token");return q.token})).apply(this,arguments)}function Zo(I,C){return fo.apply(this,arguments)}function fo(){return(fo=(0,P.Z)(function*(I,C){const k={method:"DELETE",headers:yield Vu(I)};try{const q=yield(yield fetch(`${Is(I.appConfig)}/${C}`,k)).json();if(q.error)throw nr.create("token-unsubscribe-failed",{errorInfo:q.error.message})}catch(H){throw nr.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Is({projectId:I}){return`${wm}/projects/${I}/registrations`}function Vu(I){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,P.Z)(function*({appConfig:I,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function bm({p256dh:I,auth:C,endpoint:M,vapidKey:k}){const H={web:{endpoint:M,auth:C,p256dh:I}};return k!==xd&&(H.web.applicationPubKey=k),H}const jf=6048e5;function Bu(){return Bu=(0,P.Z)(function*(I){const C=yield function $u(I,C){return Pd.apply(this,arguments)}(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:ws(C.getKey("auth")),p256dh:ws(C.getKey("p256dh"))},k=yield Go(I.firebaseDependencies);if(k){if(function kd(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}(k.subscriptionOptions,M))return Date.now()>=k.createTime+jf?function wl(I,C){return ju.apply(this,arguments)}(I,{token:k.token,createTime:Date.now(),subscriptionOptions:M}):k.token;try{yield Zo(I.firebaseDependencies,k.token)}catch(H){console.warn(H)}return El(I.firebaseDependencies,M)}return El(I.firebaseDependencies,M)}),Bu.apply(this,arguments)}function _l(){return _l=(0,P.Z)(function*(I){const C=yield Go(I.firebaseDependencies);C&&(yield Zo(I.firebaseDependencies,C.token),yield function Rd(I){return ka.apply(this,arguments)}(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),_l.apply(this,arguments)}function ju(){return ju=(0,P.Z)(function*(I,C){try{const M=yield function yl(I,C){return vl.apply(this,arguments)}(I.firebaseDependencies,C),k=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield gl(I.firebaseDependencies,k),M}catch(M){throw yield function Dm(I){return _l.apply(this,arguments)}(I),M}}),ju.apply(this,arguments)}function El(I,C){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(I,C){const k={token:yield Lu(I,C),createTime:Date.now(),subscriptionOptions:C};return yield gl(I,k),k.token})).apply(this,arguments)}function Pd(){return(Pd=(0,P.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fl(C)})})).apply(this,arguments)}function Fa(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function La(I,C){if(!C.notification)return;I.notification={};const M=C.notification.title;M&&(I.notification.title=M);const k=C.notification.body;k&&(I.notification.body=k);const H=C.notification.image;H&&(I.notification.image=H);const q=C.notification.icon;q&&(I.notification.icon=q)}(C,I),function $f(I,C){C.data&&(I.data=C.data)}(C,I),function Il(I,C){var M,k,H,q,ce;if(!(C.fcmOptions||null!==(M=C.notification)&&void 0!==M&&M.click_action))return;I.fcmOptions={};const Ke=null!==(H=null===(k=C.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==H?H:null===(q=C.notification)||void 0===q?void 0:q.click_action;Ke&&(I.fcmOptions.link=Ke);const ze=null===(ce=C.fcmOptions)||void 0===ce?void 0:ce.analytics_label;ze&&(I.fcmOptions.analyticsLabel=ze)}(C,I),C}function Fd(I,C){const M=[];for(let k=0;k<I.length;k++)M.push(I.charAt(k)),k<C.length&&M.push(C.charAt(k));return M.join("")}function Hu(I){return nr.create("missing-app-config-values",{valueName:I})}Fd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Am{constructor(C,M,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function Ld(I){if(!I||!I.options)throw Hu("App Configuration Object");if(!I.name)throw Hu("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const k of C)if(!M[k])throw Hu(k);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:H,installations:M,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Ko(){return(Ko=(0,P.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(dl,{scope:hl}),I.swRegistration.update().catch(()=>{})}catch(C){throw nr.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function po(){return(po=(0,P.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield function Vd(I){return Ko.apply(this,arguments)}(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw nr.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function go(){return(go=(0,P.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=xd)})).apply(this,arguments)}function Cl(){return Cl=(0,P.Z)(function*(I,C){if(!navigator)throw nr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nr.create("permission-blocked");return yield function bs(I,C){return go.apply(this,arguments)}(I,C?.vapidKey),yield function Ud(I,C){return po.apply(this,arguments)}(I,C?.serviceWorkerRegistration),function Cm(I){return Bu.apply(this,arguments)}(I)}),Cl.apply(this,arguments)}function Bd(){return(Bd=(0,P.Z)(function*(I,C,M){const k=function es(I){switch(I){case Nd.NOTIFICATION_CLICKED:return"notification_open";case Nd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:M[wn],message_name:M[Em],message_time:M[Vf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mo(){return mo=(0,P.Z)(function*(I,C){const M=C.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===Nd.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Fa(M)):I.onMessageHandler.next(Fa(M)));const k=M.data;(function Tm(I){return"object"==typeof I&&!!I&&wn in I})(k)&&"1"===k["google.c.a.e"]&&(yield function Dl(I,C,M){return Bd.apply(this,arguments)}(I,M.messageType,k))}),mo.apply(this,arguments)}const en="@firebase/messaging",yo=I=>{const C=new Am(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function jd(I,C){return mo.apply(this,arguments)}(C,M)),C},Jr=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:k=>function bl(I,C){return Cl.apply(this,arguments)}(C,k)}};function Tl(){return ts.apply(this,arguments)}function ts(){return(ts=(0,P.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $d(){(0,X._registerComponent)(new de.wA("messaging",yo,"PUBLIC")),(0,X._registerComponent)(new de.wA("messaging-internal",Jr,"PRIVATE")),(0,X.registerVersion)(en,"0.12.4"),(0,X.registerVersion)(en,"0.12.4","esm2017")}();const fn="analytics",zf="firebase_id",Sl="origin",It=6e4,Gu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ml="https://www.googletagmanager.com/gtag/js",rr=new fe.Yd("@firebase/analytics"),Cr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jo(I){if(!I.startsWith(Ml)){const C=Cr.create("invalid-gtag-resource",{gtagURL:I});return rr.warn(C.message),""}return I}function Ws(I){return Promise.all(I.map(C=>C.catch(M=>M)))}function Va(){return(Va=(0,P.Z)(function*(I,C,M,k,H,q){const ce=k[H];try{if(ce)yield C[ce];else{const ze=(yield Ws(M)).find(at=>at.measurementId===H);ze&&(yield C[ze.appId])}}catch(Ke){rr.error(Ke)}I("config",H,q)})).apply(this,arguments)}function Pt(){return(Pt=(0,P.Z)(function*(I,C,M,k,H){try{let q=[];if(H&&H.send_to){let ce=H.send_to;Array.isArray(ce)||(ce=[ce]);const Ke=yield Ws(M);for(const ze of ce){const at=Ke.find(At=>At.measurementId===ze),Tt=at&&C[at.appId];if(!Tt){q=[];break}q.push(Tt)}}0===q.length&&(q=Object.values(C)),yield Promise.all(q),I("event",k,H||{})}catch(q){rr.error(q)}})).apply(this,arguments)}const Ol=30,Pl=new class Xr{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function kl(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Gf(){return(Gf=(0,P.Z)(function*(I){var C;const{appId:M,apiKey:k}=I,H={method:"GET",headers:kl(k)},q=Gu.replace("{app-id}",M),ce=yield fetch(q,H);if(200!==ce.status&&304!==ce.status){let Ke="";try{const ze=yield ce.json();null!==(C=ze.error)&&void 0!==C&&C.message&&(Ke=ze.error.message)}catch{}throw Cr.create("config-fetch-failed",{httpStatus:ce.status,responseMessage:Ke})}return ce.json()})).apply(this,arguments)}function Wn(){return(Wn=(0,P.Z)(function*(I,C=Pl,M){const{appId:k,apiKey:H,measurementId:q}=I.options;if(!k)throw Cr.create("no-app-id");if(!H){if(q)return{measurementId:q,appId:k};throw Cr.create("no-api-key")}const ce=C.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new zd;return setTimeout((0,P.Z)(function*(){Ke.abort()}),void 0!==M?M:It),Cs({appId:k,apiKey:H,measurementId:q},ce,Ke,C)})).apply(this,arguments)}function Cs(I,C,M){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,P.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:M},k,H=Pl){var q;const{appId:ce,measurementId:Ke}=I;try{yield function wo(I,C){return new Promise((M,k)=>{const H=Math.max(C-Date.now(),0),q=setTimeout(M,H);I.addEventListener(()=>{clearTimeout(q),k(Cr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(k,C)}catch(ze){if(Ke)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:ce,measurementId:Ke};throw ze}try{const ze=yield function xm(I){return Gf.apply(this,arguments)}(I);return H.deleteThrottleMetadata(ce),ze}catch(ze){const at=ze;if(!function $i(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(at)){if(H.deleteThrottleMetadata(ce),Ke)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:ce,measurementId:Ke};throw ze}const Tt=503===Number(null===(q=at?.customData)||void 0===q?void 0:q.httpStatus)?(0,ne.$s)(M,H.intervalMillis,Ol):(0,ne.$s)(M,H.intervalMillis),At={throttleEndTimeMillis:Date.now()+Tt,backoffCount:M+1};return H.setThrottleMetadata(ce,At),rr.debug(`Calling attemptFetch again in ${Tt} millis`),Cs(I,At,k,H)}}),Fl.apply(this,arguments)}class zd{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Ua,Yu;function Gd(){return(Gd=(0,P.Z)(function*(I,C,M,k,H){if(H&&H.global)I("event",M,k);else{const q=yield C;I("event",M,Object.assign(Object.assign({},k),{send_to:q}))}})).apply(this,arguments)}function gr(){return(gr=(0,P.Z)(function*(){if(!(0,ne.hl)())return rr.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return rr.warn(Cr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function on(){return on=(0,P.Z)(function*(I,C,M,k,H,q,ce){var Ke;const ze=function qf(I){return Wn.apply(this,arguments)}(I);ze.then(mn=>{M[mn.measurementId]=mn.appId,I.options.measurementId&&mn.measurementId!==I.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mn=>rr.error(mn)),C.push(ze);const at=function xt(){return gr.apply(this,arguments)}().then(mn=>{if(mn)return k.getId()}),[Tt,At]=yield Promise.all([ze,at]);(function Zn(I){const C=window.document.getElementsByTagName("script");for(const M of Object.values(C))if(M.src&&M.src.includes(Ml)&&M.src.includes(I))return M;return null})(q)||function Zu(I,C){const M=function qu(I,C){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(I,C)),M}("firebase-js-sdk-policy",{createScriptURL:Jo}),k=document.createElement("script"),H=`${Ml}?l=${I}&id=${C}`;k.src=M?M?.createScriptURL(H):H,k.async=!0,document.head.appendChild(k)}(q,Tt.measurementId),Yu&&(H("consent","default",Yu),function Ds(I){Yu=I}(void 0)),H("js",new Date);const hi=null!==(Ke=ce?.config)&&void 0!==Ke?Ke:{};return hi[Sl]="firebase",hi.update=!0,null!=At&&(hi[zf]=At),H("config",Tt.measurementId,hi),Ua&&(H("set",Ua),function kn(I){Ua=I}(void 0)),Tt.measurementId}),on.apply(this,arguments)}class Ks{constructor(C){this.app=C}_delete(){return delete Di[this.app.options.appId],Promise.resolve()}}let Di={},ja=[];const ei={};let li,Nn,mr="dataLayer",Xo=!1;function As(I,C,M){!function Qu(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((k,H)=>`(${H+1}) ${k}`).join(" "),M=Cr.create("invalid-analytics-context",{errorInfo:C});rr.warn(M.message)}}();const k=I.options.appId;if(!k)throw Cr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Cr.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Di[k])throw Cr.create("already-exists",{id:k});if(!Xo){!function Mm(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(mr);const{wrappedGtag:q,gtagCore:ce}=function Nl(I,C,M,k,H){let q=function(...ce){window[k].push(arguments)};return window[H]&&"function"==typeof window[H]&&(q=window[H]),window[H]=function Wu(I,C,M,k){function q(){return q=(0,P.Z)(function*(ce,...Ke){try{if("event"===ce){const[ze,at]=Ke;yield function Te(I,C,M,k,H){return Pt.apply(this,arguments)}(I,C,M,ze,at)}else if("config"===ce){const[ze,at]=Ke;yield function xl(I,C,M,k,H,q){return Va.apply(this,arguments)}(I,C,M,k,ze,at)}else if("consent"===ce){const[ze]=Ke;I("consent","update",ze)}else if("get"===ce){const[ze,at,Tt]=Ke;I("get",ze,at,Tt)}else if("set"===ce){const[ze]=Ke;I("set",ze)}else I(ce,...Ke)}catch(ze){rr.error(ze)}}),q.apply(this,arguments)}return function H(ce){return q.apply(this,arguments)}}(q,I,C,M),{gtagCore:q,wrappedGtag:window[H]}}(Di,ja,ei,mr,"gtag");Nn=q,li=ce,Xo=!0}return Di[k]=function Ts(I,C,M,k,H,q,ce){return on.apply(this,arguments)}(I,ja,ei,C,li,mr,M),new Ks(I)}function $a(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Kd="@firebase/analytics";!function Xu(){(0,X._registerComponent)(new de.wA(fn,(C,{options:M})=>As(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,X._registerComponent)(new de.wA("analytics-internal",function I(C){try{const M=C.getProvider(fn).getImmediate();return{logEvent:(k,H,q)=>function Wd(I,C,M,k){I=(0,ne.m9)(I),function Nm(I,C,M,k,H){return Gd.apply(this,arguments)}(Nn,Di[I.app.options.appId],C,M,k).catch(H=>rr.error(H))}(M,k,H,q)}}catch(M){throw Cr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,X.registerVersion)(Kd,"0.10.0"),(0,X.registerVersion)(Kd,"0.10.0","esm2017")}();var Yd=R(1954),Qd=R(2631);const I_=new class Ga extends Qd.v{}(class ec extends Yd.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(C,M,k):(C.flush(this),0)}});var Vl=R(6321),pe=R(9397),ir=R(5137),Eo=R(3093);const zt=new d.GfV("7.6.1"),di="__angularfire_symbol__analyticsIsSupportedValue",Qs="__angularfire_symbol__analyticsIsSupported",Io="__angularfire_symbol__remoteConfigIsSupportedValue",na="__angularfire_symbol__remoteConfigIsSupported",gn="__angularfire_symbol__messagingIsSupportedValue",qa="__angularfire_symbol__messagingIsSupported";function nc(I,C,M){if(C){if(1===C.length)return C[0];const q=C.filter(ce=>ce.app===M);if(1===q.length)return q[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[Qs]||(globalThis[Qs]=$a().then(I=>globalThis[di]=I).catch(()=>globalThis[di]=!1)),globalThis[qa]||(globalThis[qa]=Tl().then(I=>globalThis[gn]=I).catch(()=>globalThis[gn]=!1)),globalThis[na]||(globalThis[na]=Md().then(I=>globalThis[Io]=I).catch(()=>globalThis[Io]=!1));const Js=(I,C)=>{const M=C?[C]:(0,Y.C6)(),k=[];return M.forEach(H=>{H.container.getProvider(I).instances.forEach(ce=>{k.includes(ce)||k.push(ce)})}),k};function Xs(){}class Bl{constructor(C,M=I_){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,k){const H=this.zone;return this.delegate.schedule(function(ce){H.runGuarded(()=>{C.apply(this,[ce])})},M,k)}}class Jd{constructor(C){this.zone=C,this.task=null}call(C,M){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xs,{},Xs,Xs)),M.pipe((0,pe.b)({next:k,complete:k,error:k})).subscribe(C).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ra=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Bl(Zone.current)),this.insideAngular=M.run(()=>new Bl(Zone.current,Vl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(d.LFG(d.R0b))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Dn(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Wa(I){return Dn(),function rc(I){return function(M){return(M=M.lift(new Jd(I.ngZone))).pipe((0,ir.R)(I.outsideAngular),(0,Eo.Q)(I.insideAngular))}}(Dn())(I)}},229:(ut,Ie,R)=>{R.d(Ie,{$s:()=>fs,BH:()=>ee,G6:()=>ds,L:()=>le,LL:()=>De,Pz:()=>me,Sg:()=>be,UG:()=>se,US:()=>de,ZB:()=>K,ZR:()=>we,aH:()=>te,b$:()=>ar,eu:()=>ue,hl:()=>ae,jU:()=>wt,m9:()=>Rr,ne:()=>ln,pd:()=>Ut,r3:()=>sn,ru:()=>Vt,tV:()=>L,uI:()=>qe,vZ:()=>si,w1:()=>ls,xO:()=>Da,xb:()=>ii,z$:()=>Pe,zI:()=>ye,zd:()=>pt});const X=function(U){const V=[];let G=0;for(let Ee=0;Ee<U.length;Ee++){let re=U.charCodeAt(Ee);re<128?V[G++]=re:re<2048?(V[G++]=re>>6|192,V[G++]=63&re|128):55296==(64512&re)&&Ee+1<U.length&&56320==(64512&U.charCodeAt(Ee+1))?(re=65536+((1023&re)<<10)+(1023&U.charCodeAt(++Ee)),V[G++]=re>>18|240,V[G++]=re>>12&63|128,V[G++]=re>>6&63|128,V[G++]=63&re|128):(V[G++]=re>>12|224,V[G++]=re>>6&63|128,V[G++]=63&re|128)}return V},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let re=0;re<U.length;re+=3){const nt=U[re],vt=re+1<U.length,Wt=vt?U[re+1]:0,Qt=re+2<U.length,Bn=Qt?U[re+2]:0;let lr=(15&Wt)<<2|Bn>>6,qr=63&Bn;Qt||(qr=64,vt||(lr=64)),Ee.push(G[nt>>2],G[(3&nt)<<4|Wt>>4],G[lr],G[qr])}return Ee.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(X(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let G=0,Ee=0;for(;G<U.length;){const re=U[G++];if(re<128)V[Ee++]=String.fromCharCode(re);else if(re>191&&re<224){const nt=U[G++];V[Ee++]=String.fromCharCode((31&re)<<6|63&nt)}else if(re>239&&re<365){const Qt=((7&re)<<18|(63&U[G++])<<12|(63&U[G++])<<6|63&U[G++])-65536;V[Ee++]=String.fromCharCode(55296+(Qt>>10)),V[Ee++]=String.fromCharCode(56320+(1023&Qt))}else{const nt=U[G++],vt=U[G++];V[Ee++]=String.fromCharCode((15&re)<<12|(63&nt)<<6|63&vt)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const G=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let re=0;re<U.length;){const nt=G[U.charAt(re++)],Wt=re<U.length?G[U.charAt(re)]:0;++re;const Bn=re<U.length?G[U.charAt(re)]:64;++re;const $t=re<U.length?G[U.charAt(re)]:64;if(++re,null==nt||null==Wt||null==Bn||null==$t)throw new fe;Ee.push(nt<<2|Wt>>4),64!==Bn&&(Ee.push(Wt<<4&240|Bn>>2),64!==$t&&Ee.push(Bn<<6&192|$t))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(U){return function(U){const V=X(U);return de.encodeByteArray(V,!0)}(U).replace(/\./g,"")},L=function(U){try{return de.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function K(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const G in V)!V.hasOwnProperty(G)||!Le(G)||(U[G]=K(U[G],V[G]));return U}function Le(U){return"__proto__"!==U}const ke=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&L(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},te=()=>{var U;return null===(U=ke())||void 0===U?void 0:U.config},me=U=>{var V;return null===(V=ke())||void 0===V?void 0:V[`_${U}`]};class ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,G)=>{this.resolve=V,this.reject=G})}wrapCallback(V){return(G,Ee)=>{G?this.reject(G):this.resolve(Ee),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(G):V(G,Ee))}}}function be(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=V||"demo-project",re=U.iat||0,nt=U.sub||U.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:re,exp:re+3600,auth_time:re,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},U);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(vt)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function se(){var U;const V=null===(U=ke())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function wt(){return"object"==typeof self&&self.self===self}function Vt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function ar(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ls(){const U=Pe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ds(){return!se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ue(){return new Promise((U,V)=>{try{let G=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(Ee);re.onsuccess=()=>{re.result.close(),G||self.indexedDB.deleteDatabase(Ee),U(!0)},re.onupgradeneeded=()=>{G=!1},re.onerror=()=>{var nt;V((null===(nt=re.error)||void 0===nt?void 0:nt.message)||"")}}catch(G){V(G)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class we extends Error{constructor(V,G,Ee){super(G),this.code=V,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(V,G,Ee){this.service=V,this.serviceName=G,this.errors=Ee}create(V,...G){const Ee=G[0]||{},re=`${this.service}/${V}`,nt=this.errors[V],vt=nt?function tt(U,V){return U.replace($e,(G,Ee)=>{const re=V[Ee];return null!=re?String(re):`<${Ee}?>`})}(nt,Ee):"Error";return new we(re,`${this.serviceName}: ${vt} (${re}).`,Ee)}}const $e=/\{\$([^}]+)}/g;function sn(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function ii(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function si(U,V){if(U===V)return!0;const G=Object.keys(U),Ee=Object.keys(V);for(const re of G){if(!Ee.includes(re))return!1;const nt=U[re],vt=V[re];if(oi(nt)&&oi(vt)){if(!si(nt,vt))return!1}else if(nt!==vt)return!1}for(const re of Ee)if(!G.includes(re))return!1;return!0}function oi(U){return null!==U&&"object"==typeof U}function Da(U){const V=[];for(const[G,Ee]of Object.entries(U))Array.isArray(Ee)?Ee.forEach(re=>{V.push(encodeURIComponent(G)+"="+encodeURIComponent(re))}):V.push(encodeURIComponent(G)+"="+encodeURIComponent(Ee));return V.length?"&"+V.join("&"):""}function pt(U){const V={};return U.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[re,nt]=Ee.split("=");V[decodeURIComponent(re)]=decodeURIComponent(nt)}}),V}function Ut(U){const V=U.indexOf("?");if(!V)return"";const G=U.indexOf("#",V);return U.substring(V,G>0?G:void 0)}function ln(U,V){const G=new Cn(U,V);return G.subscribe.bind(G)}class Cn{constructor(V,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{V(this)}).catch(Ee=>{this.error(Ee)})}next(V){this.forEachObserver(G=>{G.next(V)})}error(V){this.forEachObserver(G=>{G.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,G,Ee){let re;if(void 0===V&&void 0===G&&void 0===Ee)throw new Error("Missing Observer.");re=function Xt(U,V){if("object"!=typeof U||null===U)return!1;for(const G of V)if(G in U&&"function"==typeof U[G])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:G,complete:Ee},void 0===re.next&&(re.next=cr),void 0===re.error&&(re.error=cr),void 0===re.complete&&(re.complete=cr);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),nt}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,V)}sendOne(V,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{G(this.observers[V])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cr(){}const Hs=1e3,Li=2,Xn=144e5,er=.5;function fs(U,V=Hs,G=Li){const Ee=V*Math.pow(G,U),re=Math.round(er*Ee*(Math.random()-.5)*2);return Math.min(Xn,Ee+re)}function Rr(U){return U&&U._delegate?U._delegate:U}},2445:(ut,Ie,R)=>{var d=R(5879);let Y=null;function P(){return Y}class ne{}const de=new d.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(le)},providedIn:"platform"})}return n})();const Oe=new d.OlP("Location Initialized");let le=(()=>{class n extends fe{constructor(){super(),this._doc=(0,d.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function L(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function $(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function K(n){return n&&"?"!==n[0]?"?"+n:n}let Le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(We)},providedIn:"root"})}return n})();const Ae=new d.OlP("appBaseHref");let We=(()=>{class n extends Le{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return L(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+K(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+K(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+K(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(fe),d.LFG(Ae,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xe=(()=>{class n extends Le{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=L(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+K(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+K(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(fe),d.LFG(Ae,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),Ge=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}($(lt(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+K(r))}normalize(t){return n.stripTrailingSlash(function mt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,lt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+K(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+K(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}static#e=this.normalizeQueryParams=K;static#t=this.joinWithSlash=L;static#n=this.stripTrailingSlash=$;static#r=this.\u0275fac=function(r){return new(r||n)(d.LFG(Le))};static#i=this.\u0275prov=d.Yz7({token:n,factory:function(){return function ke(){return new Ge((0,d.LFG)(Le))}()},providedIn:"root"})}return n})();function lt(n){return n.replace(/\/index.html$/,"")}const gs=/\s+/,Kc=[];let Ma=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this.initialClasses=Kc,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(gs):Kc}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(gs):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(gs).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Au{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ui=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Au(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Yc(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Yc(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Yc(n,e){n.context.$implicit=e.item}let ms=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function xa(n){return"server"===n}let Kr=(()=>{class n{static#e=this.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Yr((0,d.LFG)(de),window)})}return n})();class Yr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class kd extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fa extends kd{static makeCurrent(){!function X(n){Y||(Y=n)}(new Fa)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $f(){return La=La||document.querySelector("base"),La?La.getAttribute("href"):null}();return null==t?null:function Tm(n){Il=Il||document.createElement("a"),Il.setAttribute("href",n);const e=Il.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){La=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Zr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Il,La=null,Ld=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Hu=new d.OlP("EventManagerPlugins");let Am=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Hu),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class Vd{constructor(e){this._doc=e}}const Ko="ng-app-id";let Ud=(()=>{class n{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xa(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ko}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(Ko),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Ko,this.appId),l}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(de),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const po={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bs=/%COMP%/g,Bd=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function mo(n,e){return e.map(t=>t.replace(bs,n))}let en=(()=>{class n{constructor(t,r,o,u,l,m,w,D=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=m,this.ngZone=w,this.nonce=D,this.rendererByCompId=new Map,this.platformIsServer=xa(m),this.defaultRenderer=new Yo(t,l,w,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===d.ifc.ShadowDom&&(r={...r,encapsulation:d.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof ci?o.applyToHost(t):o instanceof ts&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const l=this.doc,m=this.ngZone,w=this.eventManager,D=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,O=this.platformIsServer;switch(r.encapsulation){case d.ifc.Emulated:u=new ci(w,D,r,this.appId,S,l,m,O);break;case d.ifc.ShadowDom:return new Tl(w,D,t,r,l,m,this.nonce,O);default:u=new ts(w,D,r,S,l,m,O)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Am),d.LFG(Ud),d.LFG(d.AFp),d.LFG(Bd),d.LFG(de),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class Yo{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(po[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){($d(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($d(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new d.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=po[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=po[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=P().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function $d(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Tl extends Yo{constructor(e,t,r,o,u,l,m,w){super(e,u,l,w),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=mo(o.id,o.styles);for(const S of D){const O=document.createElement("style");m&&O.setAttribute("nonce",m),O.textContent=S,this.shadowRoot.appendChild(O)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ts extends Yo{constructor(e,t,r,o,u,l,m,w){super(e,u,l,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=w?mo(w,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ci extends ts{constructor(e,t,r,o,u,l,m,w){const D=o+"-"+r.id;super(e,t,r,u,l,m,w,D),this.contentAttr=function es(n){return"_ngcontent-%COMP%".replace(bs,n)}(D),this.hostAttr=function jd(n){return"_nghost-%COMP%".replace(bs,n)}(D)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Qo=(()=>{class n extends Vd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(de))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Hf=["alt","control","meta","shift"],vo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_o={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zu=(()=>{class n extends Vd{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),Hf.forEach(D=>{const S=r.indexOf(D);S>-1&&(r.splice(S,1),l+=D+".")}),l+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=l,w}static matchEventFullKeyCode(t,r){let o=vo[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Hf.forEach(l=>{l!==o&&(0,_o[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(de))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const rr=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Sl(){Fa.makeCurrent()},multi:!0},{provide:de,useFactory:function Gu(){return(0,d.RDi)(document),document},deps:[]}]),Hd=new d.OlP(""),Cr=[{provide:d.rWj,useClass:class Fd{addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new d.vHH(5103,!1);return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const m=function(w){l=l||w,u--,0==u&&r(l)};o.forEach(w=>{w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Jo=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function It(){return new d.qLn},deps:[]},{provide:Hu,useClass:Qo,multi:!0,deps:[de,d.R0b,d.Lbi]},{provide:Hu,useClass:zu,multi:!0,deps:[de]},en,Ud,Am,{provide:d.FYo,useExisting:en},{provide:class ji{},useClass:Ld,deps:[]},[]];let Ws=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Hd,12))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[...Jo,...Cr],imports:[ms,d.hGG]})}return n})(),Va=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(de))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(r){let o=null;return o=r?new r:function xl(){return new Va((0,d.LFG)(de))}(),o},providedIn:"root"})}return n})();typeof window<"u"&&window;let wo=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(r){let o=null;return o=r?new(r||n):d.LFG(zd),o},providedIn:"root"})}return n})(),zd=(()=>{class n extends wo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(de))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(r){let o=null;return o=r?new r:function $i(n){return new zd(n.get(de))}(d.LFG(d.zs3)),o},providedIn:"root"})}return n})();var Dr=R(6304),Hi=R(8645),gt=R(2096),ns=R(5592),dn=R(2459),Yu=R(3019),Ds=R(3093),kn=R(4664),xt=R(7398),gr=R(4552);class Ts extends Hi.x{constructor(e=1/0,t=1/0,r=gr.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=l;w+=2)m=w;m&&r.splice(0,m+1)}}}var on=R(3020);function Ks(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,on.B)({connector:()=>new Ts(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const ja=(0,R(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ei=R(9360),mr=R(8251);function Fr(n,e){return(0,ei.e)((t,r)=>{let o=0;t.subscribe((0,mr.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var li=R(6232);function Nn(n){return n<=0?()=>li.E:(0,ei.e)((e,t)=>{let r=0;e.subscribe((0,mr.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Xo(n){return(0,ei.e)((e,t)=>{let r=!1;e.subscribe((0,mr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function ea(n=Qu){return(0,ei.e)((e,t)=>{let r=!1;e.subscribe((0,mr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Qu(){return new ja}var As=R(2737);function Ss(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fr((o,u)=>n(o,u,r)):As.y,Nn(1),t?Xo(e):ea(()=>new ja))}var Ys=R(4674);function $a(n,e){return(0,Ys.m)(e)?(0,kn.w)(()=>n,e):(0,kn.w)(()=>n)}var Ha=R(5137),pn=R(6106);R(4097);var pe=R(5861),ir=R(1571),Eo=R(6820),zt=R(229),di=R(4287);const Qs=new Map,Io={activated:!1,tokenObservers:[]},na={initialized:!1,enabled:!1};function gn(n){return Qs.get(n)||Object.assign({},Io)}function bo(){return na}const tc="https://content-firebaseappcheck.googleapis.com/v1",nc="exchangeDebugToken",Js={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Bl{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new zt.BH,yield function Jd(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Dn=new zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ms(n){if(!gn(n).activated)throw Dn.create("use-before-activation",{appName:n.name})}function Wa(n,e){return rc.apply(this,arguments)}function rc(){return(rc=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const O=yield o.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(O){throw Dn.create("fetch-network-error",{originalErrorMessage:O?.message})}if(200!==l.status)throw Dn.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(O){throw Dn.create("fetch-parse-error",{originalErrorMessage:O?.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Dn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(w[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+D,issuedAtTimeMillis:S}})).apply(this,arguments)}function I(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${tc}/projects/${t}/apps/${r}:${nc}?key=${o}`,body:{debug_token:e}}}const C="firebase-app-check-database",M=1,k="firebase-app-check-store";let q=null;function hi(){return(hi=(0,pe.Z)(function*(n,e){const r=(yield function ce(){return q||(q=new Promise((n,e)=>{try{const t=indexedDB.open(C,M);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Dn.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(k,{keyPath:"compositeKey"})}}catch(t){e(Dn.create("storage-open",{originalErrorMessage:t?.message}))}}),q)}()).transaction(k,"readwrite"),u=r.objectStore(k).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=w=>{l()},r.onerror=w=>{var D;m(Dn.create("storage-set",{originalErrorMessage:null===(D=w.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const an=new di.Yd("@firebase/app-check");function sc(n,e){return(0,zt.hl)()?function ze(n,e){return function At(n,e){return hi.apply(this,arguments)}(function ic(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{an.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Yf(){return bo().enabled}function sa(){return oa.apply(this,arguments)}function oa(){return(oa=(0,pe.Z)(function*(){const n=bo();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const b_={error:"UNKNOWN_ERROR"};function km(n){return zt.US.encodeString(JSON.stringify(n),!1)}function Qf(n){return fi.apply(this,arguments)}function fi(){return(fi=(0,pe.Z)(function*(n,e=!1){const t=n.app;Ms(t);const r=gn(t);let u,o=r.token;if(o&&!oc(o)&&(r.token=void 0,o=void 0),!o){const w=yield r.cachedTokenPromise;w&&(oc(w)?o=w:yield sc(t,void 0))}if(!e&&o&&oc(o))return{token:o.token};let m,l=!1;if(Yf()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Wa(I(t,yield sa()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const w=yield r.exchangeTokenPromise;return yield sc(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield gn(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?an.warn(w.message):an.error(w),u=w}return o?u?m=oc(o)?{token:o.token,internalError:u}:Vm(u):(m={token:o.token},r.token=o,yield sc(t,o)):m=Vm(u),l&&function ua(n,e){const t=gn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function eh(n){return aa.apply(this,arguments)}function aa(){return(aa=(0,pe.Z)(function*(n){const e=n.app;Ms(e);const{provider:t}=gn(e);if(Yf()){const r=yield sa(),{token:o}=yield Wa(I(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Hl(n,e){const t=gn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Lm(n){const{app:e}=n,t=gn(e);let r=t.tokenRefresher;r||(r=function KE(n){const{app:e}=n;return new Bl((0,pe.Z)(function*(){let r;if(r=gn(e).token?yield Qf(n,!0):yield Qf(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=gn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Js.RETRIAL_MIN_WAIT,Js.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function oc(n){return n.expireTimeMillis-Date.now()>0}function Vm(n){return{token:km(b_),error:n}}class Jf{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gn(this.app);for(const t of e)Hl(this.app,t.next);return Promise.resolve()}}const ip="app-check-internal";!function XE(){(0,ir._registerComponent)(new Eo.wA("app-check",n=>function Xf(n,e){return new Jf(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ip).initialize()})),(0,ir._registerComponent)(new Eo.wA(ip,n=>function ac(n){return{getToken:e=>Qf(n,e),getLimitedUseToken:()=>eh(n),addTokenListener:e=>function Fm(n,e,t,r){const{app:o}=n,u=gn(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&oc(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),Lm(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Lm(n))}(n,"INTERNAL",e),removeTokenListener:e=>Hl(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ir.registerVersion)("@firebase/app-check","0.8.0")}();class lc{constructor(){return(0,pn.vb)("app-check")}}typeof window<"u"&&window;var ah=R(120);const Wl=new d.OlP("angularfire2.auth.use-emulator"),hc=new d.OlP("angularfire2.auth.settings"),Kl=new d.OlP("angularfire2.auth.tenant-id"),Co=new d.OlP("angularfire2.auth.langugage-code"),ap=new d.OlP("angularfire2.auth.use-device-language"),Gm=new d.OlP("angularfire.auth.persistence"),up=(n,e,t,r,o,u,l,m)=>(0,Dr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,u&&w.useDeviceLanguage(),l)for(const[D,S]of Object.entries(l))w.settings[D]=S;return m&&w.setPersistence(m),w},[t,r,o,u,l,m]);let Do=(()=>{class n{constructor(t,r,o,u,l,m,w,D,S,O,B,J){const _e=new Hi.x,Ve=(0,gt.of)(void 0).pipe((0,Ds.Q)(l.outsideAngular),(0,kn.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,8977)))),(0,xt.U)(()=>(0,Dr.on)(t,u,r)),(0,xt.U)(Ue=>up(Ue,u,m,D,S,O,w,B)),Ks({bufferSize:1,refCount:!1}));if(xa(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,gt.of)(null);else{Ve.pipe(Ss()).subscribe();const ft=Ve.pipe((0,kn.w)(Ot=>Ot.getRedirectResult().then(Zt=>Zt,()=>null)),pn.iC,Ks({bufferSize:1,refCount:!1})),bt=Ve.pipe((0,kn.w)(Ot=>new ns.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>Ot.onAuthStateChanged(un=>Zt.next(un),un=>Zt.error(un),()=>Zt.complete()))})))),Et=Ve.pipe((0,kn.w)(Ot=>new ns.y(Zt=>({unsubscribe:u.runOutsideAngular(()=>Ot.onIdTokenChanged(un=>Zt.next(un),un=>Zt.error(un),()=>Zt.complete()))}))));this.authState=ft.pipe($a(bt),(0,Ha.R)(l.outsideAngular),(0,Ds.Q)(l.insideAngular)),this.user=ft.pipe($a(Et),(0,Ha.R)(l.outsideAngular),(0,Ds.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,kn.w)(Ot=>Ot?(0,dn.D)(Ot.getIdToken()):(0,gt.of)(null))),this.idTokenResult=this.user.pipe((0,kn.w)(Ot=>Ot?(0,dn.D)(Ot.getIdTokenResult()):(0,gt.of)(null))),this.credential=(0,Yu.T)(ft,_e,this.authState.pipe(Fr(Ot=>!Ot))).pipe((0,xt.U)(Ot=>Ot?.user?Ot:null),(0,Ha.R)(l.outsideAngular),(0,Ds.Q)(l.insideAngular))}return(0,Dr.pX)(this,Ve,u,{spy:{apply:(Ue,ft,bt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&bt.then(Et=>_e.next(Et))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Dr.Dh),d.LFG(Dr.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(pn.HU),d.LFG(Wl,8),d.LFG(hc,8),d.LFG(Kl,8),d.LFG(Co,8),d.LFG(ap,8),d.LFG(Gm,8),d.LFG(lc,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qm=(()=>{class n{constructor(){ah.Z.registerVersion("angularfire",pn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Do]}),n})();const{isArray:Ai}=Array,{getPrototypeOf:cp,prototype:ch,keys:N_}=Object;function to(n){if(1===n.length){const e=n[0];if(Ai(e))return{args:e,keys:null};if(function Tr(n){return n&&"object"==typeof n&&cp(n)===ch}(e)){const t=N_(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ja=R(4829),Xa=R(4564);const{isArray:lp}=Array;function fc(n){return(0,xt.U)(e=>function Ar(n,e){return lp(e)?n(...e):n(e)}(n,e))}function dp(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let Wm=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.Qsj),d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:n})}return n})(),v=(()=>{class n extends Wm{static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(n)))(o||n)}}();static#t=this.\u0275dir=d.lG2({type:n,features:[d.qOj]})}return n})();const f=new d.OlP("NgValueAccessor"),A={provide:f,useExisting:(0,d.Gpc)(()=>Z),multi:!0},j=new d.OlP("CompositionEventMode");let Z=(()=>{class n extends Wm{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function N(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(j,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&d.NdJ("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[d._Bn([A]),d.qOj]})}return n})();function Ce(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function je(n){return null!=n&&"number"==typeof n.length}const Be=new d.OlP("NgValidators"),Je=new d.OlP("NgAsyncValidators"),Ln=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hn{static min(e){return pc(e)}static max(e){return lh(e)}static required(e){return To(e)}static requiredTrue(e){return function gc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function dh(n){return Ce(n.value)||Ln.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function mc(n){return e=>Ce(e.value)||!je(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function yc(n){return e=>je(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function hp(n){if(!n)return vc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ce(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Qm(e)}static composeAsync(e){return sI(e)}}function pc(n){return e=>{if(Ce(e.value)||Ce(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function lh(n){return e=>{if(Ce(e.value)||Ce(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function To(n){return Ce(n.value)?{required:!0}:null}function vc(n){return null}function fp(n){return null!=n}function Km(n){return(0,d.QGY)(n)?(0,dn.D)(n):n}function hh(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Ym(n,e){return e.map(t=>t(n))}function pp(n){return n.map(e=>function iI(n){return!n.validate}(e)?e:t=>e.validate(t))}function Qm(n){if(!n)return null;const e=n.filter(fp);return 0==e.length?null:function(t){return hh(Ym(t,e))}}function gp(n){return null!=n?Qm(pp(n)):null}function sI(n){if(!n)return null;const e=n.filter(fp);return 0==e.length?null:function(t){return function Zm(...n){const e=(0,Xa.jO)(n),{args:t,keys:r}=to(n),o=new ns.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let w=l,D=l;for(let S=0;S<l;S++){let O=!1;(0,Ja.Xf)(t[S]).subscribe((0,mr.x)(u,B=>{O||(O=!0,D--),m[S]=B},()=>w--,void 0,()=>{(!w||!O)&&(D||u.next(r?dp(r,m):m),u.complete())}))}});return e?o.pipe(fc(e)):o}(Ym(t,e).map(Km)).pipe((0,xt.U)(hh))}}function O_(n){return null!=n?sI(pp(n)):null}function Jm(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function R_(n){return n._rawValidators}function _c(n){return n._rawAsyncValidators}function Xm(n){return n?Array.isArray(n)?n:[n]:[]}function mp(n,e){return Array.isArray(n)?n.includes(e):n===e}function oI(n,e){const t=Xm(e);return Xm(n).forEach(o=>{mp(t,o)||t.push(o)}),t}function TT(n,e){return Xm(e).filter(t=>!mp(n,t))}class yp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=O_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class qi extends yp{get formDirective(){return null}get path(){return null}}class eu extends yp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P_{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fh=(()=>{class n extends P_{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(eu,2))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&d.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[d.qOj]})}return n})(),wc=(()=>{class n extends P_{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(qi,10))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&d.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[d.qOj]})}return n})();const wp="VALID",ty="INVALID",Ep="PENDING",Ip="DISABLED";function bp(n){return(gh(n)?n.validators:n)||null}function Ec(n,e){return(gh(e)?e.asyncValidators:n)||null}function gh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function V_(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")}function U_(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new d.vHH(1002,"")})}class Cp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wp}get invalid(){return this.status===ty}get pending(){return this.status==Ep}get disabled(){return this.status===Ip}get enabled(){return this.status!==Ip}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TT(e,this._rawAsyncValidators))}hasValidator(e){return mp(this._rawValidators,e)}hasAsyncValidator(e){return mp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ep,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ip,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wp||this.status===Ep)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ip:wp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ep,this._hasOwnPendingAsyncValidator=!0;const t=Km(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ip:this.errors?ty:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ep)?Ep:this._anyControlsHaveStatus(ty)?ty:wp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function MT(n){return Array.isArray(n)?gp(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function ny(n){return Array.isArray(n)?O_(n):n||null}(this._rawAsyncValidators)}}class Ao extends Cp{constructor(e,t,r){super(bp(t),Ec(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){U_(this,0,e),Object.keys(e).forEach(r=>{V_(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class hI extends Ao{}const Ql=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xs}),xs="always";function tu(n,e){return[...e.path,n]}function Dp(n,e,t=xs){B_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function fI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pI(n,e)})}(n,e),function OT(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function NT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xT(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ry(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function iy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function B_(n,e){const t=R_(n);null!==e.validator?n.setValidators(Jm(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=_c(n);null!==e.asyncValidator?n.setAsyncValidators(Jm(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();iy(e._rawValidators,o),iy(e._rawAsyncValidators,o)}function sy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=R_(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=_c(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return iy(e._rawValidators,r),iy(e._rawAsyncValidators,r),t}function pI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gI(n,e){B_(n,e)}function mI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function kT(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ap(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Z?t=u:function C1(n){return Object.getPrototypeOf(n.constructor)===v}(u)?r=u:o=u}),o||r||t||null}const D1={provide:qi,useExisting:(0,d.Gpc)(()=>uy)},mh=(()=>Promise.resolve())();let uy=(()=>{class n extends qi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Ao({},gp(t),O_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){mh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Dp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){mh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){mh.then(()=>{const r=this._findContainer(t.path),o=new Ao({});gI(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){mh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){mh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,kT(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Be,10),d.Y36(Je,10),d.Y36(Ql,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){1&r&&d.NdJ("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([D1]),d.qOj]})}return n})();function yI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function vI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Sp=class extends Cp{constructor(e=null,t,r){super(bp(t),Ec(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=vI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){vI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},z_={provide:eu,useExisting:(0,d.Gpc)(()=>G_)},wI=(()=>Promise.resolve())();let G_=(()=>{class n extends eu{constructor(t,r,o,u,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new Sp,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ap(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),mI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,d.VuI)(r);wI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?tu(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(qi,9),d.Y36(Be,10),d.Y36(Je,10),d.Y36(f,10),d.Y36(d.sBO,8),d.Y36(Ql,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([z_]),d.qOj,d.TTD]})}return n})(),Mp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const VT={provide:f,useExisting:(0,d.Gpc)(()=>xp),multi:!0};let xp=(()=>{class n extends v{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(n)))(o||n)}}();static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){1&r&&d.NdJ("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},features:[d._Bn([VT]),d.qOj]})}return n})(),vh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const dy=new d.OlP("NgModelWithFormControlWarning"),II={provide:qi,useExisting:(0,d.Gpc)(()=>nu)};let nu=(()=>{class n extends qi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Dp(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ry(t.control||null,t,!1),function j_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,kT(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(ry(r||null,t),(n=>n instanceof Sp)(o)&&(Dp(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);gI(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function oy(n,e){return sy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){B_(this.form,this),this._oldForm&&sy(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Be,10),d.Y36(Je,10),d.Y36(Ql,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&d.NdJ("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([II]),d.qOj,d.TTD]})}return n})();const bI={provide:eu,useExisting:(0,d.Gpc)(()=>So)};let So=(()=>{class n extends eu{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,o,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ap(0,u)}ngOnChanges(t){this._added||this._setUpControl(),mI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return tu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(d.Y36(qi,13),d.Y36(Be,10),d.Y36(Je,10),d.Y36(f,10),d.Y36(dy,8))};static#n=this.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([bI]),d.qOj,d.TTD]})}return n})();const jT={provide:f,useExisting:(0,d.Gpc)(()=>Pp),multi:!0};function hy(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Pp=(()=>{class n extends v{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=hy(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function fy(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(n)))(o||n)}}();static#t=this.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){1&r&&d.NdJ("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([jT]),d.qOj]})}return n})(),_h=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(hy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Pp,9))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const py={provide:f,useExisting:(0,d.Gpc)(()=>K_),multi:!0};function Mo(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let K_=(()=>{class n extends v{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let m=0;m<l.length;m++){const D=this._getOptionValue(l[m].value);o.push(D)}}else{const l=r.options;for(let m=0;m<l.length;m++){const w=l[m];if(w.selected){const D=this._getOptionValue(w.value);o.push(D)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function wh(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(n)))(o||n)}}();static#t=this.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){1&r&&d.NdJ("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([py]),d.qOj]})}return n})(),gy=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Mo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Mo(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(K_,9))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();function Jl(n){return"number"==typeof n?n:parseFloat(n)}let Xl=(()=>{class n{constructor(){this._validator=vc}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=d.lG2({type:n,features:[d.TTD]})}return n})();const $T={provide:Be,useExisting:(0,d.Gpc)(()=>my),multi:!0};let my=(()=>{class n extends Xl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Jl(t),this.createValidator=t=>lh(t)}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(n)))(o||n)}}();static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&d.uIk("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[d._Bn([$T]),d.qOj]})}return n})();const Q_={provide:Be,useExisting:(0,d.Gpc)(()=>kp),multi:!0};let kp=(()=>{class n extends Xl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Jl(t),this.createValidator=t=>pc(t)}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(n)))(o||n)}}();static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&d.uIk("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[d._Bn([Q_]),d.qOj]})}return n})();const HT={provide:Be,useExisting:(0,d.Gpc)(()=>ru),multi:!0};let ru=(()=>{class n extends Xl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.VuI,this.createValidator=t=>To}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(n)))(o||n)}}();static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){2&r&&d.uIk("required",o._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([HT]),d.qOj]})}return n})(),vy=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[vh]})}return n})();class Eh extends Cp{constructor(e,t,r){super(bp(t),Ec(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){U_(this,0,e),e.forEach((r,o)=>{V_(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function _y(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Up=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return _y(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Ao(o,u)}record(t,r=null){const o=this._reduceControls(t);return new hI(o,r)}control(t,r,o){let u={};return this.useNonNullable?(_y(r)?u=r:(u.validators=r,u.asyncValidators=o),new Sp(t,{...u,nonNullable:!0})):new Sp(t,r,o)}array(t,r,o){const u=t.map(l=>this._createControl(l));return new Eh(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Sp||t instanceof Cp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ql,useValue:t.callSetDisabledState??xs}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[vy]})}return n})(),WT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dy,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ql,useValue:t.callSetDisabledState??xs}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[vy]})}return n})();var xo=R(5619),KT=R(7103);function jp(...n){const e=(0,Xa.yG)(n),t=(0,Xa.jO)(n),{args:r,keys:o}=to(n);if(0===r.length)return(0,dn.D)([],e);const u=new ns.y(function NI(n,e,t=As.y){return r=>{OI(e,()=>{const{length:o}=n,u=new Array(o);let l=o,m=o;for(let w=0;w<o;w++)OI(e,()=>{const D=(0,dn.D)(n[w],e);let S=!1;D.subscribe((0,mr.x)(r,O=>{u[w]=O,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>dp(o,l):As.y));return t?u.pipe(fc(t)):u}function OI(n,e,t){n?(0,KT.f)(t,n,e):e()}var $p=R(7537);function e0(...n){return function O1(){return(0,$p.J)(1)}()((0,dn.D)(n,(0,Xa.yG)(n)))}function Hp(n){return new ns.y(e=>{(0,Ja.Xf)(n()).subscribe(e)})}var t0=R(8407);function zp(n,e){const t=(0,Ys.m)(n)?n:()=>n,r=o=>o.error(t());return new ns.y(e?o=>e.schedule(r,0,o):r)}var wy=R(7394);function Gp(){return(0,ei.e)((n,e)=>{let t=null;n._refCount++;const r=(0,mr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class qp extends ns.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ei.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wy.w0;const t=this.getSubject();e.add(this.source.subscribe((0,mr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wy.w0.EMPTY)}return e}refCount(){return Gp()(this)}}function Ey(...n){const e=(0,Xa.yG)(n);return(0,ei.e)((t,r)=>{(e?e0(n,t,e):e0(n,t)).subscribe(r)})}var Si=R(1631);function Zp(n,e){return(0,Ys.m)(e)?(0,Si.z)(n,e,1):(0,Si.z)(n,1)}var pi=R(9397);function Ih(n){return(0,ei.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,mr.x)(t,void 0,void 0,l=>{u=(0,Ja.Xf)(n(l,Ih(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ed(n,e){return(0,ei.e)(function YT(n,e,t,r,o){return(u,l)=>{let m=t,w=e,D=0;u.subscribe((0,mr.x)(l,S=>{const O=D++;w=m?n(w,S,O):(m=!0,S),r&&l.next(w)},o&&(()=>{m&&l.next(w),l.complete()})))}}(n,e,arguments.length>=2,!0))}function n0(n){return n<=0?()=>li.E:(0,ei.e)((e,t)=>{let r=[];e.subscribe((0,mr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function r0(n){return(0,ei.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var RI=R(2420);const jt="primary",Kp=Symbol("RouteTitle");class PI{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function td(n){return new PI(n)}function s0(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))o[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function no(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!o0(n[o],e[o]))return!1;return!0}function o0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function kI(n){return n.length>0?n[n.length-1]:null}function bc(n){return function xI(n){return!!n&&(n instanceof ns.y||(0,Ys.m)(n.lift)&&(0,Ys.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?(0,dn.D)(Promise.resolve(n)):(0,gt.of)(n)}const FI={exact:function VI(n,e,t){if(!iu(n.segments,e.segments)||!rs(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!VI(n.children[r],e.children[r],t))return!1;return!0},subset:u0},LI={exact:function JT(n,e){return no(n,e)},subset:function P1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>o0(n[t],e[t]))},ignored:()=>!0};function a0(n,e,t){return FI[t.paths](n.root,e.root,t.matrixParams)&&LI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function u0(n,e,t){return c0(n,e,e.segments,t)}function c0(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!iu(o,t)||e.hasChildren()||!rs(o,t,r))}if(n.segments.length===t.length){if(!iu(n.segments,t)||!rs(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!u0(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(iu(n.segments,o)&&rs(n.segments,o,r)&&n.children[jt])&&c0(n.children[jt],e,u,r)}}function rs(n,e,t){return e.every((r,o)=>LI[t](n[o].parameters,r.parameters))}class nd{constructor(e=new En([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=td(this.queryParams)),this._queryParamMap}toString(){return d0.serialize(this)}}class En{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ns(this)}}class rd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=td(this.parameters)),this._parameterMap}toString(){return jI(this)}}function iu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Iy=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return new l0},providedIn:"root"})}return n})();class l0{parse(e){const t=new Th(e);return new nd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ch(e.root,!0)}`,r=function $I(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${h0(t)}=${h0(o)}`).join("&"):`${h0(t)}=${h0(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ti(n){return encodeURI(n)}(e.fragment)}`:""}`}}const d0=new l0;function Ns(n){return n.segments.map(e=>jI(e)).join("/")}function Ch(n,e){if(!n.hasChildren())return Ns(n);if(e){const t=n.children[jt]?Ch(n.children[jt],!1):"",r=[];return Object.entries(n.children).forEach(([o,u])=>{o!==jt&&r.push(`${o}:${Ch(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function XT(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===jt&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==jt&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===jt?[Ch(n.children[jt],!1)]:[`${o}:${Ch(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${Ns(n)}/${t[0]}`:`${Ns(n)}/(${t.join("//")})`}}function UI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function h0(n){return UI(n).replace(/%3B/gi,";")}function f0(n){return UI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dh(n){return decodeURIComponent(n)}function BI(n){return Dh(n.replace(/\+/g,"%20"))}function jI(n){return`${f0(n.path)}${function p0(n){return Object.keys(n).map(e=>`;${f0(e)}=${f0(n[e])}`).join("")}(n.parameters)}`}const HI=/^[^\/()?;#]+/;function g0(n){const e=n.match(HI);return e?e[0]:""}const zI=/^[^\/()?;=#]+/,eA=/^[^=?&#]+/,nA=/^[^&#]+/;class Th{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new En([],{}):new En([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[jt]=new En(e,t)),r}parseSegment(){const e=g0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new rd(Dh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function GI(n){const e=n.match(zI);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=g0(this.remaining);o&&(r=o,this.capture(r))}e[Dh(t)]=Dh(r)}parseQueryParam(e){const t=function tA(n){const e=n.match(eA);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function qI(n){const e=n.match(nA);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=BI(t),u=BI(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=g0(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new d.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=jt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[jt]:new En([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function ca(n){return n.segments.length>0?new En([],{[jt]:n}):n}function id(n){const e={};for(const r of Object.keys(n.children)){const u=id(n.children[r]);if(r===jt&&0===u.segments.length&&u.hasChildren())for(const[l,m]of Object.entries(u.children))e[l]=m;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function rA(n){if(1===n.numberOfChildren&&n.children[jt]){const e=n.children[jt];return new En(n.segments.concat(e.segments),e.children)}return n}(new En(n.segments,e))}function sd(n){return n instanceof nd}function m0(n){let e;const o=ca(function t(u){const l={};for(const w of u.children){const D=t(w);l[w.outlet]=D}const m=new En(u.url,l);return u===n&&(e=m),m}(n.root));return e??o}function by(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return Cy(o,o,o,t,r);const u=function iA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new WI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Object.entries(u.outlets).forEach(([w,D])=>{m[w]="string"==typeof D?D.split("/"):D}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new WI(t,e,r)}(e);if(u.toRoot())return Cy(o,o,new En([],{}),t,r);const l=function sA(n,e,t){if(n.isAbsolute)return new Dy(e,!0,0);if(!t)return new Dy(e,!1,NaN);if(null===t.parent)return new Dy(t,!0,0);const r=Dc(n.commands[0])?0:1;return function KI(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new d.vHH(4005,!1);o=r.segments.length}return new Dy(r,!1,o-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,o,n),m=l.processChildren?Ty(l.segmentGroup,l.index,u.commands):YI(l.segmentGroup,l.index,u.commands);return Cy(o,l.segmentGroup,m,t,r)}function Dc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tc(n){return"object"==typeof n&&null!=n&&n.outlets}function Cy(n,e,t,r,o){let l,u={};r&&Object.entries(r).forEach(([w,D])=>{u[w]=Array.isArray(D)?D.map(S=>`${S}`):`${D}`}),l=n===e?t:y0(n,e,t);const m=ca(id(l));return new nd(m,u,o)}function y0(n,e,t){const r={};return Object.entries(n.children).forEach(([o,u])=>{r[o]=u===e?t:y0(u,e,t)}),new En(n.segments,r)}class WI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Dc(r[0]))throw new d.vHH(4003,!1);const o=r.find(Tc);if(o&&o!==kI(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function YI(n,e,t){if(n||(n=new En([],{})),0===n.segments.length&&n.hasChildren())return Ty(n,e,t);const r=function F1(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],m=t[r];if(Tc(m))break;const w=`${m}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&D&&"object"==typeof D&&void 0===D.outlets){if(!Yp(w,D,l))return u;r+=2}else{if(!Yp(w,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new En(n.segments.slice(0,r.pathIndex),{});return u.children[jt]=new En(n.segments.slice(r.pathIndex),n.children),Ty(u,0,o)}return r.match&&0===o.length?new En(n.segments,{}):r.match&&!n.hasChildren()?Ay(n,e,t):r.match?Ty(n,0,o):Ay(n,e,t)}function Ty(n,e,t){if(0===t.length)return new En(n.segments,{});{const r=function k1(n){return Tc(n[0])?n[0].outlets:{[jt]:n}}(t),o={};if(Object.keys(r).some(u=>u!==jt)&&n.children[jt]&&1===n.numberOfChildren&&0===n.children[jt].segments.length){const u=Ty(n.children[jt],e,t);return new En(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[u]=YI(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(o[u]=l)}),new En(n.segments,o)}}function Ay(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Tc(u)){const w=QI(u.outlets);return new En(r,w)}if(0===o&&Dc(t[0])){r.push(new rd(n.segments[e].path,oA(t[0]))),o++;continue}const l=Tc(u)?u.outlets[jt]:`${u}`,m=o<t.length-1?t[o+1]:null;l&&m&&Dc(m)?(r.push(new rd(l,oA(m))),o+=2):(r.push(new rd(l,{})),o++)}return new En(r,{})}function QI(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Ay(new En([],{}),0,r))}),e}function oA(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Yp(n,e,t){return n==t.path&&no(e,t.parameters)}const Ah="imperative";class No{constructor(e,t){this.id=e,this.url=t}}class Sy extends No{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class su extends No{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sh extends No{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class St extends No{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class Qp extends No{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class v0 extends No{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mh extends No{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JI extends No{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aA extends No{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class My extends No{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xh{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _0{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XI{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w0{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ny{}class Xp{constructor(e){this.url=e}}class uA{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new eg,this.attachRef=null}}let eg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uA,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class I0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=b0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=b0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=C0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return C0(e,this._root).map(t=>t.value)}}function b0(n,e){if(n===e.value)return e;for(const t of e.children){const r=b0(n,t);if(r)return r}return null}function C0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=C0(n,t);if(r.length)return r.unshift(e),r}return[]}class ou{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Nh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class D0 extends I0{constructor(e,t){super(e),this.snapshot=t,tg(this,e)}toString(){return this.snapshot.toString()}}function T0(n,e){const t=function cA(n,e){const l=new Oy([],{},{},"",{},jt,e,null,{});return new dA("",new ou(l,[]))}(0,e),r=new xo.X([new rd("",{})]),o=new xo.X({}),u=new xo.X({}),l=new xo.X({}),m=new xo.X(""),w=new od(r,o,l,m,u,jt,e,t.root);return w.snapshot=t.root,new D0(new ou(w,[]),t)}class od{constructor(e,t,r,o,u,l,m,w){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=l,this.component=m,this._futureSnapshot=w,this.title=this.dataSubject?.pipe((0,xt.U)(D=>D[Kp]))??(0,gt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>td(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>td(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function is(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function lA(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Oy{get title(){return this.data?.[Kp]}constructor(e,t,r,o,u,l,m,w,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=m,this.routeConfig=w,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=td(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=td(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dA extends I0{constructor(e,t){super(t),this.url=e,tg(this,t)}toString(){return A0(this._root)}}function tg(n,e){e.value._routerState=n,e.children.forEach(t=>tg(n,t))}function A0(n){const e=n.children.length>0?` { ${n.children.map(A0).join(", ")} } `:"";return`${n.value}${e}`}function S0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,no(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),no(e.params,t.params)||n.paramsSubject.next(t.params),function R1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!no(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),no(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function M0(n,e){const t=no(n.params,e.params)&&function Cc(n,e){return iu(n,e)&&n.every((t,r)=>no(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||M0(n.parent,e.parent))}let x0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(eg),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Ry,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const o=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new eb(t,m,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]})}return n})();class eb{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===od?this.route:e===eg?this.childContexts:this.parent.get(e,t)}}const Ry=new d.OlP("");let tb=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=jp([r.queryParams,r.params,r.data]).pipe((0,kn.w)(([u,l,m],w)=>(m={...u,...l,...m},0===w?(0,gt.of)(m):Promise.resolve(m)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,d.qFp)(r.component);if(l)for(const{templateName:m}of l.inputs)t.activatedComponentRef.setInput(m,u[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function ng(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function hA(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return ng(n,r,o);return ng(n,r)})}(n,e,t);return new ou(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>ng(n,m)),l}}const r=function fA(n){return new od(new xo.X(n.url),new xo.X(n.params),new xo.X(n.queryParams),new xo.X(n.fragment),new xo.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>ng(n,u));return new ou(r,o)}}const O0="ngNavigationCancelingError";function nb(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=sd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Oo(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Oo(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[O0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function rb(n){return n&&n[O0]}let P0=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(r,o){1&r&&d._UZ(0,"router-outlet")},dependencies:[x0],encapsulation:2})}return n})();function Py(n){const e=n.children&&n.children.map(Py),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==jt&&(t.component=P0),t}function Os(n){return n.outlet||jt}function rg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class vA{constructor(e,t,r,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),S0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Nh(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Nh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Nh(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=Nh(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new E0(u.value.snapshot))}),e.children.length&&this.forwardEvent(new XI(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(S0(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),S0(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=rg(o.snapshot);l.attachRef=null,l.route=o,l.injector=m,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class L0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ky{constructor(e,t){this.component=e,this.route=t}}function Fy(n,e,t){const r=n._root;return Ac(r,e?e._root:null,t,[r.value])}function ad(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Ac(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Nh(e);return n.children.forEach(l=>{(function B1(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const w=function _A(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!iu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!iu(n.url,e.url)||!no(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M0(n,e)||!no(n.queryParams,e.queryParams);default:return!M0(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new L0(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Ac(n,e,u.component?m?m.children:null:t,r,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new ky(m.outlet.component,l))}else l&&Oh(e,m,o),o.canActivateChecks.push(new L0(r)),Ac(n,null,u.component?m?m.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,m])=>Oh(m,t.getContext(l),o)),o}function Oh(n,e,t){const r=Nh(n),o=n.value;Object.entries(r).forEach(([u,l])=>{Oh(l,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new ky(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Rh(n){return"function"==typeof n}function lb(n){return n instanceof ja||"EmptyError"===n?.name}const Ly=Symbol("INITIAL_VALUE");function la(){return(0,kn.w)(n=>jp(n.map(e=>e.pipe(Nn(1),Ey(Ly)))).pipe((0,xt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ly)return Ly;if(!1===t||t instanceof nd)return t}return!0}),Fr(e=>e!==Ly),Nn(1)))}function Vy(n){return(0,t0.z)((0,pi.b)(e=>{if(sd(e))throw nb(0,e)}),(0,xt.U)(e=>!0===e))}class ud{constructor(e){this.segmentGroup=e||null}}class hb{constructor(e){this.urlTree=e}}function Ph(n){return zp(new ud(n))}function fb(n){return zp(new hb(n))}class kA{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,gt.of)(r);if(o.numberOfChildren>1||!o.children[jt])return zp(new d.vHH(4e3,!1));o=o.children[jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new nd(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);r[o]=t[m]}else r[o]=u}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Object.entries(t.children).forEach(([m,w])=>{l[m]=this.createSegmentGroup(e,w,r,o)}),new En(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new d.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const V0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pb(n,e,t,r,o){const u=Uy(n,e,t);return u.matched?(r=function pA(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function OA(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,gt.of)(!0);const u=o.map(l=>{const m=ad(l,n);return bc(function IA(n){return n&&Rh(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,gt.of)(u).pipe(la(),Vy())}(r,e,t).pipe((0,xt.U)(l=>!0===l?u:{...V0}))):(0,gt.of)(u)}function Uy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...V0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||s0)(t,n,e);if(!o)return{...V0};const u={};Object.entries(o.posParams??{}).forEach(([m,w])=>{u[m]=w.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function gb(n,e,t,r){return t.length>0&&function yb(n,e,t){return t.some(r=>cd(n,e,r)&&Os(r)!==jt)}(n,t,r)?{segmentGroup:new En(e,mb(r,new En(t,n.children))),slicedSegments:[]}:0===t.length&&function $1(n,e,t){return t.some(r=>cd(n,e,r))}(n,t,r)?{segmentGroup:new En(n.segments,j1(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new En(n.segments,n.children),slicedSegments:t}}function j1(n,e,t,r,o){const u={};for(const l of r)if(cd(n,t,l)&&!o[Os(l)]){const m=new En([],{});u[Os(l)]=m}return{...o,...u}}function mb(n,e){const t={};t[jt]=e;for(const r of n)if(""===r.path&&Os(r)!==jt){const o=new En([],{});t[Os(r)]=o}return t}function cd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class VA{constructor(e,t,r,o,u,l,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new kA(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=gb(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,jt).pipe(Ih(t=>{if(t instanceof hb)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof ud?this.noMatchError(t):t}),(0,xt.U)(t=>{const r=new Oy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),o=new ou(r,t),u=new dA("",o),l=function ZI(n,e,t=null,r=null){return by(m0(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,jt).pipe(Ih(r=>{throw r instanceof ud?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=is(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,dn.D)(o).pipe(Zp(u=>{const l=r.children[u],m=function au(n,e){const t=n.filter(r=>Os(r)===e);return t.push(...n.filter(r=>Os(r)!==e)),t}(t,u);return this.processSegmentGroup(e,m,l,u)}),ed((u,l)=>(u.push(...l),u)),Xo(null),function bh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fr((o,u)=>n(o,u,r)):As.y,n0(1),t?Xo(e):ea(()=>new ja))}(),(0,Si.z)(u=>{if(null===u)return Ph(r);const l=gi(u);return function da(n){n.sort((e,t)=>e.value.outlet===jt?-1:t.value.outlet===jt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,gt.of)(l)}))}processSegment(e,t,r,o,u,l){return(0,dn.D)(t).pipe(Zp(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,u,l).pipe(Ih(w=>{if(w instanceof ud)return(0,gt.of)(null);throw w}))),Ss(m=>!!m),Ih(m=>{if(lb(m))return function LA(n,e,t){return 0===e.length&&!n.children[t]}(r,o,u)?(0,gt.of)([]):Ph(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,u,l,m){return function FA(n,e,t,r){return!!(Os(n)===r||r!==jt&&cd(e,t,n))&&("**"===n.path||Uy(e,n,t).matched)}(r,o,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,u,l,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,u,l):Ph(o):Ph(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?fb(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Si.z)(l=>{const m=new En(l,{});return this.processSegment(e,t,m,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:m,consumedSegments:w,remainingSegments:D,positionalParamSegments:S}=Uy(t,o,u);if(!m)return Ph(t);const O=this.applyRedirects.applyRedirectCommands(w,o.redirectTo,S);return o.redirectTo.startsWith("/")?fb(O):this.applyRedirects.lineralizeSegments(o,O).pipe((0,Si.z)(B=>this.processSegment(e,r,t,B.concat(D),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u,l){let m;if("**"===r.path){const w=o.length>0?kI(o).parameters:{},D=new Oy(o,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ag(r),Os(r),r.component??r._loadedComponent??null,r,Rs(r));m=(0,gt.of)({snapshot:D,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=pb(t,r,o,e).pipe((0,xt.U)(({matched:w,consumedSegments:D,remainingSegments:S,parameters:O})=>w?{snapshot:new Oy(D,O,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ag(r),Os(r),r.component??r._loadedComponent??null,r,Rs(r)),consumedSegments:D,remainingSegments:S}:null));return m.pipe((0,kn.w)(w=>null===w?Ph(t):this.getChildConfig(e=r._injector??e,r,o).pipe((0,kn.w)(({routes:D})=>{const S=r._loadedInjector??e,{snapshot:O,consumedSegments:B,remainingSegments:J}=w,{segmentGroup:_e,slicedSegments:Ve}=gb(t,B,J,D);if(0===Ve.length&&_e.hasChildren())return this.processChildren(S,D,_e).pipe((0,xt.U)(ft=>null===ft?null:[new ou(O,ft)]));if(0===D.length&&0===Ve.length)return(0,gt.of)([new ou(O,[])]);const Ue=Os(r)===u;return this.processSegment(S,D,_e,Ve,Ue?jt:u,!0).pipe((0,xt.U)(ft=>[new ou(O,ft)]))}))))}getChildConfig(e,t,r){return t.children?(0,gt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,gt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function db(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,gt.of)(!0);const u=o.map(l=>{const m=ad(l,n);return bc(function EA(n){return n&&Rh(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,gt.of)(u).pipe(la(),Vy())}(e,t,r).pipe((0,Si.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,pi.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function PA(n){return zp(Oo(!1,3))}())):(0,gt.of)({routes:[],injector:e})}}function og(n){const e=n.value.routeConfig;return e&&""===e.path}function gi(n){const e=[],t=new Set;for(const r of n){if(!og(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=gi(r.children);e.push(new ou(r.value,o))}return e.filter(r=>!t.has(r))}function ag(n){return n.data||{}}function Rs(n){return n.resolve||{}}function ld(n){return"string"==typeof n.title||null===n.title}function Sc(n){return(0,kn.w)(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,xt.U)(()=>e)):(0,gt.of)(e)})}const Ro=new d.OlP("ROUTES");let Mc=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,gt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=bc(t.loadComponent()).pipe((0,xt.U)(j0),(0,pi.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),r0(()=>{this.componentLoaders.delete(t)})),o=new qp(r,()=>new Hi.x).pipe(Gp());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,gt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function vb(n,e,t,r){return bc(n.loadChildren()).pipe((0,xt.U)(j0),(0,Si.z)(o=>o instanceof d.YKP||Array.isArray(o)?(0,gt.of)(o):(0,dn.D)(e.compileModuleAsync(o))),(0,xt.U)(o=>{r&&r(n);let u,l,m=!1;return Array.isArray(o)?(l=o,!0):(u=o.create(t).injector,l=u.get(Ro,[],{optional:!0,self:!0}).flat()),{routes:l.map(Py),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(r0(()=>{this.childrenLoaders.delete(r)})),l=new qp(u,()=>new Hi.x).pipe(Gp());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j0(n){return function _b(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ug=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Hi.x,this.transitionAbortSubject=new Hi.x,this.configLoader=(0,d.f3M)(Mc),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Iy),this.rootContexts=(0,d.f3M)(eg),this.inputBindingEnabled=null!==(0,d.f3M)(Ry,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,gt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new _0(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new xh(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,o){return this.transitions=new xo.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ah,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fr(u=>0!==u.id),(0,xt.U)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,kn.w)(u=>{this.currentTransition=u;let l=!1,m=!1;return(0,gt.of)(u).pipe((0,pi.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,kn.w)(w=>{const D=w.currentBrowserUrl.toString(),S=!t.navigated||w.extractedUrl.toString()!==D||D!==w.currentUrlTree.toString();if(!S&&"reload"!==(w.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const B="";return this.events.next(new St(w.id,this.urlSerializer.serialize(w.rawUrl),B,0)),w.resolve(null),li.E}if(t.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return(0,gt.of)(w).pipe((0,kn.w)(B=>{const J=this.transitions?.getValue();return this.events.next(new Sy(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),J!==this.transitions?.getValue()?li.E:Promise.resolve(B)}),function B0(n,e,t,r,o,u){return(0,Si.z)(l=>function U0(n,e,t,r,o,u,l="emptyOnly"){return new VA(n,e,t,r,o,l,u).recognize()}(n,e,t,r,l.extractedUrl,o,u).pipe((0,xt.U)(({state:m,tree:w})=>({...l,targetSnapshot:m,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,pi.b)(B=>{u.targetSnapshot=B.targetSnapshot,u.urlAfterRedirects=B.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects};const J=new v0(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(J)}));if(S&&t.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:B,extractedUrl:J,source:_e,restoredState:Ve,extras:Ue}=w,ft=new Sy(B,this.urlSerializer.serialize(J),_e,Ve);this.events.next(ft);const bt=T0(0,this.rootComponentType).snapshot;return this.currentTransition=u={...w,targetSnapshot:bt,urlAfterRedirects:J,extras:{...Ue,skipLocationChange:!1,replaceUrl:!1}},(0,gt.of)(u)}{const B="";return this.events.next(new St(w.id,this.urlSerializer.serialize(w.extractedUrl),B,1)),w.resolve(null),li.E}}),(0,pi.b)(w=>{const D=new Mh(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(D)}),(0,xt.U)(w=>(this.currentTransition=u={...w,guards:Fy(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},u)),function CA(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,gt.of)({...t,guardsResult:!0}):function DA(n,e,t,r){return(0,dn.D)(n).pipe((0,Si.z)(o=>function NA(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,gt.of)(!0);const l=u.map(m=>{const w=rg(e)??o,D=ad(m,w);return bc(function sg(n){return n&&Rh(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):w.runInContext(()=>D(n,e,t,r))).pipe(Ss())});return(0,gt.of)(l).pipe(la())}(o.component,o.route,t,e,r)),Ss(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Si.z)(m=>m&&function wA(n){return"boolean"==typeof n}(m)?function TA(n,e,t,r){return(0,dn.D)(e).pipe(Zp(o=>e0(function SA(n,e){return null!==n&&e&&e(new Jp(n)),(0,gt.of)(!0)}(o.route.parent,r),function AA(n,e){return null!==n&&e&&e(new w0(n)),(0,gt.of)(!0)}(o.route,r),function xA(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function ig(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Hp(()=>{const m=l.guards.map(w=>{const D=rg(l.node)??t,S=ad(w,D);return bc(function ub(n){return n&&Rh(n.canActivateChild)}(S)?S.canActivateChild(r,n):D.runInContext(()=>S(r,n))).pipe(Ss())});return(0,gt.of)(m).pipe(la())}));return(0,gt.of)(u).pipe(la())}(n,o.path,t),function MA(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,gt.of)(!0);const o=r.map(u=>Hp(()=>{const l=rg(e)??t,m=ad(u,l);return bc(function ab(n){return n&&Rh(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(Ss())}));return(0,gt.of)(o).pipe(la())}(n,o.route,t))),Ss(o=>!0!==o,!0))}(r,u,n,e):(0,gt.of)(m)),(0,xt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,w=>this.events.next(w)),(0,pi.b)(w=>{if(u.guardsResult=w.guardsResult,sd(w.guardsResult))throw nb(0,w.guardsResult);const D=new JI(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(D)}),Fr(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),Sc(w=>{if(w.guards.canActivateChecks.length)return(0,gt.of)(w).pipe((0,pi.b)(D=>{const S=new aA(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(S)}),(0,kn.w)(D=>{let S=!1;return(0,gt.of)(D).pipe(function Fh(n,e){return(0,Si.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,gt.of)(t);let u=0;return(0,dn.D)(o).pipe(Zp(l=>function Lh(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!ld(o)&&(u[Kp]=o.title),function Vh(n,e,t,r){const o=function Uh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,gt.of)({});const u={};return(0,dn.D)(o).pipe((0,Si.z)(l=>function Bh(n,e,t,r){const o=rg(e)??r,u=ad(n,o);return bc(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Ss(),(0,pi.b)(m=>{u[l]=m}))),n0(1),function Wp(n){return(0,xt.U)(()=>n)}(u),Ih(l=>lb(l)?li.E:zp(l)))}(u,n,e,r).pipe((0,xt.U)(l=>(n._resolvedData=l,n.data=is(n,t).resolve,o&&ld(o)&&(n.data[Kp]=o.title),null)))}(l.route,r,n,e)),(0,pi.b)(()=>u++),n0(1),(0,Si.z)(l=>u===o.length?(0,gt.of)(t):li.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,pi.b)({next:()=>S=!0,complete:()=>{S||this.cancelNavigationTransition(D,"",2)}}))}),(0,pi.b)(D=>{const S=new My(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(S)}))}),Sc(w=>{const D=S=>{const O=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&O.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,pi.b)(B=>{S.component=B}),(0,xt.U)(()=>{})));for(const B of S.children)O.push(...D(B));return O};return jp(D(w.targetSnapshot.root)).pipe(Xo(),Nn(1))}),Sc(()=>this.afterPreactivation()),(0,xt.U)(w=>{const D=function N0(n,e,t){const r=ng(n,e._root,t?t._root:void 0);return new D0(r,e)}(t.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=u={...w,targetRouterState:D},u}),(0,pi.b)(()=>{this.events.next(new Ny)}),((n,e,t,r)=>(0,xt.U)(o=>(new vA(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),Nn(1),(0,pi.b)({next:w=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new su(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),t.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{l=!0}}),function QT(n){return(0,ei.e)((e,t)=>{(0,Ja.Xf)(n).subscribe((0,mr.x)(t,()=>t.complete(),RI.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe((0,pi.b)(w=>{throw w}))),r0(()=>{l||m||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Ih(w=>{if(m=!0,rb(w))this.events.next(new Sh(u.id,this.urlSerializer.serialize(u.extractedUrl),w.message,w.cancellationCode)),function R0(n){return rb(n)&&sd(n.url)}(w)?this.events.next(new Xp(w.url)):u.resolve(!1);else{this.events.next(new Qp(u.id,this.urlSerializer.serialize(u.extractedUrl),w,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(w))}catch(D){u.reject(D)}}return li.E}))}))}cancelNavigationTransition(t,r,o){const u=new Sh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $0(n){return n!==Ah}let H0=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===jt);return r}getResolvedTitleForRoute(t){return t.data[Kp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(wb)},providedIn:"root"})}return n})(),wb=(()=>{class n extends H0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Va))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Eb=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(z0)},providedIn:"root"})}return n})();class Ib{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let z0=(()=>{class n extends Ib{static#e=this.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(n)))(o||n)}}();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const By=new d.OlP("",{providedIn:"root",factory:()=>({})});let H1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(z1)},providedIn:"root"})}return n})(),z1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(cg||{});function bb(n,e){n.events.pipe(Fr(t=>t instanceof su||t instanceof Sh||t instanceof Qp||t instanceof St),(0,xt.U)(t=>t instanceof su||t instanceof St?cg.COMPLETE:t instanceof Sh&&(0===t.code||1===t.code)?cg.REDIRECTING:cg.FAILED),Fr(t=>t!==cg.REDIRECTING),Nn(1)).subscribe(()=>{e()})}function G1(n){throw n}function UA(n,e,t){return e.parse("/")}const q1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new Hi.x,this.options=(0,d.f3M)(By,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||G1,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||UA,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(H1),this.routeReuseStrategy=(0,d.f3M)(Eb),this.titleStrategy=(0,d.f3M)(H0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Ro,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(ug),this.urlSerializer=(0,d.f3M)(Iy),this.location=(0,d.f3M)(Ge),this.componentInputBindingEnabled=!!(0,d.f3M)(Ry,{optional:!0}),this.eventsSubscription=new wy.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=T0(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(jy(r)&&this._events.next(r));if(r instanceof Sy)$0(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof St)this.rawUrlTree=o.rawUrl;else if(r instanceof v0){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof Ny)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof Sh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof Xp){const u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$0(o.source)};this.scheduleNavigation(u,Ah,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof Qp&&this.restoreHistory(o,!0),r instanceof su&&(this.navigated=!0),jy(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ah,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const w={...o};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Py),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:w}=r,D=w?this.currentUrlTree.fragment:l;let O,S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}null!==S&&(S=this.removeEmptyProps(S));try{O=m0(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),O=this.currentUrlTree.root}return by(O,t,S,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=sd(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Ah,null,r)}navigate(t,r={skipLocationChange:!1}){return function jA(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...q1}:!1===r?{...BA}:r,sd(t))return a0(this.currentUrlTree,t,o);const u=this.parseUrl(t);return a0(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let m,w,D;l?(m=l.resolve,w=l.reject,D=l.promise):D=new Promise((O,B)=>{m=O,w=B});const S=this.pendingTasks.add();return bb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(S))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(O=>Promise.reject(O))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jy(n){return!(n instanceof Ny||n instanceof Xp)}class q0{}let HA=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Fr(t=>t instanceof su),Zp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,d.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,dn.D)(o).pipe((0,$p.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,gt.of)(null);const u=o.pipe((0,Si.z)(l=>null===l?(0,gt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,dn.D)([u,l]).pipe((0,$p.J)())}return u})}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Hn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(q0),d.LFG(Mc))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hd=new d.OlP("");let Cb=(()=>{class n{constructor(t,r,o,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof su?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof St&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){d.$Z()};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function uu(n,e){return{\u0275kind:n,\u0275providers:e}}function Tb(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Hn),o=n.get(Ab);1===n.get(lg)&&r.initialNavigation(),n.get(Mb,null,d.XFs.Optional)?.setUpPreloading(),n.get(hd,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Ab=new d.OlP("",{factory:()=>new Hi.x}),lg=new d.OlP("",{providedIn:"root",factory:()=>1}),Mb=new d.OlP("");function xb(n){return uu(0,[{provide:Mb,useExisting:HA},{provide:q0,useExisting:n}])}const Nb=new d.OlP("ROUTER_FORROOT_GUARD"),Y0=[Ge,{provide:Iy,useClass:l0},Hn,eg,{provide:od,useFactory:function Db(n){return n.routerState.root},deps:[Hn]},Mc,[]];function Q0(){return new d.PXZ("Router",Hn)}let Ob=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Y0,[],{provide:Ro,multi:!0,useValue:t},{provide:Nb,useFactory:Rb,deps:[[Hn,new d.FiY,new d.tp0]]},{provide:By,useValue:r||{}},r?.useHash?{provide:Le,useClass:xe}:{provide:Le,useClass:We},{provide:hd,useFactory:()=>{const n=(0,d.f3M)(Kr),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(By),r=(0,d.f3M)(ug),o=(0,d.f3M)(Iy);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Cb(o,r,n,e,t)}},r?.preloadingStrategy?xb(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Q0},r?.initialNavigation?WA(r):[],r?.bindToComponentInputs?uu(8,[tb,{provide:Ry,useExisting:tb}]).\u0275providers:[],[{provide:Pb,useFactory:Tb},{provide:d.tb,multi:!0,useExisting:Pb}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ro,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Nb,8))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function Rb(n){return"guarded"}function WA(n){return["disabled"===n.initialNavigation?uu(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Hn);return()=>{e.setUpLocationChangeListener()}}},{provide:lg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?uu(2,[{provide:lg,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Oe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Hn),u=e.get(Ab);bb(o,()=>{r(!0)}),e.get(ug).afterPreactivation=()=>(r(!0),u.closed?(0,gt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const Pb=new d.OlP("");class Lb{constructor(e,t,r,o,u,l,m){this._id=e,this._email=t,this._nome=r,this._paroquia=o,this._servindo=u,this._idade=l,this._adm=m}get id(){return this._id}set id(e){this._id=e}get email(){return this._email}set email(e){this._email=e}get nome(){return this._nome}set nome(e){this._nome=e}get paroquia(){return this._paroquia}set paroquia(e){this._paroquia=e}get servindo(){return this._servindo}set servindo(e){this._servindo=e}get idade(){return this._idade}set idade(e){this._idade=e}get adm(){return this._adm}set adm(e){this._adm=e}}var X0=R(6321);function qy(){return(0,ei.e)((n,e)=>{let t,r=!1;n.subscribe((0,mr.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}var et,ew=R(3997),XA=(R(8977),R(3399)),Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ro={},Zy=Zy||{},Ft=Vb||self;function Wy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function dg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var hg="closure_uid_"+(1e9*Math.random()>>>0),Ub=0;function Bb(n,e,t){return n.call.apply(n.bind,arguments)}function jb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function mi(n,e,t){return(mi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bb:jb).apply(null,arguments)}function fg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[o].apply(r,l)}}function cu(){this.s=this.s,this.o=this.o}cu.prototype.s=!1,cu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function tw(n){Object.prototype.hasOwnProperty.call(n,hg)&&n[hg]||(n[hg]=++Ub)}(this)},cu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ha(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Hb(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Wy(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let l=0;l<u;l++)n[o+l]=r[l]}else n.push(r)}}function Mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Mi.prototype.h=function(){this.defaultPrevented=!0};var nw=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",()=>{},e),Ft.removeEventListener("test",()=>{},e)}catch{}return n}();function Po(n){return/^[\s\xa0]*$/.test(n)}function jh(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function fa(n){return-1!=jh().indexOf(n)}function gg(n){return gg[" "](n),n}gg[" "]=function(){};var iw,n,eN=fa("Opera"),$h=fa("Trident")||fa("MSIE"),zb=fa("Edge"),Ky=zb||$h,Gb=fa("Gecko")&&!(-1!=jh().toLowerCase().indexOf("webkit")&&!fa("Edge"))&&!(fa("Trident")||fa("MSIE"))&&!fa("Edge"),Ur=-1!=jh().toLowerCase().indexOf("webkit")&&!fa("Edge");function rw(){var n=Ft.document;return n?n.documentMode:void 0}e:{var sw="",Yy=(n=jh(),Gb?/rv:([^\);]+)(\)|;)/.exec(n):zb?/Edge\/([\d\.]+)/.exec(n):$h?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ur?/WebKit\/(\S+)/.exec(n):eN?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Yy&&(sw=Yy?Yy[1]:""),$h){var ow=rw();if(null!=ow&&ow>parseFloat(sw)){iw=String(ow);break e}}iw=sw}var Hh=Ft.document&&$h&&(rw()||parseInt(iw,10))||void 0;function mg(n,e){if(Mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Gb){e:{try{gg(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&mg.$.h.call(this)}}Vr(mg,Mi);var eS={2:"touch",3:"pen",4:"mouse"};mg.prototype.h=function(){mg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zh="closure_listenable_"+(1e6*Math.random()|0),tS=0;function qb(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++tS,this.fa=this.ia=!1}function uw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Jy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ko(n){const e={};for(const t in n)e[t]=n[t];return e}const Zb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wb(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Zb.length;u++)t=Zb[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ps(n){this.src=n,this.g={},this.h=0}function ks(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=pg(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(uw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Fs(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}Ps.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Fs(n,e,r,o);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new qb(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var Xy="closure_lm_"+(1e6*Math.random()|0),ev={};function Kb(n,e,t,r,o){if(r&&r.once)return Qb(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Kb(n,e[u],t,r,o);return null}return t=nv(t),n&&n[zh]?n.O(e,t,dg(r)?!!r.capture:!!r,o):Yb(n,e,t,!1,r,o)}function Yb(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=dg(o)?!!o.capture:!!o,m=lw(n);if(m||(n[Xy]=m=new Ps(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function nS(){const e=Xb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)nw||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Jb(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Qb(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Qb(n,e[u],t,r,o);return null}return t=nv(t),n&&n[zh]?n.P(e,t,dg(r)?!!r.capture:!!r,o):Yb(n,e,t,!0,r,o)}function tv(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)tv(n,e[u],t,r,o);else r=dg(r)?!!r.capture:!!r,t=nv(t),n&&n[zh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Fs(u=n.g[e],t,r,o))&&(uw(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=lw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Fs(e,t,r,o)),(t=-1<n?e[n]:null)&&fd(t))}function fd(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[zh])ks(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Jb(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=lw(e))?(ks(t,n),0==t.h&&(t.src=null,e[Xy]=null)):uw(n)}}}function Jb(n){return n in ev?ev[n]:ev[n]="on"+n}function Xb(n,e){if(n.fa)n=!0;else{e=new mg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&fd(n),n=t.call(r,e)}return n}function lw(n){return(n=n[Xy])instanceof Ps?n:null}var dw="__closure_events_fn_"+(1e9*Math.random()>>>0);function nv(n){return"function"==typeof n?n:(n[dw]||(n[dw]=function(e){return n.handleEvent(e)}),n[dw])}function Br(){cu.call(this),this.i=new Ps(this),this.S=this,this.J=null}function Sr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Mi(e,n);else if(e instanceof Mi)e.target=e.target||n;else{var o=e;Wb(e=new Mi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=rv(l,r,!0,e)&&o}if(o=rv(l=e.g=n,r,!0,e)&&o,o=rv(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=rv(l=e.g=t[u],r,!1,e)&&o}function rv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var m=l.listener,w=l.la||l.src;l.ia&&ks(n.i,l),o=!1!==m.call(w,r)&&o}}return o&&!r.defaultPrevented}Vr(Br,cu),Br.prototype[zh]=!0,Br.prototype.removeEventListener=function(n,e,t,r){tv(this,n,e,t,r)},Br.prototype.N=function(){if(Br.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)uw(t[r]);delete n.g[e],n.h--}}this.J=null},Br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Br.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var iv=Ft.JSON.stringify;function tC(){var n=ov;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var nC=new class eC{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hw,n=>n.reset());class hw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sv(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function rC(n){Ft.setTimeout(()=>{throw n},0)}let Gh,qh=!1,ov=new class rS{constructor(){this.h=this.g=null}add(e,t){const r=nC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},fw=()=>{const n=Ft.Promise.resolve(void 0);Gh=()=>{n.then(iC)}};var iC=()=>{for(var n;n=tC();){try{n.h.call(n.g)}catch(t){rC(t)}var e=nC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qh=!1};function yg(n,e){Br.call(this),this.h=n||1,this.g=e||Ft,this.j=mi(this.qb,this),this.l=Date.now()}function av(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function pw(n,e,t){if("function"==typeof n)t&&(n=mi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=mi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function sC(n){n.g=pw(()=>{n.g=null,n.i&&(n.i=!1,sC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vr(yg,Br),(et=yg.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Sr(this,"tick"),this.ga&&(av(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){yg.$.N.call(this),av(this),delete this.g};class iS extends cu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sC(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vg(n){cu.call(this),this.h=n,this.g={}}Vr(vg,cu);var oC=[];function aC(n,e,t,r){Array.isArray(t)||(t&&(oC[0]=t.toString()),t=oC);for(var o=0;o<t.length;o++){var u=Kb(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function uC(n){Jy(n.g,function(e,t){this.g.hasOwnProperty(t)&&fd(e)},n),n.g={}}function uv(){this.g=!0}function Zh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uS(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return iv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}vg.prototype.N=function(){vg.$.N.call(this),uC(this)},vg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uv.prototype.Ea=function(){this.g=!1},uv.prototype.info=function(){};var pd={},cC=null;function cv(){return cC=cC||new Br}function lC(n){Mi.call(this,pd.Ta,n)}function _g(n){const e=cv();Sr(e,new lC(e))}function gw(n,e){Mi.call(this,pd.STAT_EVENT,n),this.stat=e}function xi(n){const e=cv();Sr(e,new gw(e,n))}function mw(n,e){Mi.call(this,pd.Ua,n),this.size=e}function Wh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}pd.Ta="serverreachability",Vr(lC,Mi),pd.STAT_EVENT="statevent",Vr(gw,Mi),pd.Ua="timingevent",Vr(mw,Mi);var wg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lv(){}function _w(){}lv.prototype.h=null;var ww,Kh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dv(){Mi.call(this,"d")}function lu(){Mi.call(this,"c")}function hv(){}function pa(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new vg(this),this.P=Ew,this.V=new yg(n=Ky?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cS}function cS(){this.i=null,this.g="",this.h=!1}Vr(dv,Mi),Vr(lu,Mi),Vr(hv,lv),hv.prototype.g=function(){return new XMLHttpRequest},hv.prototype.i=function(){return{}},ww=new hv;var Ew=45e3,dC={},Eg={};function fv(n,e,t){n.L=1,n.v=Oc(ma(e)),n.s=t,n.S=!0,lS(n,null)}function lS(n,e){n.G=Date.now(),Ig(n),n.A=ma(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),IC(t.i,"t",r),n.C=0,t=n.l.J,n.h=new cS,n.g=HC(n.l,t?e:null,!n.s),0<n.O&&(n.M=new iS(mi(n.Pa,n,n.g),n.O)),aC(n.U,n.g,"readystatechange",n.nb),e=n.I?ko(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),_g(),function sS(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),w=0;w<m.length;w++){var D=m[w].split("=");if(1<D.length){var S=D[0];D=D[1];var O=S.split("_");l=2<=O.length&&"type"==O[1]?l+(S+"=")+D+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function gd(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function hC(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=dS(n,t),o==Eg){4==e&&(n.o=4,xi(14),r=!1),Zh(n.j,n.m,null,"[Incomplete Response]");break}if(o==dC){n.o=4,xi(15),Zh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Zh(n.j,n.m,o,null),Ni(n,o)}gd(n)&&o!=Eg&&o!=dC&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),xw(e),e.M=!0,xi(11))):(Zh(n.j,n.m,t,"[Invalid Chunked Response]"),ga(n),xc(n))}function dS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Eg:(t=Number(e.substring(t,r)),isNaN(t)?dC:(r+=1)+t>e.length?Eg:(e=e.slice(r,r+t),n.C=r+t,e))}function Ig(n){n.Y=Date.now()+n.P,md(n,n.P)}function md(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wh(mi(n.lb,n),e)}function pv(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function xc(n){0==n.l.H||n.J||Nw(n.l,n)}function ga(n){pv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,av(n.V),uC(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Ni(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||MC(t.i,n)))if(!n.K&&MC(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Rg(t),Yh(t)}Mw(t),xi(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=Wh(mi(t.ib,t),6e3));if(1>=SC(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else vd(t,11)}else if((n.K||t.g==n)&&Rg(t),!Po(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.K=D[1],t.pa=D[2];const S=D[3];null!=S&&(t.ra=S,t.l.info("VER="+t.ra));const O=D[4];null!=O&&(t.Ga=O,t.l.info("SVER="+t.Ga));const B=D[5];null!=B&&"number"==typeof B&&0<B&&(t.L=r=1.5*B,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const _e=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_e){var u=r.i;u.g||-1==_e.indexOf("spdy")&&-1==_e.indexOf("quic")&&-1==_e.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(xC(u,u.h),u.h=null))}if(r.F){const Ve=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Ve&&(r.Da=Ve,Vn(r.I,r.F,Ve))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=$C(r,r.J?r.pa:null,r.Y),l.K){pS(r.i,l);var m=l,w=r.L;w&&m.setTimeout(w),m.B&&(pv(m),Ig(m)),r.g=l}else UC(r);0<t.j.length&&Ng(t)}else"stop"!=D[0]&&"close"!=D[0]||vd(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?vd(t,7):Sw(t):"noop"!=D[0]&&t.h&&t.h.Aa(D),t.A=0)}_g()}catch{}}function Iw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wy(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fC(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wy(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function tN(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(et=pa.prototype).setTimeout=function(n){this.P=n},et.nb=function(n){n=n.target;const e=this.M;e&&3==ya(n)?e.l():this.Pa(n)},et.Pa=function(n){try{if(n==this.g)e:{const S=ya(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||Ky||this.g&&(this.h.h||this.g.ja()||wv(this.g)))){this.J||4!=S||7==e||_g(),pv(this);var t=this.g.da();this.ca=t;t:if(gd(this)){var r=wv(this.g);n="";var o=r.length,u=4==ya(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ga(this),xc(this);var l="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function oS(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Po(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,xi(12),ga(this),xc(this);break e}Zh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ni(this,t)}this.S?(hC(this,S,l),Ky&&this.i&&3==S&&(aC(this.U,this.V,"tick",this.mb),this.V.start())):(Zh(this.j,this.m,l,null),Ni(this,l)),4==S&&ga(this),this.i&&!this.J&&(4==S?Nw(this.l,this):(this.i=!1,Ig(this)))}else(function ES(n){const e={};n=(n.g&&2<=ya(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Po(n[r]))continue;var t=sv(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function cw(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,xi(12)):(this.o=0,xi(13)),ga(this),xc(this)}}}catch{}},et.mb=function(){if(this.g){var n=ya(this.g),e=this.g.ja();this.C<e.length&&(pv(this),hC(this,n,e),this.i&&4!=n&&Ig(this))}},et.cancel=function(){this.J=!0,ga(this)},et.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function aS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(_g(),xi(17)),ga(this),this.o=2,xc(this)):md(this,this.Y-n)};var pC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Nc){this.h=n.h,bg(this,n.j),this.s=n.s,this.g=n.g,gv(this,n.m),this.l=n.l;var e=n.i,t=new du;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),mC(this,t),this.o=n.o}else n&&(e=String(n).match(pC))?(this.h=!1,bg(this,e[1]||"",!0),this.s=Cg(e[2]||""),this.g=Cg(e[3]||"",!0),gv(this,e[4]),this.l=Cg(e[5]||"",!0),mC(this,e[6]||"",!0),this.o=Cg(e[7]||"")):(this.h=!1,this.i=new du(null,this.h))}function ma(n){return new Nc(n)}function bg(n,e,t){n.j=t?Cg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function mC(n,e,t){e instanceof du?(n.i=e,function bC(n,e){e&&!n.j&&(io(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(wC(this,r),IC(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Dg(e,_C)),n.i=new du(e,n.h))}function Vn(n,e,t){n.i.set(e,t)}function Oc(n){return Vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Dg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Nc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Dg(e,Tg,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Dg(e,Tg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Dg(t,"/"==t.charAt(0)?vC:yC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Dg(t,fS)),n.join("")};var Tg=/[#\/\?@]/g,yC=/[#\?:]/g,vC=/[#\?]/g,_C=/[#\?@]/g,fS=/#/g;function du(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function io(n){n.g||(n.g=new Map,n.h=0,n.i&&function gC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wC(n,e){io(n),e=yd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function EC(n,e){return io(n),e=yd(n,e),n.g.has(e)}function IC(n,e,t){wC(n,e),0<t.length&&(n.i=null,n.g.set(yd(n,e),ha(t)),n.h+=t.length)}function yd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function DC(n){this.l=n||TC,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=du.prototype).add=function(n,e){io(this),this.i=null,n=yd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){io(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},et.ta=function(){io(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},et.Z=function(n){io(this);let e=[];if("string"==typeof n)EC(this,n)&&(e=e.concat(this.g.get(yd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},et.set=function(n,e){return io(this),this.i=null,EC(this,n=yd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var TC=10;function AC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function SC(n){return n.h?1:n.g?n.g.size:0}function MC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function xC(n,e){n.g?n.g.add(e):n.h=e}function pS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function gS(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ha(n.i)}DC.prototype.cancel=function(){if(this.i=gS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var NC=class{stringify(n){return Ft.JSON.stringify(n,void 0)}parse(n){return Ft.JSON.parse(n,void 0)}};function mv(){this.g=new NC}function mS(n,e,t){const r=t||"";try{Iw(n,function(o,u){let l=o;dg(o)&&(l=iv(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ag(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function hu(n){this.l=n.fc||null,this.j=n.ob||!1}function yv(n,e){Br.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=bw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vr(hu,lv),hu.prototype.g=function(){return new yv(this.l,this.j)},hu.prototype.i=function(n){return function(){return n}}({}),Vr(yv,Br);var bw=0;function OC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Sg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,vv(n)}function vv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=yv.prototype).open=function(n,e){if(this.readyState!=bw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,vv(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sg(this)),this.readyState=bw},et.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,vv(this)),this.g&&(this.readyState=3,vv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sg(this):vv(this),3==this.readyState&&OC(this)}},et.Za=function(n){this.g&&(this.response=this.responseText=n,Sg(this))},et.Ya=function(n){this.g&&(this.response=n,Sg(this))},et.ka=function(){this.g&&Sg(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vS=Ft.JSON.parse;function Kn(n){Br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RC,this.L=this.M=!1}Vr(Kn,Br);var RC="",_S=/^https?$/i,Mg=["POST","PUT"];function Cw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,PC(n),_v(n)}function PC(n){n.F||(n.F=!0,Sr(n,"complete"),Sr(n,"error"))}function Dw(n){if(n.h&&typeof Zy<"u"&&(!n.C[1]||4!=ya(n)||2!=n.da()))if(n.v&&4==ya(n))pw(n.La,0,n);else if(Sr(n,"readystatechange"),4==ya(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var o=String(n.I).match(pC)[1]||null;!o&&Ft.self&&Ft.self.location&&(o=Ft.self.location.protocol.slice(0,-1)),r=!_S.test(o?o.toLowerCase():"")}t=r}if(t)Sr(n,"complete"),Sr(n,"success");else{n.m=6;try{var u=2<ya(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",PC(n)}}finally{_v(n)}}}function _v(n,e){if(n.g){Tw(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Sr(n,"ready");try{t.onreadystatechange=r}catch{}}}function Tw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function ya(n){return n.g?n.g.readyState:0}function wv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case RC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Aw(n){let e="";return Jy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Ev(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Aw(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Vn(n,e,t))}function xg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kC(n){this.Ga=0,this.j=[],this.l=new uv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xg("baseRetryDelayMs",5e3,n),this.hb=xg("retryDelaySeedMs",1e4,n),this.eb=xg("forwardChannelMaxRetries",2,n),this.xa=xg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new DC(n&&n.concurrentRequestLimit),this.Ja=new mv,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Sw(n){if(FC(n),3==n.H){var e=n.W++,t=ma(n.I);if(Vn(t,"SID",n.K),Vn(t,"RID",e),Vn(t,"TYPE","terminate"),Og(n,t),(e=new pa(n,n.l,e)).L=2,e.v=Oc(ma(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon)try{t=Ft.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=HC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ig(e)}Ow(n)}function Yh(n){n.g&&(xw(n),n.g.cancel(),n.g=null)}function FC(n){Yh(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),Rg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function Ng(n){if(!AC(n.i)&&!n.m){n.m=!0;var e=n.Na;Gh||fw(),qh||(Gh(),qh=!0),ov.add(e,n),n.C=0}}function LC(n,e){var t;t=e?e.m:n.W++;const r=ma(n.I);Vn(r,"SID",n.K),Vn(r,"RID",t),Vn(r,"AID",n.V),Og(n,r),n.o&&n.s&&Ev(r,n.o,n.s),t=new pa(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=VC(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),xC(n.i,t),fv(t,r,e)}function Og(n,e){n.na&&Jy(n.na,function(t,r){Vn(e,r,t)}),n.h&&Iw({},function(t,r){Vn(e,r,t)})}function VC(n,e,t){t=Math.min(n.j.length,t);var r=n.h?mi(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let D=o[w].g;const S=o[w].map;if(D-=u,0>D)u=Math.max(0,o[w].g-100),m=!1;else try{mS(S,l,"req"+D+"_")}catch{r&&r(S)}}if(m){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function UC(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Gh||fw(),qh||(Gh(),qh=!0),ov.add(e,n),n.A=0}}function Mw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Wh(mi(n.Ma,n),jC(n,n.A)),n.A++,0))}function xw(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function BC(n){n.g=new pa(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ma(n.wa);Vn(e,"RID","rpc"),Vn(e,"SID",n.K),Vn(e,"AID",n.V),Vn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Vn(e,"TO",n.qa),Vn(e,"TYPE","xmlhttp"),Og(n,e),n.o&&n.s&&Ev(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Oc(ma(e)),t.s=null,t.S=!0,lS(t,n)}function Rg(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function Nw(n,e){var t=null;if(n.g==e){Rg(n),xw(n),n.g=null;var r=2}else{if(!MC(n.i,e))return;t=e.F,pS(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;Sr(r=cv(),new mw(r,t)),Ng(n)}else UC(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function IS(n,e){return!(SC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Wh(mi(n.Na,n,e),jC(n,n.C)),n.C++,0)))}(n,e)||2==r&&Mw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:vd(n,5);break;case 4:vd(n,10);break;case 3:vd(n,6);break;default:vd(n,2)}}function jC(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function vd(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=mi(n.pb,n);t||(t=new Nc("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||bg(t,"https"),Oc(t)),function yS(n,e){const t=new uv;if(Ft.Image){const r=new Image;r.onload=fg(Ag,t,r,"TestLoadImage: loaded",!0,e),r.onerror=fg(Ag,t,r,"TestLoadImage: error",!1,e),r.onabort=fg(Ag,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=fg(Ag,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else xi(2);n.H=0,n.h&&n.h.za(e),Ow(n),FC(n)}function Ow(n){if(n.H=0,n.ma=[],n.h){const e=gS(n.i);(0!=e.length||0!=n.j.length)&&(Hb(n.ma,e),Hb(n.ma,n.j),n.i.i.length=0,ha(n.j),n.j.length=0),n.h.ya()}}function $C(n,e,t){var r=t instanceof Nc?ma(t):new Nc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),gv(r,r.m);else{var o=Ft.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Nc(null);r&&bg(u,r),e&&(u.g=e),o&&gv(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Vn(r,t,e),Vn(r,"VER",n.ra),Og(n,r),r}function HC(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kn(t&&n.Ha&&!n.va?new hu({ob:!0}):n.va)).Oa(n.J),e}function zC(){}function Iv(){if($h&&!(10<=Number(Hh)))throw Error("Environmental error: no available transport.")}function Zi(n,e){Br.call(this),this.g=new kC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Po(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Po(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Rc(this)}function bv(n){dv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Rw(){lu.call(this),this.status=1}function Rc(n){this.g=n}function Fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Pg(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=u+((l=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function yn(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(et=Kn.prototype).Oa=function(n){this.M=n},et.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ww.g(),this.C=function vw(n){return n.h||(n.h=n.i())}(this.u?this.u:ww),this.g.onreadystatechange=mi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void Cw(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Ft.FormData&&n instanceof Ft.FormData,!(0<=pg(Mg,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Tw(this),0<this.B&&((this.L=function wS(n){return $h&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mi(this.ua,this)):this.A=pw(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Cw(this,u)}},et.ua=function(){typeof Zy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sr(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Sr(this,"complete"),Sr(this,"abort"),_v(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_v(this,!0)),Kn.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?Dw(this):this.kb())},et.kb=function(){Dw(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<ya(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vS(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=kC.prototype).ra=8,et.H=1,et.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new pa(this,this.l,n);let u=this.s;if(this.U&&(u?(u=ko(u),Wb(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=VC(this,o,e),Vn(t=ma(this.I),"RID",n),Vn(t,"CVER",22),this.F&&Vn(t,"X-HTTP-Session-Id",this.F),Og(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Aw(u)))+"&"+e:this.o&&Ev(t,this.o,u)),xC(this.i,o),this.bb&&Vn(t,"TYPE","init"),this.P?(Vn(t,"$req",e),Vn(t,"SID","null"),o.aa=!0,fv(o,t,null)):fv(o,t,e),this.H=2}}else 3==this.H&&(n?LC(this,n):0==this.j.length||AC(this.i)||LC(this))},et.Ma=function(){if(this.u=null,BC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Wh(mi(this.jb,this),n)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xi(10),Yh(this),BC(this))},et.ib=function(){null!=this.v&&(this.v=null,Yh(this),Mw(this),xi(19))},et.pb=function(n){n?(this.l.info("Successfully pinged google.com"),xi(2)):(this.l.info("Failed to ping google.com"),xi(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=zC.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},Iv.prototype.g=function(n,e){return new Zi(n,e)},Vr(Zi,Br),Zi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;xi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$C(n,null,n.Y),Ng(n)},Zi.prototype.close=function(){Sw(this.g)},Zi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=iv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Ng(e)},Zi.prototype.N=function(){this.g.h=null,delete this.j,Sw(this.g),delete this.g,Zi.$.N.call(this)},Vr(bv,dv),Vr(Rw,lu),Vr(Rc,zC),Rc.prototype.Ba=function(){Sr(this.g,"a")},Rc.prototype.Aa=function(n){Sr(this.g,new bv(n))},Rc.prototype.za=function(n){Sr(this.g,new Rw)},Rc.prototype.ya=function(){Sr(this.g,"b")},Vr(Fo,function bS(){this.blockSize=-1}),Fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)Pg(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){Pg(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){Pg(this,r),o=0;break}}this.h=o,this.i+=e},Fo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var GC={};function fu(n){return-128<=n&&128>n?function X1(n,e){var t=GC;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new yn([0|e],0>e?-1:0)}):new yn([0|n],0>n?-1:0)}function Lo(n){if(isNaN(n)||!isFinite(n))return Pc;if(0>n)return yi(Lo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ZC;return new yn(e,0)}var ZC=4294967296,Pc=fu(0),kg=fu(1),WC=fu(16777216);function va(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ls(n){return-1==n.h}function yi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new yn(t,~n.h).add(kg)}function Fg(n,e){return n.add(yi(e))}function Qh(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Jh(n,e){this.g=n,this.h=e}function Lg(n,e){if(va(e))throw Error("division by zero");if(va(n))return new Jh(Pc,Pc);if(Ls(n))return e=Lg(yi(n),e),new Jh(yi(e.g),yi(e.h));if(Ls(e))return e=Lg(n,yi(e)),new Jh(yi(e.g),e.h);if(30<n.g.length){if(Ls(n)||Ls(e))throw Error("slowDivide_ only works with positive integers.");for(var t=kg,r=e;0>=r.X(n);)t=Pw(t),r=Pw(r);var o=_d(t,1),u=_d(r,1);for(r=_d(r,2),t=_d(t,2);!va(r);){var l=u.add(r);0>=l.X(n)&&(o=o.add(t),u=l),r=_d(r,1),t=_d(t,1)}return e=Fg(n,o.R(e)),new Jh(o,e)}for(o=Pc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Lo(t)).R(e);Ls(l)||0<l.X(n);)l=(u=Lo(t-=r)).R(e);va(u)&&(u=kg),o=o.add(u),n=Fg(n,l)}return new Jh(o,n)}function Pw(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new yn(t,n.h)}function _d(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new yn(o,n.h)}(et=yn.prototype).ea=function(){if(Ls(this))return-yi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ZC+r)*e,e*=ZC}return n},et.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(va(this))return"0";if(Ls(this))return"-"+yi(this).toString(n);for(var e=Lo(Math.pow(n,6)),t=this,r="";;){var o=Lg(t,e).g,u=((0<(t=Fg(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(va(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},et.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},et.X=function(n){return Ls(n=Fg(this,n))?-1:va(n)?0:1},et.abs=function(){return Ls(this)?yi(this):this},et.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),l=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,t[o]=(l&=65535)<<16|(u&=65535)}return new yn(t,-2147483648&t[t.length-1]?-1:0)},et.R=function(n){if(va(this)||va(n))return Pc;if(Ls(this))return Ls(n)?yi(this).R(yi(n)):yi(yi(this).R(n));if(Ls(n))return yi(this.R(yi(n)));if(0>this.X(WC)&&0>n.X(WC))return Lo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,l=65535&this.D(r),m=n.D(o)>>>16,w=65535&n.D(o);t[2*r+2*o]+=l*w,Qh(t,2*r+2*o),t[2*r+2*o+1]+=u*w,Qh(t,2*r+2*o+1),t[2*r+2*o+1]+=l*m,Qh(t,2*r+2*o+1),t[2*r+2*o+2]+=u*m,Qh(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new yn(t,0)},et.gb=function(n){return Lg(this,n).h},et.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new yn(t,this.h&n.h)},et.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new yn(t,this.h|n.h)},et.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new yn(t,this.h^n.h)},Iv.prototype.createWebChannel=Iv.prototype.g,Zi.prototype.send=Zi.prototype.u,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,wg.NO_ERROR=0,wg.TIMEOUT=8,wg.HTTP_ERROR=6,yw.COMPLETE="complete",_w.EventType=Kh,Kh.OPEN="a",Kh.CLOSE="b",Kh.ERROR="c",Kh.MESSAGE="d",Br.prototype.listen=Br.prototype.O,Kn.prototype.listenOnce=Kn.prototype.P,Kn.prototype.getLastError=Kn.prototype.Sa,Kn.prototype.getLastErrorCode=Kn.prototype.Ia,Kn.prototype.getStatus=Kn.prototype.da,Kn.prototype.getResponseJson=Kn.prototype.Wa,Kn.prototype.getResponseText=Kn.prototype.ja,Kn.prototype.send=Kn.prototype.ha,Kn.prototype.setWithCredentials=Kn.prototype.Oa,Fo.prototype.digest=Fo.prototype.l,Fo.prototype.reset=Fo.prototype.reset,Fo.prototype.update=Fo.prototype.j,yn.prototype.add=yn.prototype.add,yn.prototype.multiply=yn.prototype.R,yn.prototype.modulo=yn.prototype.gb,yn.prototype.compare=yn.prototype.X,yn.prototype.toNumber=yn.prototype.ea,yn.prototype.toString=yn.prototype.toString,yn.prototype.getBits=yn.prototype.D,yn.fromNumber=Lo,yn.fromString=function qC(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return yi(qC(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Lo(Math.pow(e,8)),r=Pc,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+u),e);8>u?(u=Lo(Math.pow(e,u)),r=r.R(u).add(Lo(l))):r=(r=r.R(t)).add(Lo(l))}return r};var CS=ro.createWebChannelTransport=function(){return new Iv},DS=ro.getStatEventTarget=function(){return cv()},kw=ro.ErrorCode=wg,TS=ro.EventType=yw,KC=ro.Event=pd,AS=ro.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},YC=ro.FetchXmlHttpFactory=hu,Cv=ro.WebChannel=_w,SS=ro.XhrIo=Kn,nN=ro.Md5=Fo,Xh=ro.Integer=yn;const QC="@firebase/firestore";class ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let ef="9.23.0";const pu=new di.Yd("@firebase/firestore");function Fw(){return pu.logLevel}function Fe(n,...e){if(pu.logLevel<=di.in.DEBUG){const t=e.map(Lw);pu.debug(`Firestore (${ef}): ${n}`,...t)}}function yr(n,...e){if(pu.logLevel<=di.in.ERROR){const t=e.map(Lw);pu.error(`Firestore (${ef}): ${n}`,...t)}}function so(n,...e){if(pu.logLevel<=di.in.WARN){const t=e.map(Lw);pu.warn(`Firestore (${ef}): ${n}`,...t)}}function Lw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${ef}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function ct(n,e){n||it()}function Qe(n,e){return n}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class XC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ni.UNAUTHENTICATED))}shutdown(){}}class rN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iN{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let l=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const D=l;e.enqueueRetryable((0,pe.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},w=D=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct("string"==typeof r.accessToken),new XC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ct(null===e||"string"==typeof e),new ni(e)}}class NS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class OS{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new NS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct("string"==typeof t.token),this.T=t.token,new eD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Vg(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class tD{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=Vg(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[u]%62))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function tf(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function PS(n){return n+"\0"}class zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new zn(0,0))}static max(){return new _t(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gu{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gu?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends gu{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const kS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends gu{construct(e,t,r){return new sr(e,t,r)}static isValidIdentifier(e){return kS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===m?(l=!l,o++):"."!==m||l?(r+=m,o++):(u(),o++)}if(u(),l)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(t)}static emptyPath(){return new sr([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(tn.fromString(e))}static fromName(e){return new Ye(tn.fromString(e).popFirst(5))}static empty(){return new Ye(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new tn(e.slice()))}}class Ug{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Vw(n){return n.fields.find(e=>2===e.kind)}function kc(n){return n.fields.filter(e=>2!==e.kind)}Ug.UNKNOWN_ID=-1;class Tv{constructor(e,t){this.fieldPath=e,this.kind=t}}class nf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nf(0,ss.min())}}function nD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(1e9===r?new zn(t+1,0):new zn(t,r));return new ss(o,Ye.empty(),e)}function rD(n){return new ss(n.readTime,n.key,-1)}class ss{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ss(_t.min(),Ye.empty(),-1)}static max(){return new ss(_t.max(),Ye.empty(),-1)}}function rf(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mu(n){return Av.apply(this,arguments)}function Av(){return Av=(0,pe.Z)(function*(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==iD)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),Av.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let o=0,u=0,l=!1;e.forEach(m=>{++o,m.next(()=>{++u,l&&u===o&&t()},w=>r(w))}),l=!0,u===o&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(o=>o?ie.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,o)=>{const u=e.length,l=new Array(u);let m=0;for(let w=0;w<u;w++){const D=w;t(e[D]).next(S=>{l[D]=S,++m,m===u&&r(l)},S=>o(S))}})}static doWhile(e,t){return new ie((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Bg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Mr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new sf(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=Mv(r.target.error);this.v.reject(new sf(e,o))}}static open(e,t,r,o){try{return new Bg(t,e.transaction(o,r))}catch(u){throw new sf(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new LS(t)}}class Vo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Vo.S((0,zt.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),yu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,zt.hl)())return!1;if(Vo.C())return!0;const e=(0,zt.z$)(),t=Vo.S(e),r=0<t&&t<10,o=Vo.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{o(new sf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;o("VersionError"===m.name?new Se(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Se(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new sf(e,m))},u.onupgradeneeded=l=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,pe.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const w=Bg.open(u.db,e,l?"readonly":"readwrite",r),D=o(w).next(S=>(w.P(),S)).catch(S=>(w.abort(S),ie.reject(S))).toPromise();return D.catch(()=>{}),yield w.R,D}catch(w){const D=w,S="FirebaseError"!==D.name&&m<3;if(Fe("SimpleDb","Transaction failed with error:",D.message,"Retrying:",S),u.close(),!S)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class oD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return yu(this.L.delete())}}class sf extends Se{constructor(e,t){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fc(n){return"IndexedDbTransactionError"===n.name}class LS{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yu(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),yu(this.store.add(e))}get(e){return yu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),yu(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),yu(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(l,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ie((u,l)=>{o.onerror=m=>{l(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ie((o,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}J(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,l,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new ie((r,o)=>{t.onerror=u=>{const l=Mv(u.target.error);o(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}W(e,t){const r=[];return new ie((o,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void o();const w=new oD(m),D=t(m.primaryKey,m.value,w);if(D instanceof ie){const S=D.catch(O=>(w.done(),ie.reject(O)));r.push(S)}w.isDone?o():null===w.K?m.continue():m.continue(w.K)}}).next(()=>ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yu(n){return new ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Mv(r.target.error);t(o)}})}let Sv=!1;function Mv(n){const e=Vo.S((0,zt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Sv||(Sv=!0,setTimeout(()=>{throw r},0)),r}}return n}class Uw{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pe.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Fc(r)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield mu(r)}yield t.et(6e4)}))}}class Bw{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return ie.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Fe("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,o).next(m=>{o-=m,r.add(l)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(o,u)).next(m=>(Fe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const l=rD(u);rf(l,r)>0&&(r=l)}),new ss(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Vs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function jg(n){return null==n}function $g(n){return 0===n&&1/n==-1/0}function aD(n){return"number"==typeof n&&Number.isInteger(n)&&!$g(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function vi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$w(e)),e=jw(n.get(t),e);return $w(e)}function jw(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function $w(n){return n+"\x01\x01"}function _a(n){const e=n.length;if(ct(e>=2),2===e)return ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&it(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let w;0===o.length?w=m:(o+=m,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(u,l),o+="\0";break;case"\x11":o+=n.substring(u,l+1);break;default:it()}u=l+2}return new tn(r)}const Hw=["userId","batchId"];function Hg(n,e){return[n,vi(e)]}function uD(n,e,t){return[n,vi(e),t]}const cD={},lD=["prefixPath","collectionGroup","readTime","documentId"],VS=["prefixPath","collectionGroup","documentId"],dD=["collectionGroup","readTime","prefixPath","documentId"],US=["canonicalId","targetId"],Wi=["targetId","path"],af=["path","targetId"],BS=["collectionId","parent"],jS=["indexId","uid"],oN=["uid","sequenceNumber"],aN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hD=["indexId","uid","orderedDocumentKey"],zw=["userId","collectionPath","documentId"],uN=["userId","collectionPath","largestBatchId"],cN=["userId","collectionGroup","largestBatchId"],$S=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zg=[...$S,"documentOverlays"],fD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xv=fD,HS=[...xv,"indexConfiguration","indexState","indexEntries"];class Nv extends sD{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ri(n,e){const t=Qe(n);return Vo.M(t.ht,e)}function pD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ov(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Tn{constructor(e,t){this.comparator=e,this.root=t||xr.EMPTY}insert(e,t){return new Tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(e){return new Tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rv(this.root,e,this.comparator,!0)}}class Rv{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??xr.RED,this.left=o??xr.EMPTY,this.right=u??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new xr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return xr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1,xr.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,o){return this}insert(n,e,t){return new xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class An{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zS(this.data.getIterator())}getIteratorFrom(e){return new zS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new An(this.comparator);return t.data=e,t}}class zS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wd(n){return n.hasNext()?n.getNext():void 0}class os{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new os([])}unionWith(e){let t=new An(sr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new os(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Gw("Invalid base64 string: "+o):o}}(e);return new jr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(n){if(ct(!!n),"string"==typeof n){let e=0;const t=gD.exec(n);if(ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vr(n.seconds),nanos:vr(n.nanos)}}function vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vu(n){return"string"==typeof n?jr.fromBase64String(n):jr.fromUint8Array(n)}function qw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Pv(n){const e=n.mapValue.fields.__previous_value__;return qw(e)?Pv(e):e}function Gg(n){const e=wa(n.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}class GS{constructor(e,t,r,o,u,l,m,w,D){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=w,this.useFetchStreams=D}}class _u{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}const wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},kv={nullValue:"NULL_VALUE"};function Eu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qw(n)?4:ZS(n)?9007199254740991:10:it()}function Uo(n,e){if(n===e)return!0;const t=Eu(n);if(t!==Eu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gg(n).isEqual(Gg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=wa(r.timestampValue),l=wa(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,vu(n.bytesValue).isEqual(vu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return vr(r.geoPointValue.latitude)===vr(o.geoPointValue.latitude)&&vr(r.geoPointValue.longitude)===vr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return vr(r.integerValue)===vr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=vr(r.doubleValue),l=vr(o.doubleValue);return u===l?$g(u)===$g(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return tf(n.arrayValue.values||[],e.arrayValue.values||[],Uo);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(pD(u)!==pD(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Uo(u[m],l[m])))return!1;return!0}(n,e);default:return it()}var o}function qg(n,e){return void 0!==(n.values||[]).find(t=>Uo(t,e))}function Vc(n,e){if(n===e)return 0;const t=Eu(n),r=Eu(e);if(t!==r)return Nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=vr(o.integerValue||o.doubleValue),m=vr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return Zw(n.timestampValue,e.timestampValue);case 4:return Zw(Gg(n),Gg(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(o,u){const l=vu(o),m=vu(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),m=u.split("/");for(let w=0;w<l.length&&w<m.length;w++){const D=Nt(l[w],m[w]);if(0!==D)return D}return Nt(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=Nt(vr(o.latitude),vr(u.latitude));return 0!==l?l:Nt(vr(o.longitude),vr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],m=u.values||[];for(let w=0;w<l.length&&w<m.length;++w){const D=Vc(l[w],m[w]);if(D)return D}return Nt(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===wu.mapValue&&u===wu.mapValue)return 0;if(o===wu.mapValue)return 1;if(u===wu.mapValue)return-1;const l=o.fields||{},m=Object.keys(l),w=u.fields||{},D=Object.keys(w);m.sort(),D.sort();for(let S=0;S<m.length&&S<D.length;++S){const O=Nt(m[S],D[S]);if(0!==O)return O;const B=Vc(l[m[S]],w[D[S]]);if(0!==B)return B}return Nt(m.length,D.length)}(n.mapValue,e.mapValue);default:throw it()}}function Zw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=wa(n),r=wa(e),o=Nt(t.seconds,r.seconds);return 0!==o?o:Nt(t.nanos,r.nanos)}function cf(n){return Fv(n)}function Fv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=wa(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vu(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=Fv(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of o)l?l=!1:u+=",",u+=`${m}:${Fv(r.fields[m])}`;return u+"}"}(n.mapValue):it();var e}function Uc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lv(n){return!!n&&"integerValue"in n}function Wg(n){return!!n&&"arrayValue"in n}function mD(n){return!!n&&"nullValue"in n}function qS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kg(n){return!!n&&"mapValue"in n}function Vv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ZS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function lN(n){return"nullValue"in n?kv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Uc(_u.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:it()}function dN(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Uc(_u.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wu:it()}function WS(n,e){const t=Vc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function KS(n,e){const t=Vc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vv(t)}setAll(e){let t=sr.emptyPath(),r={},o=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=m.popLast()}l?r[m.lastSegment()]=Vv(l):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Kg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Kg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Lc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Oi(Vv(this.value))}}function YS(n){const e=[];return Lc(n.fields,(t,r)=>{const o=new sr([t]);if(Kg(r)){const u=YS(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new os(e)}class Gn{constructor(e,t,r,o,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new Gn(e,0,_t.min(),_t.min(),_t.min(),Oi.empty(),0)}static newFoundDocument(e,t,r,o){return new Gn(e,1,t,_t.min(),r,o,0)}static newNoDocument(e,t){return new Gn(e,2,t,_t.min(),_t.min(),Oi.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,_t.min(),_t.min(),Oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Iu{constructor(e,t){this.position=e,this.inclusive=t}}function Uv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?Ye.comparator(Ye.fromName(l.referenceValue),t.key):Vc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Ww(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Uo(n.position[t],e.position[t]))return!1;return!0}class lf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Bv(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class yD{}class Jt extends yD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new $v(e,t,r):"array-contains"===t?new eM(e,r):"in"===t?new ED(e,r):"not-in"===t?new tM(e,r):"array-contains-any"===t?new Qw(e,r):new Jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new JS(e,r):new XS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vc(t,this.value)):null!==t&&Eu(this.value)===Eu(t)&&this.matchesComparison(Vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends yD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new In(e,t)}matches(e){return df(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function df(n){return"and"===n.op}function jv(n){return"or"===n.op}function Kw(n){return vD(n)&&df(n)}function vD(n){for(const e of n.filters)if(e instanceof In)return!1;return!0}function Yw(n){if(n instanceof Jt)return n.field.canonicalString()+n.op.toString()+cf(n.value);if(Kw(n))return n.filters.map(e=>Yw(e)).join(",");{const e=n.filters.map(t=>Yw(t)).join(",");return`${n.op}(${e})`}}function QS(n,e){return n instanceof Jt?(t=n,(r=e)instanceof Jt&&t.op===r.op&&t.field.isEqual(r.field)&&Uo(t.value,r.value)):n instanceof In?function(t,r){return r instanceof In&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,l)=>o&&QS(u,r.filters[l]),!0)}(n,e):void it();var t,r}function _D(n,e){const t=n.filters.concat(e);return In.create(t,n.op)}function hf(n){return n instanceof Jt?`${(e=n).field.canonicalString()} ${e.op} ${cf(e.value)}`:n instanceof In?function(e){return e.op.toString()+" {"+e.getFilters().map(hf).join(" ,")+"}"}(n):"Filter";var e}class $v extends Jt{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class JS extends Jt{constructor(e,t){super(e,"in",t),this.keys=wD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XS extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=wD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class eM extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wg(t)&&qg(t.arrayValue,this.value)}}class ED extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qg(this.value.arrayValue,t)}}class tM extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qg(this.value.arrayValue,t)}}class Qw extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qg(this.value.arrayValue,r))}}class nM{constructor(e,t=null,r=[],o=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function Jw(n,e=null,t=[],r=[],o=null,u=null,l=null){return new nM(n,e,t,r,o,u,l)}function Ed(n){const e=Qe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Yw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),jg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cf(r)).join(",")),e.dt=t}return e.dt}function Yg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Bv(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ww(n.startAt,e.startAt)&&Ww(n.endAt,e.endAt)}function Hv(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zv(n,e){return n.filters.filter(t=>t instanceof Jt&&t.field.isEqual(e))}function ID(n,e,t){let r=kv,o=!0;for(const u of zv(n,e)){let l=kv,m=!0;switch(u.op){case"<":case"<=":l=lN(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=kv}WS({value:r,inclusive:o},{value:l,inclusive:m})<0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];WS({value:r,inclusive:o},{value:l,inclusive:t.inclusive})<0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}function bD(n,e,t){let r=wu,o=!0;for(const u of zv(n,e)){let l=wu,m=!0;switch(u.op){case">=":case">":l=dN(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=wu}KS({value:r,inclusive:o},{value:l,inclusive:m})>0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];KS({value:r,inclusive:o},{value:l,inclusive:t.inclusive})>0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}class bu{constructor(e,t=null,r=[],o=[],u=null,l="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=w,this.wt=null,this._t=null}}function CD(n,e,t,r,o,u,l,m){return new bu(n,e,t,r,o,u,l,m)}function ff(n){return new bu(n)}function Xw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Qg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Gv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function eE(n){return null!==n.collectionGroup}function Bc(n){const e=Qe(n);if(null===e.wt){e.wt=[];const t=Gv(e),r=Qg(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new lf(t)),e.wt.push(new lf(sr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new lf(sr.keyField(),u))}}}return e.wt}function Ri(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=Jw(e.path,e.collectionGroup,Bc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Bc(e))t.push(new lf(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Iu(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Iu(e.startAt.position,e.startAt.inclusive):null;e._t=Jw(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function DD(n,e){e.getFirstInequalityField(),Gv(n);const t=n.filters.concat([e]);return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _i(n,e,t){return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pf(n,e){return Yg(Ri(n),Ri(e))&&n.limitType===e.limitType}function tE(n){return`${Ed(Ri(n))}|lt:${n.limitType}`}function nE(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>hf(r)).join(", ")}]`),jg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cf(r)).join(",")),`Target(${t})`}(Ri(n))}; limitType=${n.limitType})`}function gf(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ye.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Bc(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const m=Uv(o,u,l);return o.inclusive?m<=0:m<0}(t.startAt,Bc(t),r)||t.endAt&&!function(o,u,l){const m=Uv(o,u,l);return o.inclusive?m>=0:m>0}(t.endAt,Bc(t),r)));var t,r}function TD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qv(n){return(e,t)=>{let r=!1;for(const o of Bc(n)){const u=jc(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function jc(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(o,u,l){const m=u.data.field(o),w=l.data.field(o);return null!==m&&null!==w?Vc(m,w):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Lc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Ov(this.inner)}size(){return this.innerSize}}const rE=new Tn(Ye.comparator);function Pi(){return rE}const AD=new Tn(Ye.comparator);function Zv(...n){let e=AD;for(const t of n)e=e.insert(t.key,t);return e}function iE(n){let e=AD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ia(){return Jg()}function SD(){return Jg()}function Jg(){return new Ea(n=>n.toString(),(n,e)=>n.isEqual(e))}const rM=new Tn(Ye.comparator),MD=new An(Ye.comparator);function Gt(...n){let e=MD;for(const t of n)e=e.add(t);return e}const xD=new An(Nt);function sE(){return xD}function oE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$g(e)?"-0":e}}function iM(n){return{integerValue:""+n}}function Wv(n,e){return aD(e)?iM(e):oE(n,e)}class Xg{constructor(){this._=void 0}}function ND(n,e,t){return n instanceof Id?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&qw(o)&&(o=Pv(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof oo?em(n,e):n instanceof $c?uE(n,e):function(r,o){const u=aE(r,o),l=OD(u)+OD(r.gt);return Lv(u)&&Lv(r.gt)?iM(l):oE(r.serializer,l)}(n,e)}function sM(n,e,t){return n instanceof oo?em(n,e):n instanceof $c?uE(n,e):t}function aE(n,e){return n instanceof mf?Lv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Id extends Xg{}class oo extends Xg{constructor(e){super(),this.elements=e}}function em(n,e){const t=oM(e);for(const r of n.elements)t.some(o=>Uo(o,r))||t.push(r);return{arrayValue:{values:t}}}class $c extends Xg{constructor(e){super(),this.elements=e}}function uE(n,e){let t=oM(e);for(const r of n.elements)t=t.filter(o=>!Uo(o,r));return{arrayValue:{values:t}}}class mf extends Xg{constructor(e,t){super(),this.serializer=e,this.gt=t}}function OD(n){return vr(n.integerValue||n.doubleValue)}function oM(n){return Wg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class yf{constructor(e,t){this.field=e,this.transform=t}}class uM{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class lE{}function dE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Cu(n.key,Yn.none()):new nm(n.key,n.data,Yn.none());{const t=n.data,r=Oi.empty();let o=new An(sr.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new Hc(n.key,r,new os(o.toArray()),Yn.none())}}function cM(n,e,t){n instanceof nm?function(r,o,u){const l=r.value.clone(),m=fM(r.fieldTransforms,o,u.transformResults);l.setAll(m),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Hc?function(r,o,u){if(!cE(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=fM(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(hM(r)),m.setAll(l),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tm(n,e,t,r){return n instanceof nm?function(o,u,l,m){if(!cE(o.precondition,u))return l;const w=o.value.clone(),D=RD(o.fieldTransforms,m,u);return w.setAll(D),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Hc?function(o,u,l,m){if(!cE(o.precondition,u))return l;const w=RD(o.fieldTransforms,m,u),D=u.data;return D.setAll(hM(o)),D.setAll(w),u.convertToFoundDocument(u.version,D).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,cE(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function lM(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=aE(r.transform,o||null);null!=u&&(null===t&&(t=Oi.empty()),t.set(r.field,u))}return t||null}function dM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&tf(t,r,(o,u)=>function aM(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof oo&&r instanceof oo||t instanceof $c&&r instanceof $c?tf(t.elements,r.elements,Uo):t instanceof mf&&r instanceof mf?Uo(t.gt,r.gt):t instanceof Id&&r instanceof Id);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class nm extends lE{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hc extends lE{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fM(n,e,t){const r=new Map;ct(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,m=e.data.field(u.field);r.set(u.field,sM(l,m,t[o]))}return r}function RD(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,ND(u,l,e))}return r}class Cu extends lE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hE extends lE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fE{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cM(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=SD();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(o.key)?null:m;const w=dE(l,m);null!==w&&r.set(o.key,w),l.isValidDocument()||l.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,(t,r)=>dM(t,r))&&tf(this.baseMutations,e.baseMutations,(t,r)=>dM(t,r))}}class Kv{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ct(e.mutations.length===r.length);let o=rM;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new Kv(e,t,r,o)}}class Du{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pE{constructor(e,t){this.count=e,this.unchangedNames=t}}var or,nn;function Yv(n){switch(n){default:return it();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function Qv(n){if(void 0===n)return yr("GRPC error has no .code"),oe.UNKNOWN;switch(n){case or.OK:return oe.OK;case or.CANCELLED:return oe.CANCELLED;case or.UNKNOWN:return oe.UNKNOWN;case or.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case or.INTERNAL:return oe.INTERNAL;case or.UNAVAILABLE:return oe.UNAVAILABLE;case or.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case or.NOT_FOUND:return oe.NOT_FOUND;case or.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case or.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case or.ABORTED:return oe.ABORTED;case or.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case or.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case or.DATA_LOSS:return oe.DATA_LOSS;default:return it()}}(nn=or||(or={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";class vf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gE}static getOrCreateInstance(){return null===gE&&(gE=new vf),gE}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let gE=null;function pM(){return new TextEncoder}const hN=new Xh([4294967295,4294967295],0);function mE(n){const e=pM().encode(n),t=new nN;return t.update(e),new Uint8Array(t.digest())}function kD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xh([t,r],0),new Xh([o,u],0)]}class yE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new rm(`Invalid padding: ${t}`);if(r<0)throw new rm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new rm(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new rm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Xh.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(Xh.fromNumber(r)));return 1===o.compare(hN)&&(o=new Xh([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=mE(e),[r,o]=kD(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new yE(u,o,t);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const t=mE(e),[r,o]=kD(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class rm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class im{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,_f.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new im(_t.min(),o,new Tn(Nt),Pi(),Gt())}}class _f{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _f(r,t,Gt(),Gt(),Gt())}}class sm{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class vE{constructor(e,t){this.targetId=e,this.Vt=t}}class FD{constructor(e,t,r=jr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class LD{constructor(){this.St=0,this.Dt=gM(),this.Ct=jr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gt(),t=Gt(),r=Gt();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:it()}}),new _f(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=gM()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class VD{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Pi(),this.zt=Jv(),this.Wt=new Tn(Nt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(Hv(l))if(0===o){const m=new Ye(l.path);this.Yt(r,m,Gn.newNoDocument(m,_t.min()))}else ct(1===o);else{const m=this.ie(r);if(m!==o){const w=this.re(e,m);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=vf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(D,S,O){var B,J,_e,Ve,Ue,ft;const bt={localCacheCount:S,existenceFilterCount:O.count},Et=O.unchangedNames;return Et&&(bt.bloomFilter={applied:0===D,hashCount:null!==(B=Et?.hashCount)&&void 0!==B?B:0,bitmapLength:null!==(Ve=null===(_e=null===(J=Et?.bits)||void 0===J?void 0:J.bitmap)||void 0===_e?void 0:_e.length)&&void 0!==Ve?Ve:0,padding:null!==(ft=null===(Ue=Et?.bits)||void 0===Ue?void 0:Ue.padding)&&void 0!==ft?ft:0}),bt}(w,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let w,D;try{w=vu(u).toUint8Array()}catch(S){if(S instanceof Gw)return so("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{D=new yE(w,l,m)}catch(S){return so(S instanceof rm?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===D.It?1:o!==t-this.oe(e.targetId,D)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&Hv(m.target)){const w=new Ye(m.target.path);null!==this.jt.get(w)||this.ae(l,w)||this.Yt(l,w,Gn.newNoDocument(w,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Gt();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(w=>{const D=this.se(w);return!D||"TargetPurposeLimboResolution"===D.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const o=new im(e,t,this.Wt,this.jt,r);return this.jt=Pi(),this.zt=Jv(),this.Wt=new Tn(Nt),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new LD,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new An(Nt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new LD),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Jv(){return new Tn(Ye.comparator)}function gM(){return new Tn(Ye.comparator)}const UD={asc:"ASCENDING",desc:"DESCENDING"},_E={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mM={and:"AND",or:"OR"};class yM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function BD(n,e){return n.useProto3Json||jg(e)?e:{value:e}}function om(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vM(n,e){return om(n,e.toTimestamp())}function _r(n){return ct(!!n),_t.fromTimestamp(function(e){const t=wa(e);return new zn(t.seconds,t.nanos)}(n))}function wE(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function EE(n){const e=tn.fromString(n);return ct(TM(e)),e}function wf(n,e){return wE(n.databaseId,e.path)}function ba(n,e){const t=EE(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye($D(t))}function Xv(n,e){return wE(n.databaseId,e)}function IE(n){const e=EE(n);return 4===e.length?tn.emptyPath():$D(e)}function e_(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $D(n){return ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function t_(n,e,t){return{name:wf(n,e),fields:t.value.mapValue.fields}}function bE(n,e,t){const r=ba(n,e.name),o=_r(e.updateTime),u=e.createTime?_r(e.createTime):_t.min(),l=new Oi({mapValue:{fields:e.fields}}),m=Gn.newFoundDocument(r,o,u,l);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function zc(n,e){let t;if(e instanceof nm)t={update:t_(n,e.key,e.value)};else if(e instanceof Cu)t={delete:wf(n,e.key)};else if(e instanceof Hc)t={update:t_(n,e.key,e.data),updateMask:gN(e.fieldMask)};else{if(!(e instanceof hE))return it();t={verify:wf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof Id)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof mf)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:vM(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:it()),t;var o}function CE(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Yn.updateTime(_r(o.updateTime)):void 0!==o.exists?Yn.exists(o.exists):Yn.none():Yn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,l){let m=null;"setToServerValue"in l?(ct("REQUEST_TIME"===l.setToServerValue),m=new Id):"appendMissingElements"in l?m=new oo(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new $c(l.removeAllFromArray.values||[]):"increment"in l?m=new mf(u,l.increment):it();const w=sr.fromServerFormat(l.fieldPath);return new yf(w,m)}(n,o)):[];var o;if(e.update){const o=ba(n,e.update.name),u=new Oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new os((e.updateMask.fieldPaths||[]).map(D=>sr.fromServerFormat(D)));return new Hc(o,u,l,t,r)}return new nm(o,u,t,r)}if(e.delete){const o=ba(n,e.delete);return new Cu(o,t)}if(e.verify){const o=ba(n,e.verify);return new hE(o,t)}return it()}function DE(n,e){return{documents:[Xv(n,e.path)]}}function n_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Xv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Xv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0!==w.length)return DM(In.create(w,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(w){if(0!==w.length)return w.map(D=>{return{field:Gc((S=D).field),direction:CM(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=BD(n,e.limit);var m,w;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function EM(n){let e=IE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ct(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const O=bM(S);return O instanceof In&&Kw(O)?O.getFilters():[O]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new lf(Ef((O=S).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(S){let O;return O="object"==typeof S?S.value:S,jg(O)?null:O}(t.limit));let w=null;var S;t.startAt&&(w=new Iu((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new Iu(S.values||[],!S.before)}(t.endAt)),CD(e,o,l,u,m,"F",w,D)}function bM(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ef(e.unaryFilter.field);return Jt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ef(e.unaryFilter.field);return Jt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ef(e.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ef(e.unaryFilter.field);return Jt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(n):void 0!==n.fieldFilter?Jt.create(Ef((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return In.create(e.compositeFilter.filters.map(t=>bM(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return it()}}(e.compositeFilter.op))}(n):it();var e}function CM(n){return UD[n]}function fN(n){return _E[n]}function pN(n){return mM[n]}function Gc(n){return{fieldPath:n.canonicalString()}}function Ef(n){return sr.fromServerFormat(n.fieldPath)}function DM(n){return n instanceof Jt?function(e){if("=="===e.op){if(qS(e.value))return{unaryFilter:{field:Gc(e.field),op:"IS_NAN"}};if(mD(e.value))return{unaryFilter:{field:Gc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qS(e.value))return{unaryFilter:{field:Gc(e.field),op:"IS_NOT_NAN"}};if(mD(e.value))return{unaryFilter:{field:Gc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gc(e.field),op:fN(e.op),value:e.value}}}(n):n instanceof In?function(e){const t=e.getFilters().map(r=>DM(r));return 1===t.length?t[0]:{compositeFilter:{op:pN(e.op),filters:t}}}(n):it()}function gN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class qc{constructor(e,t,r,o,u=_t.min(),l=_t.min(),m=jr.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AM{constructor(e){this.fe=e}}function MM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:TE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:wf(o=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:om(o,u.version.toTimestamp()),createTime:om(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:If(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:If(e.version)}}var o,u;return r}function TE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function If(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bf(n){const e=new zn(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function Cf(n,e){const t=(e.baseMutations||[]).map(u=>CE(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>CE(n.fe,u)),o=zn.fromMillis(e.localWriteTimeMs);return new fE(e.batchId,o,t,r)}function am(n){const e=bf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?bf(n.lastLimboFreeSnapshotVersion):_t.min();let r;var o;return void 0!==n.query.documents?(ct(1===(o=n.query).documents.length),r=Ri(ff(IE(o.documents[0])))):r=Ri(EM(n.query)),new qc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,jr.fromBase64String(n.resumeToken))}function xM(n,e){const t=If(e.snapshotVersion),r=If(e.lastLimboFreeSnapshotVersion);let o;o=Hv(e.target)?DE(n.fe,e.target):n_(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ed(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function i(n){const e=EM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?_i(e,e.limit,"L"):e}function s(n,e){return new Du(e.largestBatchId,CE(n.fe,e.overlayMutation))}function a(n,e){const t=e.path.lastSegment();return[n,vi(e.path.popLast()),t]}function c(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:If(r.readTime),documentKey:vi(r.documentKey.path),largestBatchId:r.largestBatchId}}class h{getBundleMetadata(e,t){return p(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:bf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return p(e).put({bundleId:(r=t).id,createTime:If(_r(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return y(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:i(o.bundledQuery),readTime:bf(o.readTime)};var o})}saveNamedQuery(e,t){return y(e).put({name:(r=t).name,readTime:If(_r(r.readTime)),bundledQuery:r.bundledQuery});var r}}function p(n){return ri(n,"bundles")}function y(n){return ri(n,"namedQueries")}class E{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new E(e,t.uid||"")}getOverlay(e,t){return b(e).get(a(this.userId,t)).next(r=>r?s(this.serializer,r):null)}getOverlays(e,t){const r=Ia();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,l)=>{const m=new Du(t,l);o.push(this.we(e,m))}),ie.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(l=>o.add(vi(l.getCollectionPath())));const u=[];return o.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(b(e).J("collectionPathOverlayIndex",m))}),ie.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Ia(),u=vi(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return b(e).j("collectionPathOverlayIndex",l).next(m=>{for(const w of m){const D=s(this.serializer,w);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Ia();let l;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return b(e).X({index:"collectionGroupOverlayIndex",range:m},(w,D,S)=>{const O=s(this.serializer,D);u.size()<o||O.largestBatchId===l?(u.set(O.getKey(),O),l=O.largestBatchId):S.done()}).next(()=>u)}we(e,t){return b(e).put(function(r,o,u){const[l,m,w]=a(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:zc(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function b(n){return ri(n,"documentOverlays")}class T{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(vr(e.integerValue));else if("doubleValue"in e){const r=vr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),$g(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(vu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?ZS(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):it()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Ye.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function x(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function F(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=x(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}T.Ve=new T;class z{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=F(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=F(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class W{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ge{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Re{constructor(){this.je=new z,this.ze=new W(this.je),this.We=new ge(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ze{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ze(this.indexId,this.documentKey,this.arrayValue,r)}}function ot(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Me(n.arrayValue,e.arrayValue),0!==t?t:(t=Me(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function Me(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class kt{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){ct(e.collectionGroup===this.collectionId);const t=Vw(e);if(void 0!==t&&!this.en(t))return!1;const r=kc(e);let o=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[u];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[l++],m))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function qt(n){var e,t;if(ct(n instanceof Jt||n instanceof In),n instanceof Jt){if(n instanceof ED){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Jt.create(n.field,"==",u)))||[];return In.create(o,"or")}return n}const r=n.filters.map(o=>qt(o));return In.create(r,n.op)}function vn(n){if(0===n.getFilters().length)return[];const e=um(qt(n));return ct(bd(e)),ki(e)||Bo(e)?[e]:e.getFilters()}function ki(n){return n instanceof Jt}function Bo(n){return n instanceof In&&Kw(n)}function bd(n){return ki(n)||Bo(n)||function(e){if(e instanceof In&&jv(e)){for(const t of e.getFilters())if(!ki(t)&&!Bo(t))return!1;return!0}return!1}(n)}function um(n){if(ct(n instanceof Jt||n instanceof In),n instanceof Jt)return n;if(1===n.filters.length)return um(n.filters[0]);const e=n.filters.map(r=>um(r));let t=In.create(e,n.op);return t=GD(t),bd(t)?t:(ct(t instanceof In),ct(df(t)),ct(t.filters.length>1),t.filters.reduce((r,o)=>AE(r,o)))}function AE(n,e){let t;return ct(n instanceof Jt||n instanceof In),ct(e instanceof Jt||e instanceof In),t=n instanceof Jt?e instanceof Jt?In.create([n,e],"and"):zD(n,e):e instanceof Jt?zD(e,n):function(r,o){if(ct(r.filters.length>0&&o.filters.length>0),df(r)&&df(o))return _D(r,o.getFilters());const u=jv(r)?r:o,l=jv(r)?o:r,m=u.filters.map(w=>AE(w,l));return In.create(m,"or")}(n,e),GD(t)}function zD(n,e){if(df(e))return _D(e,n.getFilters());{const t=e.filters.map(r=>AE(n,r));return In.create(t,"or")}}function GD(n){if(ct(n instanceof Jt||n instanceof In),n instanceof Jt)return n;const e=n.getFilters();if(1===e.length)return GD(e[0]);if(vD(n))return n;const t=e.map(o=>GD(o)),r=[];return t.forEach(o=>{o instanceof Jt?r.push(o):o instanceof In&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:In.create(r,n.op)}class vR{constructor(){this.rn=new NM}addToCollectionParentIndex(e,t){return this.rn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(ss.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class NM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new An(tn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new An(tn.comparator)).toArray()}}const qD=new Uint8Array(0);class _R{constructor(e,t){this.user=e,this.databaseId=t,this.on=new NM,this.un=new Ea(r=>Ed(r),(r,o)=>Yg(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:vi(o)};return mN(e).put(u)}return ie.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[PS(t),""],!1,!0);return mN(e).j(o).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(_a(l.parent))}return r})}addFieldIndex(e,t){const r=ZD(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete o.indexId;const u=r.add(o);if(t.indexState){const l=ME(e);return u.next(m=>{l.put(c(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=ZD(e),o=ME(e),u=SE(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=SE(e);let o=!0;const u=new Map;return ie.forEach(this.cn(t),l=>this.an(e,l).next(m=>{o&&(o=!!m),u.set(l,m)})).next(()=>{if(o){let l=Gt();const m=[];return ie.forEach(u,(w,D)=>{var S;Fe("IndexedDbIndexManager",`Using index ${S=w,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Et=>`${Et.fieldPath}:${Et.kind}`).join(",")}`} to execute ${Ed(t)}`);const O=function(Et,Ot){const Zt=Vw(Ot);if(void 0===Zt)return null;for(const un of zv(Et,Zt.fieldPath))switch(un.op){case"array-contains-any":return un.value.arrayValue.values||[];case"array-contains":return[un.value]}return null}(D,w),B=function(Et,Ot){const Zt=new Map;for(const un of kc(Ot))for(const cs of zv(Et,un.fieldPath))switch(cs.op){case"==":case"in":Zt.set(un.fieldPath.canonicalString(),cs.value);break;case"not-in":case"!=":return Zt.set(un.fieldPath.canonicalString(),cs.value),Array.from(Zt.values())}return null}(D,w),J=function(Et,Ot){const Zt=[];let un=!0;for(const cs of kc(Ot)){const vm=0===cs.kind?ID(Et,cs.fieldPath,Et.startAt):bD(Et,cs.fieldPath,Et.startAt);Zt.push(vm.value),un&&(un=vm.inclusive)}return new Iu(Zt,un)}(D,w),_e=function(Et,Ot){const Zt=[];let un=!0;for(const cs of kc(Ot)){const vm=0===cs.kind?bD(Et,cs.fieldPath,Et.endAt):ID(Et,cs.fieldPath,Et.endAt);Zt.push(vm.value),un&&(un=vm.inclusive)}return new Iu(Zt,un)}(D,w),Ve=this.hn(w,D,J),Ue=this.hn(w,D,_e),ft=this.ln(w,D,B),bt=this.fn(w.indexId,O,Ve,J.inclusive,Ue,_e.inclusive,ft);return ie.forEach(bt,Et=>r.H(Et,t.limit).next(Ot=>{Ot.forEach(Zt=>{const un=Ye.fromSegments(Zt.documentKey);l.has(un)||(l=l.add(un),m.push(un))})}))}).next(()=>m)}return ie.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:vn(In.create(e.filters,"and")).map(r=>Jw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,u,l,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),D=w/(null!=t?t.length:1),S=[];for(let O=0;O<w;++O){const B=t?this.dn(t[O/D]):qD,J=this.wn(e,B,r[O%D],o),_e=this._n(e,B,u[O%D],l),Ve=m.map(Ue=>this.wn(e,B,Ue,!0));S.push(...this.createRange(J,_e,Ve))}return S}wn(e,t,r,o){const u=new Ze(e,Ye.empty(),t,r);return o?u:u.Je()}_n(e,t,r,o){const u=new Ze(e,Ye.empty(),t,r);return o?u.Je():u}an(e,t){const r=new kt(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let l=null;for(const m of u)r.tn(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,t){let r=2;const o=this.cn(t);return ie.forEach(o,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let w=new An(sr.comparator),D=!1;for(const S of m.filters)for(const O of S.getFlattenedFilters())O.field.isKeyField()||("array-contains"===O.op||"array-contains-any"===O.op?D=!0:w=w.add(O.field));for(const S of m.orderBy)S.field.isKeyField()||(w=w.add(S.field));return w.size+(D?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new Re;for(const o of kc(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const l=r.He(o.kind);T.Ve._e(u,l)}return r.Qe()}dn(e){const t=new Re;return T.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Re;return T.Ve._e(Uc(this.databaseId,t),r.He(function(o){const u=kc(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new Re);let u=0;for(const l of kc(e)){const m=r[u++];for(const w of o)if(this.yn(t,l.fieldPath)&&Wg(m))o=this.pn(o,l,m);else{const D=w.He(l.kind);T.Ve._e(m,D)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of o){const w=new Re;w.seed(m.Qe()),T.Ve._e(l,w.He(t.kind)),u.push(w)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Jt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ZD(e),o=ME(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return ie.forEach(u,m=>o.get([m.indexId,this.uid]).next(w=>{l.push(function(D,S){const O=S?new nf(S.sequenceNumber,new ss(bf(S.readTime),new Ye(_a(S.documentKey)),S.largestBatchId)):nf.empty(),B=D.fields.map(([J,_e])=>new Tv(sr.fromServerFormat(J),_e));return new Ug(D.indexId,D.collectionGroup,B,O)}(m,w))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Nt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=ZD(e),u=ME(e);return this.Tn(e).next(l=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ie.forEach(m,w=>u.put(c(w.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return ie.forEach(t,(o,u)=>{const l=r.get(o.collectionGroup);return(l?ie.resolve(l):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ie.forEach(m,w=>this.En(e,o,w).next(D=>{const S=this.An(u,w);return D.isEqual(S)?ie.resolve():this.vn(e,u,w,D,S)}))))})}Rn(e,t,r,o){return SE(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return SE(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=SE(e);let u=new An(ot);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,m)=>{u=u.add(new Ze(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,t){let r=new An(ot);const o=this.mn(t,e);if(null==o)return r;const u=Vw(t);if(null!=u){const l=e.data.field(u.fieldPath);if(Wg(l))for(const m of l.arrayValue.values||[])r=r.add(new Ze(t.indexId,e.key,this.dn(m),o))}else r=r.add(new Ze(t.indexId,e.key,qD,o));return r}vn(e,t,r,o,u){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(m,w,D,S,O){const B=m.getIterator(),J=w.getIterator();let _e=wd(B),Ve=wd(J);for(;_e||Ve;){let Ue=!1,ft=!1;if(_e&&Ve){const bt=D(_e,Ve);bt<0?ft=!0:bt>0&&(Ue=!0)}else null!=_e?ft=!0:Ue=!0;Ue?(S(Ve),Ve=wd(J)):ft?(O(_e),_e=wd(B)):(_e=wd(B),Ve=wd(J))}}(o,u,ot,m=>{l.push(this.Rn(e,t,r,m))},m=>{l.push(this.Pn(e,t,r,m))}),ie.waitFor(l)}Tn(e){let t=1;return ME(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,m)=>ot(l,m)).filter((l,m,w)=>!m||0!==ot(l,w[m-1]));const o=[];o.push(e);for(const l of r){const m=ot(l,e),w=ot(l,t);if(0===m)o[0]=e.Je();else if(m>0&&w<0)o.push(l),o.push(l.Je());else if(w>0)break}o.push(t);const u=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];u.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,qD,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,qD,[]]))}return u}bn(e,t){return ot(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(yN)}getMinOffset(e,t){return ie.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||it())).next(yN)}}function mN(n){return ri(n,"collectionParents")}function SE(n){return ri(n,"indexEntries")}function ZD(n){return ri(n,"indexConfiguration")}function ME(n){return ri(n,"indexState")}function yN(n){ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;rf(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new ss(e.readTime,e.documentKey,t)}const vN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class as{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _N(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const w=r.X({range:l},(S,O,B)=>(m++,B.delete()));u.push(w.next(()=>{ct(1===m)}));const D=[];for(const S of t.mutations){const O=uD(e,S.key.path,t.batchId);u.push(o.delete(O)),D.push(S.key)}return ie.waitFor(u).next(()=>D)}function WD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(41943040,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);class KD{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){ct(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new KD(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Df(e).X({index:"userMutationsIndex",range:r},(o,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=r_(e),l=Df(e);return l.add({}).next(m=>{ct("number"==typeof m);const w=new fE(m,t,r,o),D=function(B,J,_e){const Ve=_e.baseMutations.map(ft=>zc(B.fe,ft)),Ue=_e.mutations.map(ft=>zc(B.fe,ft));return{userId:J,batchId:_e.batchId,localWriteTimeMs:_e.localWriteTime.toMillis(),baseMutations:Ve,mutations:Ue}}(this.serializer,this.userId,w),S=[];let O=new An((B,J)=>Nt(B.canonicalString(),J.canonicalString()));for(const B of o){const J=uD(this.userId,B.key.path,m);O=O.add(B.key.path.popLast()),S.push(l.put(D)),S.push(u.put(J,cD))}return O.forEach(B=>{S.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Vn[m]=w.keys()}),ie.waitFor(S).next(()=>w)})}lookupMutationBatch(e,t){return Df(e).get(t).next(r=>r?(ct(r.userId===this.userId),Cf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ie.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Df(e).X({index:"userMutationsIndex",range:o},(l,m,w)=>{m.userId===this.userId&&(ct(m.batchId>=r),u=Cf(this.serializer,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Df(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Df(e).j("userMutationsIndex",t).next(r=>r.map(o=>Cf(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Hg(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return r_(e).X({range:o},(l,m,w)=>{const[D,S,O]=l,B=_a(S);if(D===this.userId&&t.path.isEqual(B))return Df(e).get(O).next(J=>{if(!J)throw it();ct(J.userId===this.userId),u.push(Cf(this.serializer,J))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new An(Nt);const o=[];return t.forEach(u=>{const l=Hg(this.userId,u.path),m=IDBKeyRange.lowerBound(l),w=r_(e).X({range:m},(D,S,O)=>{const[B,J,_e]=D,Ve=_a(J);B===this.userId&&u.path.isEqual(Ve)?r=r.add(_e):O.done()});o.push(w)}),ie.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Hg(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new An(Nt);return r_(e).X({range:l},(w,D,S)=>{const[O,B,J]=w,_e=_a(B);O===this.userId&&r.isPrefixOf(_e)?_e.length===o&&(m=m.add(J)):S.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Df(e).get(u).next(l=>{if(null===l)throw it();ct(l.userId===this.userId),r.push(Cf(this.serializer,l))}))}),ie.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return _N(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ie.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return r_(e).X({range:r},(u,l,m)=>{if(u[0]===this.userId){const w=_a(u[1]);o.push(w)}else m.done()}).next(()=>{ct(0===o.length)})})}containsKey(e,t){return wN(e,this.userId,t)}xn(e){return EN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wN(n,e,t){const r=Hg(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return r_(n).X({range:u,Y:!0},(m,w,D)=>{const[S,O,B]=m;S===e&&O===o&&(l=!0),D.done()}).next(()=>l)}function Df(n){return ri(n,"mutations")}function r_(n){return ri(n,"documentMutations")}function EN(n){return ri(n,"mutationQueues")}class cm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new cm(0)}static Mn(){return new cm(-1)}}class wR{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new cm(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>_t.fromTimestamp(new zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>i_(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(ct(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return i_(e).X((l,m)=>{const w=am(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,u.push(this.removeTargetData(e,w)))}).next(()=>ie.waitFor(u)).next(()=>o)}forEachTarget(e,t){return i_(e).X((r,o)=>{const u=am(o);t(u)})}$n(e){return IN(e).get("targetGlobalKey").next(t=>(ct(null!==t),t))}On(e,t){return IN(e).put("targetGlobalKey",t)}Fn(e,t){return i_(e).put(xM(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ed(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return i_(e).X({range:o,index:"queryTargetsIndex"},(l,m,w)=>{const D=am(m);Yg(t,D.target)&&(u=D,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Tf(e);return t.forEach(l=>{const m=vi(l.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,l))}),ie.waitFor(o)}removeMatchingKeys(e,t,r){const o=Tf(e);return ie.forEach(t,u=>{const l=vi(u.path);return ie.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Tf(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Tf(e);let u=Gt();return o.X({range:r,Y:!0},(l,m,w)=>{const D=_a(l[1]),S=new Ye(D);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=vi(t.path),o=IDBKeyRange.bound([r],[PS(r)],!1,!0);let u=0;return Tf(e).X({index:"documentTargetsIndex",Y:!0,range:o},([l,m],w,D)=>{0!==l&&(u++,D.done())}).next(()=>u>0)}le(e,t){return i_(e).get(t).next(r=>r?am(r):null)}}function i_(n){return ri(n,"targets")}function IN(n){return ri(n,"targetGlobal")}function Tf(n){return ri(n,"targetDocuments")}function bN([n,e],[t,r]){const o=Nt(n,t);return 0===o?Nt(e,r):o}class ER{constructor(e){this.Ln=e,this.buffer=new An(bN),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();bN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Fc(r)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield mu(r)}yield t.Qn(3e5)}))}}class IR{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(Vs.ct);const r=new ER(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(vN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vN):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,u,l,m,w,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,l=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(D=Date.now(),Fw()<=di.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-S}ms\n\tDetermined least recently used ${o} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${O} documents in `+(D-w)+`ms\nTotal Duration: ${D-S}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}class bR{constructor(e,t){this.db=e,this.garbageCollector=function DN(n,e){return new IR(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return YD(e,r)}removeReference(e,t,r){return YD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return YD(e,t)}Xn(e,t){return function(r,o){let u=!1;return EN(r).Z(l=>wN(r,l,o).next(m=>(m&&(u=!0),ie.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Yn(e,(l,m)=>{if(m<=t){const w=this.Xn(e,l).next(D=>{if(!D)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,_t.min()),Tf(e).delete([0,vi(l.path)])))});o.push(w)}}).next(()=>ie.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return YD(e,t)}Yn(e,t){const r=Tf(e);let o,u=Vs.ct;return r.X({index:"documentTargetsIndex"},([l,m],{path:w,sequenceNumber:D})=>{0===l?(u!==Vs.ct&&t(new Ye(_a(o)),u),u=D,o=w):u=Vs.ct}).next(()=>{u!==Vs.ct&&t(new Ye(_a(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function YD(n,e){return Tf(n).put((r=n.currentSequenceNumber,{targetId:0,path:vi(e.path),sequenceNumber:r}));var r}class TN{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CR{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return lm(e).put(r)}removeEntry(e,t,r){return lm(e).delete(function(o,u){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],TE(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Gn.newInvalidDocument(t);return lm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xE(t))},(o,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:Gn.newInvalidDocument(t)};return lm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xE(t))},(o,u)=>{r={document:this.ts(t,u),size:WD(u)}}).next(()=>r)}getEntries(e,t){let r=Pi();return this.ns(e,t,(o,u)=>{const l=this.ts(o,u);r=r.insert(o,l)}).next(()=>r)}ss(e,t){let r=Pi(),o=new Tn(Ye.comparator);return this.ns(e,t,(u,l)=>{const m=this.ts(u,l);r=r.insert(u,m),o=o.insert(u,WD(l))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return ie.resolve();let o=new An(xN);t.forEach(w=>o=o.add(w));const u=IDBKeyRange.bound(xE(o.first()),xE(o.last())),l=o.getIterator();let m=l.getNext();return lm(e).X({index:"documentKeyIndex",range:u},(w,D,S)=>{const O=Ye.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&xN(m,O)<0;)r(m,null),m=l.getNext();m&&m.isEqual(O)&&(r(m,D),m=l.hasNext()?l.getNext():null),m?S.G(xE(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),TE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lm(e).j(IDBKeyRange.bound(l,m,!0)).next(w=>{let D=Pi();for(const S of w){const O=this.ts(Ye.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);O.isFoundDocument()&&(gf(t,O)||o.has(O.key))&&(D=D.insert(O.key,O))}return D})}getAllFromCollectionGroup(e,t,r,o){let u=Pi();const l=MN(t,r),m=MN(t,ss.max());return lm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(w,D,S)=>{const O=this.ts(Ye.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);u=u.insert(O.key,O),u.size===o&&S.done()}).next(()=>u)}newChangeBuffer(e){return new DR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return SN(e).get("remoteDocumentGlobalKey").next(t=>(ct(!!t),t))}Zn(e,t){return SN(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function SM(n,e){let t;if(e.document)t=bE(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),o=bf(e.noDocument.readTime);t=Gn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=Ye.fromSegments(e.unknownDocument.path),o=bf(e.unknownDocument.version);t=Gn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new zn(r[0],r[1]);return _t.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(_t.min()))return r}return Gn.newInvalidDocument(e)}}function AN(n){return new CR(n)}class DR extends TN{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ea(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new An((u,l)=>Nt(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.us.get(u);if(t.push(this.os.removeEntry(e,u,m.readTime)),l.isValidDocument()){const w=MM(this.os.serializer,l);o=o.add(u.path.popLast());const D=WD(w);r+=D-m.size,t.push(this.os.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=MM(this.os.serializer,l.convertToNoDocument(_t.min()));t.push(this.os.addEntry(e,u,w))}}),o.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),ie.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function SN(n){return ri(n,"remoteDocumentGlobal")}function lm(n){return ri(n,"remoteDocumentsV14")}function xE(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MN(n,e){const t=e.documentKey.path.toArray();return[n,TE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xN(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Nt(t[u],r[u]),o)return o;return o=Nt(t.length,r.length),o||(o=Nt(t[t.length-2],r[r.length-2]),o||Nt(t[t.length-1],r[r.length-1]))}class TR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class NN{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&tm(r.mutation,o,os.empty(),zn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const o=Ia();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=Zv();return u.forEach((m,w)=>{l=l.insert(m,w.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ia();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,o){let u=Pi();const l=Jg(),m=Jg();return t.forEach((w,D)=>{const S=r.get(D.key);o.has(D.key)&&(void 0===S||S.mutation instanceof Hc)?u=u.insert(D.key,D):void 0!==S?(l.set(D.key,S.mutation.getFieldMask()),tm(S.mutation,D,S.mutation.getFieldMask(),zn.now())):l.set(D.key,os.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((D,S)=>l.set(D,S)),t.forEach((D,S)=>{var O;return m.set(D,new TR(S,null!==(O=l.get(D))&&void 0!==O?O:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Jg();let o=new Tn((l,m)=>l-m),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(w=>{const D=t.get(w);if(null===D)return;let S=r.get(w)||os.empty();S=m.applyToLocalView(D,S),r.set(w,S);const O=(o.get(m.batchId)||Gt()).add(w);o=o.insert(m.batchId,O)})}).next(()=>{const l=[],m=o.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),D=w.key,S=w.value,O=SD();S.forEach(B=>{if(!u.has(B)){const J=dE(t.get(B),r.get(B));null!==J&&O.set(B,J),u=u.add(B)}}),l.push(this.documentOverlayCache.saveOverlays(e,D,O))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):eE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ie.resolve(Ia());let m=-1,w=u;return l.next(D=>ie.forEach(D,(S,O)=>(m<O.largestBatchId&&(m=O.largestBatchId),u.get(S)?ie.resolve():this.remoteDocumentCache.getEntry(e,S).next(B=>{w=w.insert(S,B)}))).next(()=>this.populateOverlays(e,D,u)).next(()=>this.computeViews(e,w,D,Gt())).next(S=>({batchId:m,changes:iE(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let o=Zv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Zv();return this.indexManager.getCollectionParents(e,o).next(l=>ie.forEach(l,m=>{const w=(D=t,S=m.child(o),new bu(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(D=>{D.forEach((S,O)=>{u=u.insert(S,O)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,w)=>{const D=w.getKey();null===u.get(D)&&(u=u.insert(D,Gn.newInvalidDocument(D)))});let l=Zv();return u.forEach((m,w)=>{const D=o.get(m);void 0!==D&&tm(D.mutation,w,os.empty(),zn.now()),gf(t,w)&&(l=l.insert(m,w))}),l})}}class AR{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ie.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:_r(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:i(r.bundledQuery),readTime:_r(r.readTime)}),ie.resolve();var r}}class SR{constructor(){this.overlays=new Tn(Ye.comparator),this.ls=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ia();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const o=Ia(),u=t.length+1,l=new Ye(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const w=m.getNext().value,D=w.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&w.largestBatchId>r&&o.set(w.getKey(),w)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Tn((D,S)=>D-S);const l=this.overlays.getIterator();for(;l.hasNext();){const D=l.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=u.get(D.largestBatchId);null===S&&(S=Ia(),u=u.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const m=Ia(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((D,S)=>m.set(D,S)),!(m.size()>=o)););return ie.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Du(t,r));let u=this.ls.get(t);void 0===u&&(u=Gt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class OM{constructor(){this.fs=new An(Fi.ds),this.ws=new An(Fi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Fi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Fi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ye(new tn([])),r=new Fi(t,e),o=new Fi(t,e+1),u=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ye(new tn([])),r=new Fi(t,e),o=new Fi(t,e+1);let u=Gt();return this.ws.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Fi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Fi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ye.comparator(e.key,t.key)||Nt(e.As,t.As)}static _s(e,t){return Nt(e.As,t.As)||Ye.comparator(e.key,t.key)}}class MR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new An(Fi.ds)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const l=new fE(u,t,r,o);this.mutationQueue.push(l);for(const m of o)this.Rs=this.Rs.add(new Fi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Fi(t,0),o=new Fi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],l=>{const m=this.Ps(l.As);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new An(Nt);return t.forEach(o=>{const u=new Fi(o,0),l=new Fi(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),ie.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ye.isDocumentKey(u)||(u=u.child(""));const l=new Fi(new Ye(u),0);let m=new An(Nt);return this.Rs.forEachWhile(w=>{const D=w.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(m=m.add(w.As)),!0)},l),ie.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ie.forEach(t.mutations,o=>{const u=new Fi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Fi(t,0),o=this.Rs.firstAfterOrEqual(r);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ie.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xR{constructor(e){this.Ds=e,this.docs=new Tn(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let r=Pi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Gn.newInvalidDocument(o))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=Pi();const l=t.path,m=new Ye(l.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:D,value:{document:S}}=w.getNext();if(!l.isPrefixOf(D.path))break;D.path.length>l.length+1||rf(rD(S),r)<=0||(o.has(S.key)||gf(t,S))&&(u=u.insert(S.key,S.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,r,o){it()}Cs(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new NR(this)}getSize(e){return ie.resolve(this.size)}}class NR extends TN{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class OR{constructor(e){this.persistence=e,this.xs=new Ea(t=>Ed(t),Yg),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new OM,this.targetCount=0,this.Ms=cm.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ie.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new cm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Fn(t),ie.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.ks.containsKey(t))}}class RM{constructor(e,t){this.$s={},this.overlays={},this.Os=new Vs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new OR(this),this.indexManager=new vR,this.remoteDocumentCache=new xR(r=>this.referenceDelegate.Ls(r)),this.serializer=new AM(t),this.qs=new AR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new MR(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const o=new RR(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return ie.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class RR extends sD{constructor(e){super(),this.currentSequenceNumber=e}}class QD{constructor(e){this.persistence=e,this.Qs=new OM,this.js=null}static zs(e){return new QD(e)}get Ws(){if(this.js)return this.js;throw it()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ws,r=>{const o=Ye.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,_t.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ie.or([()=>ie.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class PR{constructor(e){this.serializer=e}O(e,t,r,o){const u=new Bg("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hw,{unique:!0}),m.createObjectStore("documentMutations"),ON(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=ie.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),ON(e)),l=l.next(()=>function(m){const w=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",D)}(u))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(m,w){return w.store("mutations").j().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hw,{unique:!0});const S=w.store("mutations"),O=D.map(B=>S.put(B));return ie.waitFor(O)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(l=l.next(()=>this.Ys(u))),r<6&&o>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&o>=7&&(l=l.next(()=>this.Zs(u))),r<8&&o>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&o>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(l=l.next(()=>this.ei(u))),r<11&&o>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(l=l.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:zw});w.createIndex("collectionPathOverlayIndex",uN,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",cN,{unique:!1})}(e)})),r<13&&o>=13&&(l=l.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:lD});w.createIndex("documentKeyIndex",VS),w.createIndex("collectionGroupIndex",dD)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.si(e,u))),r<15&&o>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:jS}).createIndex("sequenceNumberIndex",oN,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:aN}).createIndex("documentKeyIndex",hD,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=WD(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>ie.forEach(o,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(m=>ie.forEach(m,w=>{ct(w.userId===u.userId);const D=Cf(this.serializer,w);return _N(e,u.userId,D).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.X((l,m)=>{const w=new tn(l),D=[0,vi(w)];u.push(t.get(D).next(S=>S?ie.resolve():t.put({targetId:0,path:vi(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ie.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:BS});const r=t.store("collectionParents"),o=new NM,u=l=>{if(o.add(l)){const m=l.lastSegment(),w=l.popLast();return r.put({collectionId:m,parent:vi(w)})}};return t.store("remoteDocuments").X({Y:!0},(l,m)=>{const w=new tn(l);return u(w.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,m,w],D)=>{const S=_a(m);return u(S.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const u=am(o),l=xM(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((u,l)=>{const m=t.store("remoteDocumentsV14"),w=(D=l,D.document?new Ye(tn.fromString(D.document.name).popFirst(5)):D.noDocument?Ye.fromSegments(D.noDocument.path):D.unknownDocument?Ye.fromSegments(D.unknownDocument.path):it()).path.toArray();var D;const S={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(m.put(S))}).next(()=>ie.waitFor(o))}si(e,t){const r=t.store("mutations"),o=AN(this.serializer),u=new RM(QD.zs,this.serializer.fe);return r.j().next(l=>{const m=new Map;return l.forEach(w=>{var D;let S=null!==(D=m.get(w.userId))&&void 0!==D?D:Gt();Cf(this.serializer,w).keys().forEach(O=>S=S.add(O)),m.set(w.userId,S)}),ie.forEach(m,(w,D)=>{const S=new ni(D),O=E.de(this.serializer,S),B=u.getIndexManager(S),J=KD.de(S,this.serializer,B,u.referenceDelegate);return new NN(o,J,O,B).recalculateAndSaveOverlaysForDocumentKeys(new Nv(t,Vs.ct),w).next()})})}}function ON(n){n.createObjectStore("targetDocuments",{keyPath:Wi}).createIndex("documentTargetsIndex",af,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",US,{unique:!0}),n.createObjectStore("targetGlobal")}const PM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kM{constructor(e,t,r,o,u,l,m,w,D,S,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=m,this.ri=D,this.oi=S,this.ui=O,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=B=>Promise.resolve(),!kM.D())throw new Se(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bR(this,o),this.di=t+"main",this.serializer=new AM(w),this.wi=new Vo(this.di,this.ui,new PR(this.serializer)),this.Bs=new wR(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AN(this.serializer),this.qs=new h,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===S&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(oe.FAILED_PRECONDITION,PM);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Vs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,pe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>XD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Fc(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return NE(e).get("owner").next(t=>ie.resolve(this.Ri(t)))}Pi(e){return XD(e).delete(this.clientId)}bi(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ri(r,"clientMetadata");return o.j().next(u=>{const l=e.Si(u,18e5),m=u.filter(w=>-1===l.indexOf(w));return ie.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ie.resolve(!0):NE(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Se(oe.FAILED_PRECONDITION,PM);return!1}}return!(!this.networkEnabled||!this.inForeground)||XD(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Nv(t,Vs.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>XD(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return KD.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _R(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return E.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?HS:14===l?xv:13===l?fD:12===l?zg:11===l?$S:void it();var l;let m;return this.wi.runTransaction(e,o,u,w=>(m=new Nv(w,this.Os?this.Os.next():Vs.ct),"readwrite-primary"===t?this.Ti(m).next(D=>!!D||this.Ei(m)).next(D=>{if(!D)throw yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Se(oe.FAILED_PRECONDITION,iD);return r(m)}).next(D=>this.vi(m).next(()=>D)):this.Oi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Oi(e){return NE(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(oe.FAILED_PRECONDITION,PM)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return NE(e).put("owner",t)}static D(){return Vo.D()}Ai(e){const t=NE(e);return t.get("owner").next(r=>this.Ri(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(yr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,zt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){yr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function NE(n){return ri(n,"owner")}function XD(n){return ri(n,"clientMetadata")}function FM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class LM{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=Gt(),o=Gt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new LM(e,t.fromCache,r,o)}}class RN{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Xw(t))return ie.resolve(null);let r=Ri(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=_i(t,null,"F"),r=Ri(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Gt(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const D=this.ji(t,m);return this.zi(t,D,l,w.readTime)?this.Ki(e,_i(t,null,"F")):this.Wi(e,D,t,w)}))})))}Gi(e,t,r,o){return Xw(t)||o.isEqual(_t.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,o)?this.Qi(e,t):(Fw()<=di.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nE(t)),this.Wi(e,l,t,nD(o,-1)))})}ji(e,t){let r=new An(qv(e));return t.forEach((o,u)=>{gf(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return Fw()<=di.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",nE(t)),this.Ui.getDocumentsMatchingQuery(e,t,ss.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class kR{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new Tn(Nt),this.Yi=new Ea(u=>Ed(u),Yg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function PN(n,e,t,r){return new kR(n,e,t,r)}function kN(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,pe.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let w=Gt();for(const D of o){l.push(D.batchId);for(const S of D.mutations)w=w.add(S.key)}for(const D of u){m.push(D.batchId);for(const S of D.mutations)w=w.add(S.key)}return t.localDocuments.getDocuments(r,w).next(D=>({er:D,removedBatchIds:l,addedBatchIds:m}))})})}),VM.apply(this,arguments)}function FN(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function LN(n,e,t){let r=Gt(),o=Gt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Pi();return t.forEach((m,w)=>{const D=u.get(m);w.isFoundDocument()!==D.isFoundDocument()&&(o=o.add(m)),w.isNoDocument()&&w.version.isEqual(_t.min())?(e.removeEntry(m,w.readTime),l=l.insert(m,w)):!D.isValidDocument()||w.version.compareTo(D.version)>0||0===w.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(w),l=l.insert(m,w)):Fe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",D.version," Watch version:",w.version)}),{nr:l,sr:o}})}function VR(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s_(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,ie.resolve(o)):t.Bs.allocateTargetId(r).next(l=>(o=new qc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function o_(n,e,t){return UM.apply(this,arguments)}function UM(){return UM=(0,pe.Z)(function*(n,e,t){const r=Qe(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Fc(l))throw l;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),UM.apply(this,arguments)}function eT(n,e,t){const r=Qe(n);let o=_t.min(),u=Gt();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,w,D){const S=Qe(m),O=S.Yi.get(D);return void 0!==O?ie.resolve(S.Ji.get(O)):S.Bs.getTargetData(w,D)}(r,l,Ri(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(w=>{u=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?o:_t.min(),t?u:Gt())).next(m=>(BN(r,TD(e),m),{documents:m,ir:u})))}function VN(n,e){const t=Qe(n),r=Qe(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function UN(n,e){const t=Qe(n),r=t.Xi.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,nD(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(BN(t,e,o),o))}function BN(n,e,t){let r=n.Xi.get(e)||_t.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function BM(){return BM=(0,pe.Z)(function*(n,e,t,r){const o=Qe(n);let u=Gt(),l=Pi();for(const D of t){const S=e.rr(D.metadata.name);D.document&&(u=u.add(S));const O=e.ur(D);O.setReadTime(e.cr(D.metadata.readTime)),l=l.insert(S,O)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),w=yield s_(o,(D=r,Ri(ff(tn.fromString(`__bundle__/docs/${D}`)))));var D;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>LN(D,m,l).next(S=>(m.apply(D),S)).next(S=>o.Bs.removeMatchingKeysForTargetId(D,w.targetId).next(()=>o.Bs.addMatchingKeys(D,u,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(D,S.nr,S.sr)).next(()=>S.nr)))}),BM.apply(this,arguments)}function BR(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,pe.Z)(function*(n,e,t=Gt()){const r=yield s_(n,Ri(i(e.bundledQuery))),o=Qe(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const l=_r(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.qs.saveNamedQuery(u,e);const m=r.withResumeToken(jr.EMPTY_BYTE_STRING,l);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(u,m).next(()=>o.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>o.qs.saveNamedQuery(u,e))})}),jM.apply(this,arguments)}function jN(n,e){return`firestore_clients_${n}_${e}`}function $N(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function $M(n,e){return`firestore_targets_${n}_${e}`}class tT{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let u,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(u=new Se(o.error.code,o.error.message))),l?new tT(e,t,o.state,u):(yr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class OE{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Se(r.error.code,r.error.message))),u?new OE(e,r.state,o):(yr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=sE();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=aD(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return o?new nT(e,u):(yr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class HM{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new HM(t.clientId,t.onlineState):(yr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zM{constructor(){this.activeTargetIds=sE()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GM{constructor(e,t,r,o,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Tn(Nt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=jN(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new zM),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const u=e.getItem(jN(e.persistenceKey,o));if(u){const l=nT.ar(o,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem($M(this.persistenceKey,e));if(r){const o=OE.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($M(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(u){let l=Vs.ct;if(null!=u)try{const m=JSON.parse(u);ct("number"==typeof m),l=m}catch(m){yr("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);o!==Vs.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new tT(this.currentUser,e,t,r),u=$N(this.persistenceKey,this.currentUser,e);this.setItem(u,o.hr())}Cr(e){const t=$N(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=$M(this.persistenceKey,e),u=new OE(e,t,r);this.setItem(o,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return nT.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return tT.ar(new ni(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return OE.ar(o,t)}br(e){return HM.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),u=this.Sr(r),l=[],m=[];return u.forEach(w=>{o.has(w)||l.push(w)}),o.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Wr(l,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=sE();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class HN{constructor(){this.Hr=new zM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new zM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jR{Yr(e){}shutdown(){}}class zN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rT=null;function qM(){return null===rT?rT=268435456+Math.round(2147483648*Math.random()):rT++,"0x"+rT.toString(16)}const $R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const us="WebChannelConnection";class zR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const l=qM(),m=this.To(e,t);Fe("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const w={};return this.Eo(w,o,u),this.Ao(e,m,w,r).then(D=>(Fe("RestConnection",`Received RPC '${e}' ${l}: `,D),D),D=>{throw so("RestConnection",`RPC '${e}' ${l} failed with error: `,D,"url: ",m,"request:",r),D})}vo(e,t,r,o,u,l){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ef,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${$R[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=qM();return new Promise((l,m)=>{const w=new SS;w.setWithCredentials(!0),w.listenOnce(TS.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case kw.NO_ERROR:const S=w.getResponseJson();Fe(us,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),l(S);break;case kw.TIMEOUT:Fe(us,`RPC '${e}' ${u} timed out`),m(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case kw.HTTP_ERROR:const O=w.getStatus();if(Fe(us,`RPC '${e}' ${u} failed with status:`,O,"response text:",w.getResponseText()),O>0){let B=w.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B?.error;if(J&&J.status&&J.message){const _e=function(Ve){const Ue=Ve.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(Ue)>=0?Ue:oe.UNKNOWN}(J.status);m(new Se(_e,J.message))}else m(new Se(oe.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Fe(us,`RPC '${e}' ${u} completed.`)}});const D=JSON.stringify(o);Fe(us,`RPC '${e}' ${u} sending request:`,o),w.send(t,"POST",D,r,15)})}Ro(e,t,r){const o=qM(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=CS(),m=DS(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(w.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(w.xmlHttpFactory=new YC({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const S=u.join("");Fe(us,`Creating RPC '${e}' stream ${o}: ${S}`,w);const O=l.createWebChannel(S,w);let B=!1,J=!1;const _e=new HR({ro:Ue=>{J?Fe(us,`Not sending because RPC '${e}' stream ${o} is closed:`,Ue):(B||(Fe(us,`Opening RPC '${e}' stream ${o} transport.`),O.open(),B=!0),Fe(us,`RPC '${e}' stream ${o} sending:`,Ue),O.send(Ue))},oo:()=>O.close()}),Ve=(Ue,ft,bt)=>{Ue.listen(ft,Et=>{try{bt(Et)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return Ve(O,Cv.EventType.OPEN,()=>{J||Fe(us,`RPC '${e}' stream ${o} transport opened.`)}),Ve(O,Cv.EventType.CLOSE,()=>{J||(J=!0,Fe(us,`RPC '${e}' stream ${o} transport closed`),_e.wo())}),Ve(O,Cv.EventType.ERROR,Ue=>{J||(J=!0,so(us,`RPC '${e}' stream ${o} transport errored:`,Ue),_e.wo(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),Ve(O,Cv.EventType.MESSAGE,Ue=>{var ft;if(!J){const bt=Ue.data[0];ct(!!bt);const Ot=bt.error||(null===(ft=bt[0])||void 0===ft?void 0:ft.error);if(Ot){Fe(us,`RPC '${e}' stream ${o} received error:`,Ot);const Zt=Ot.status;let un=function(vm){const fR=or[vm];if(void 0!==fR)return Qv(fR)}(Zt),cs=Ot.message;void 0===un&&(un=oe.INTERNAL,cs="Unknown error status: "+Zt+" with message "+Ot.message),J=!0,_e.wo(new Se(un,cs)),O.close()}else Fe(us,`RPC '${e}' stream ${o} received:`,bt),_e._o(bt)}}),Ve(m,KC.STAT_EVENT,Ue=>{Ue.stat===AS.PROXY?Fe(us,`RPC '${e}' stream ${o} detected buffering proxy`):Ue.stat===AS.NOPROXY&&Fe(us,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{_e.fo()},0),_e}}function GN(){return typeof window<"u"?window:null}function iT(){return typeof document<"u"?document:null}function RE(n){return new yM(n,!0)}class ZM{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qN{constructor(e,t,r,o,u,l,m,w){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ZM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,pe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,pe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===oe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Se(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,pe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GR extends qN{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function _M(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:it(),o=e.targetChange.targetIds||[],u=function(w,D){return w.useProto3Json?(ct(void 0===D||"string"==typeof D),jr.fromBase64String(D||"")):(ct(void 0===D||D instanceof Uint8Array),jr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(w){const D=void 0===w.code?oe.UNKNOWN:Qv(w.code);return new Se(D,w.message||"")}(l);t=new FD(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=ba(n,r.document.name),u=_r(r.document.updateTime),l=r.document.createTime?_r(r.document.createTime):_t.min(),m=new Oi({mapValue:{fields:r.document.fields}}),w=Gn.newFoundDocument(o,u,l,m);t=new sm(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,o=ba(n,r.document),u=r.readTime?_r(r.readTime):_t.min(),l=Gn.newNoDocument(o,u);t=new sm([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=ba(n,r.document);t=new sm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return it();{const r=e.filter,{count:o=0,unchangedNames:u}=r,l=new pE(o,u);t=new vE(r.targetId,l)}}var w;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return _t.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?_t.min():u.readTime?_r(u.readTime):_t.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=e_(this.serializer),t.addTarget=function(o,u){let l;const m=u.target;if(l=Hv(m)?{documents:DE(o,m)}:{query:n_(o,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=jD(o,u.resumeToken);const w=BD(o,u.expectedCount);null!==w&&(l.expectedCount=w)}else if(u.snapshotVersion.compareTo(_t.min())>0){l.readTime=om(o,u.snapshotVersion.toTimestamp());const w=BD(o,u.expectedCount);null!==w&&(l.expectedCount=w)}return l}(this.serializer,e);const r=function IM(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=e_(this.serializer),t.removeTarget=e,this.Wo(t)}}class qR extends qN{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function wM(n,e){return n&&n.length>0?(ct(void 0!==e),n.map(t=>function(r,o){let u=_r(r.updateTime?r.updateTime:o);return u.isEqual(_t.min())&&(u=_r(o)),new uM(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.cu(r,t)}return ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=e_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zc(this.serializer,r))};this.Wo(t)}}class ZR extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(oe.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(oe.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class KR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(yr(t),this.mu=!1):Fe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class YR{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,pe.Z)(function*(){var w;Af(l)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,pe.Z)(function*(D){const S=Qe(D);S.vu.add(4),yield a_(S),S.bu.set("Unknown"),S.vu.delete(4),yield PE(S)}),function(D){return w.apply(this,arguments)})(l))}))}),this.bu=new KR(r,o)}}function PE(n){return KM.apply(this,arguments)}function KM(){return KM=(0,pe.Z)(function*(n){if(Af(n))for(const e of n.Ru)yield e(!0)}),KM.apply(this,arguments)}function a_(n){return YM.apply(this,arguments)}function YM(){return YM=(0,pe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),YM.apply(this,arguments)}function sT(n,e){const t=Qe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),XM(t)?JM(t):c_(t).Ko()&&QM(t,e))}function kE(n,e){const t=Qe(n),r=c_(t);t.Au.delete(e),r.Ko()&&ZN(t,e),0===t.Au.size&&(r.Ko()?r.jo():Af(t)&&t.bu.set("Unknown"))}function QM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}c_(n).su(e)}function ZN(n,e){n.Vu.qt(e),c_(n).iu(e)}function JM(n){n.Vu=new VD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),c_(n).start(),n.bu.gu()}function XM(n){return Af(n)&&!c_(n).Uo()&&n.Au.size>0}function Af(n){return 0===Qe(n).vu.size}function WN(n){n.Vu=void 0}function QR(n){return ex.apply(this,arguments)}function ex(){return ex=(0,pe.Z)(function*(n){n.Au.forEach((e,t)=>{QM(n,e)})}),ex.apply(this,arguments)}function JR(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,pe.Z)(function*(n,e){WN(n),XM(n)?(n.bu.Iu(e),JM(n)):n.bu.set("Unknown")}),tx.apply(this,arguments)}function XR(n,e,t){return nx.apply(this,arguments)}function nx(){return nx=(0,pe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof FD&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(o,u){const l=u.cause;for(const m of u.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,l),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oT(n,r)}else if(e instanceof sm?n.Vu.Ht(e):e instanceof vE?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(_t.min()))try{const r=yield FN(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.Vu.ce(u);return l.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const D=o.Au.get(w);D&&o.Au.set(w,D.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,w)=>{const D=o.Au.get(m);if(!D)return;o.Au.set(m,D.withResumeToken(jr.EMPTY_BYTE_STRING,D.snapshotVersion)),ZN(o,m);const S=new qc(D.target,m,w,D.sequenceNumber);QM(o,S)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield oT(n,r)}var r}),nx.apply(this,arguments)}function oT(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,pe.Z)(function*(n,e,t){if(!Fc(e))throw e;n.vu.add(1),yield a_(n),n.bu.set("Offline"),t||(t=()=>FN(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield PE(n)}))}),rx.apply(this,arguments)}function KN(n,e){return e().catch(t=>oT(n,t,e))}function u_(n){return ix.apply(this,arguments)}function ix(){return ix=(0,pe.Z)(function*(n){const e=Qe(n),t=Sf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;eP(e);)try{const o=yield VR(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,tP(e,o)}catch(o){yield oT(e,o)}YN(e)&&QN(e)}),ix.apply(this,arguments)}function eP(n){return Af(n)&&n.Eu.length<10}function tP(n,e){n.Eu.push(e);const t=Sf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function YN(n){return Af(n)&&!Sf(n).Uo()&&n.Eu.length>0}function QN(n){Sf(n).start()}function nP(n){return sx.apply(this,arguments)}function sx(){return sx=(0,pe.Z)(function*(n){Sf(n).hu()}),sx.apply(this,arguments)}function rP(n){return ox.apply(this,arguments)}function ox(){return ox=(0,pe.Z)(function*(n){const e=Sf(n);for(const t of n.Eu)e.uu(t.mutations)}),ox.apply(this,arguments)}function iP(n,e,t){return ax.apply(this,arguments)}function ax(){return ax=(0,pe.Z)(function*(n,e,t){const r=n.Eu.shift(),o=Kv.from(r,e,t);yield KN(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield u_(n)}),ax.apply(this,arguments)}function sP(n,e){return ux.apply(this,arguments)}function ux(){return ux=(0,pe.Z)(function*(n,e){var t;e&&Sf(n).ou&&(yield(t=(0,pe.Z)(function*(r,o){if(Yv(u=o.code)&&u!==oe.ABORTED){const l=r.Eu.shift();Sf(r).Qo(),yield KN(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield u_(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),YN(n)&&QN(n)}),ux.apply(this,arguments)}function JN(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,pe.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Af(t);t.vu.add(3),yield a_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield PE(t)}),cx.apply(this,arguments)}function lx(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,pe.Z)(function*(n,e){const t=Qe(n);e?(t.vu.delete(2),yield PE(t)):e||(t.vu.add(2),yield a_(t),t.bu.set("Unknown"))}),dx.apply(this,arguments)}function c_(n){return n.Su||(n.Su=function(e,t,r){const o=Qe(e);return o.fu(),new GR(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:QR.bind(null,n),ao:JR.bind(null,n),nu:XR.bind(null,n)}),n.Ru.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Su.Qo(),XM(n)?JM(n):n.bu.set("Unknown")):(yield n.Su.stop(),WN(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Sf(n){return n.Du||(n.Du=function(e,t,r){const o=Qe(e);return o.fu(),new qR(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:nP.bind(null,n),ao:sP.bind(null,n),au:rP.bind(null,n),cu:iP.bind(null,n)}),n.Ru.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Du.Qo(),yield u_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class hx{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,m=new hx(e,t,l,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l_(n,e){if(yr("AsyncQueue",`${e}: ${n}`),Fc(n))return new Se(oe.UNAVAILABLE,`${e}: ${n}`);throw n}class d_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Zv(),this.sortedSet=new Tn(this.comparator)}static emptySet(e){return new d_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof d_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new d_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XN{constructor(){this.Cu=new Tn(Ye.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):it():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class h_{constructor(e,t,r,o,u,l,m,w,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,o,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new h_(e,t,d_.emptySet(t),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class oP{constructor(){this.Nu=void 0,this.listeners=[]}}class aP{constructor(){this.queries=new Ea(e=>tE(e),pf),this.onlineState="Unknown",this.ku=new Set}}function fx(n,e){return px.apply(this,arguments)}function px(){return px=(0,pe.Z)(function*(n,e){const t=Qe(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new oP),o)try{u.Nu=yield t.onListen(r)}catch(l){const m=l_(l,`Initialization of query '${nE(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&yx(t)}),px.apply(this,arguments)}function gx(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,pe.Z)(function*(n,e){const t=Qe(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),mx.apply(this,arguments)}function uP(n,e){const t=Qe(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const m of l.listeners)m.$u(o)&&(r=!0);l.Nu=o}}r&&yx(t)}function cP(n,e,t){const r=Qe(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function yx(n){n.ku.forEach(e=>{e.next()})}class vx{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new h_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=h_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class lP{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class eO{constructor(e){this.serializer=e}rr(e){return ba(this.serializer,e)}ur(e){return e.metadata.exists?bE(this.serializer,e.document,!1):Gn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return _r(e)}}class dP{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tO(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=tn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new eO(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.rr(o.metadata.name);for(const l of o.metadata.queries){const m=(t.get(l)||Gt()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function UR(n,e,t,r){return BM.apply(this,arguments)}(e.localStore,new eO(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield BR(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function tO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class nO{constructor(e){this.key=e}}class rO{constructor(e){this.key=e}}class iO{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gt(),this.mutatedKeys=Gt(),this.tc=qv(e),this.ec=new d_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new XN,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,m=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,D="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,O)=>{const B=o.get(S),J=gf(this.query,O)?O:null,_e=!!B&&this.mutatedKeys.has(B.key),Ve=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Ue=!1;B&&J?B.data.isEqual(J.data)?_e!==Ve&&(r.track({type:3,doc:J}),Ue=!0):this.rc(B,J)||(r.track({type:2,doc:J}),Ue=!0,(w&&this.tc(J,w)>0||D&&this.tc(J,D)<0)&&(m=!0)):!B&&J?(r.track({type:0,doc:J}),Ue=!0):B&&!J&&(r.track({type:1,doc:B}),Ue=!0,(w||D)&&(m=!0)),Ue&&(J?(l=l.add(J),u=Ve?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((D,S)=>function(O,B){const J=_e=>{switch(_e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return J(O)-J(B)}(D.type,S.type)||this.tc(D.doc,S.doc)),this.oc(r);const l=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,w=m!==this.Xu;return this.Xu=m,0!==u.length||w?{snapshot:new h_(this.query,e.ec,o,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new XN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new rO(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new nO(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Gt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return h_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fP{constructor(e){this.key=e,this.fc=!1}}class pP{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Ea(m=>tE(m),pf),this._c=new Map,this.mc=new Set,this.gc=new Tn(Ye.comparator),this.yc=new Map,this.Ic=new OM,this.Tc={},this.Ec=new Map,this.Ac=cm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function gP(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,pe.Z)(function*(n,e){const t=$x(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const l=yield s_(t.localStore,Ri(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield wx(t,e,r,"current"===m,l.resumeToken),t.isPrimaryClient&&sT(t.remoteStore,l)}return o}),_x.apply(this,arguments)}function wx(n,e,t,r,o){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,pe.Z)(function*(n,e,t,r,o){n.Rc=(O,B,J)=>{return(_e=(0,pe.Z)(function*(Ve,Ue,ft,bt){let Et=Ue.view.sc(ft);Et.zi&&(Et=yield eT(Ve.localStore,Ue.query,!1).then(({documents:un})=>Ue.view.sc(un,Et)));const Ot=bt&&bt.targetChanges.get(Ue.targetId),Zt=Ue.view.applyChanges(Et,Ve.isPrimaryClient,Ot);return Nx(Ve,Ue.targetId,Zt.cc),Zt.snapshot}),function(Ve,Ue,ft,bt){return _e.apply(this,arguments)})(n,O,B,J);var _e};const u=yield eT(n.localStore,e,!0),l=new iO(e,u.ir),m=l.sc(u.documents),w=_f.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),D=l.applyChanges(m,n.isPrimaryClient,w);Nx(n,t,D.cc);const S=new hP(e,t,l);return n.wc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),D.snapshot}),Ex.apply(this,arguments)}function mP(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,pe.Z)(function*(n,e){const t=Qe(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!pf(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield o_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),kE(t.remoteStore,r.targetId),f_(t,r.targetId)}).catch(mu))):(f_(t,r.targetId),yield o_(t.localStore,r.targetId,!0))}),Ix.apply(this,arguments)}function bx(){return bx=(0,pe.Z)(function*(n,e,t){const r=Hx(n);try{const o=yield function(u,l){const m=Qe(u),w=zn.now(),D=l.reduce((B,J)=>B.add(J.key),Gt());let S,O;return m.persistence.runTransaction("Locally write mutations","readwrite",B=>{let J=Pi(),_e=Gt();return m.Zi.getEntries(B,D).next(Ve=>{J=Ve,J.forEach((Ue,ft)=>{ft.isValidDocument()||(_e=_e.add(Ue))})}).next(()=>m.localDocuments.getOverlayedDocuments(B,J)).next(Ve=>{S=Ve;const Ue=[];for(const ft of l){const bt=lM(ft,S.get(ft.key).overlayedDocument);null!=bt&&Ue.push(new Hc(ft.key,bt,YS(bt.value.mapValue),Yn.exists(!0)))}return m.mutationQueue.addMutationBatch(B,w,Ue,l)}).next(Ve=>{O=Ve;const Ue=Ve.applyToLocalDocumentSet(S,_e);return m.documentOverlayCache.saveOverlays(B,Ve.batchId,Ue)})}).then(()=>({batchId:O.batchId,changes:iE(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,m){let w=u.Tc[u.currentUser.toKey()];w||(w=new Tn(Nt)),w=w.insert(l,m),u.Tc[u.currentUser.toKey()]=w}(r,o.batchId,t),yield Cd(r,o.changes),yield u_(r.remoteStore)}catch(o){const u=l_(o,"Failed to persist write");t.reject(u)}}),bx.apply(this,arguments)}function sO(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,pe.Z)(function*(n,e){const t=Qe(n);try{const r=yield function LR(n,e){const t=Qe(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((S,O)=>{const B=o.get(O);if(!B)return;m.push(t.Bs.removeMatchingKeys(u,S.removedDocuments,O).next(()=>t.Bs.addMatchingKeys(u,S.addedDocuments,O)));let J=B.withSequenceNumber(u.currentSequenceNumber);var _e,Ve,Ue;null!==e.targetMismatches.get(O)?J=J.withResumeToken(jr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(S.resumeToken,r)),o=o.insert(O,J),Ve=J,Ue=S,(0===(_e=B).resumeToken.approximateByteSize()||Ve.snapshotVersion.toMicroseconds()-_e.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,J))});let w=Pi(),D=Gt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(LN(u,l,e.documentUpdates).next(S=>{w=S.nr,D=S.sr})),!r.isEqual(_t.min())){const S=t.Bs.getLastRemoteSnapshotVersion(u).next(O=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return ie.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,D)).next(()=>w)}).then(u=>(t.Ji=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.yc.get(u);l&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?ct(l.fc):o.removedDocuments.size>0&&(ct(l.fc),l.fc=!1))}),yield Cd(t,r,e)}catch(r){yield mu(r)}}),Cx.apply(this,arguments)}function oO(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(u,l){const m=Qe(u);m.onlineState=l;let w=!1;m.queries.forEach((D,S)=>{for(const O of S.listeners)O.Mu(l)&&(w=!0)}),w&&yx(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vP(n,e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,pe.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let l=new Tn(Ye.comparator);l=l.insert(u,Gn.newNoDocument(u,_t.min()));const m=Gt().add(u),w=new im(_t.min(),new Map,new Tn(Nt),l,m);yield sO(r,w),r.gc=r.gc.remove(u),r.yc.delete(e),Ox(r)}else yield o_(r.localStore,e,!1).then(()=>f_(r,e,t)).catch(mu)}),Dx.apply(this,arguments)}function _P(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,pe.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const o=yield function FR(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,w,D){const S=w.batch,O=S.keys();let B=ie.resolve();return O.forEach(J=>{B=B.next(()=>D.getEntry(m,J)).next(_e=>{const Ve=w.docVersions.get(J);ct(null!==Ve),_e.version.compareTo(Ve)<0&&(S.applyToRemoteDocument(_e,w),_e.isValidDocument()&&(_e.setReadTime(w.commitVersion),D.addEntry(_e)))})}),B.next(()=>l.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=Gt();for(let w=0;w<l.mutationResults.length;++w)l.mutationResults[w].transformResults.length>0&&(m=m.add(l.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);xx(t,r,null),Mx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Cd(t,o)}catch(o){yield mu(o)}}),Tx.apply(this,arguments)}function wP(n,e,t){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,pe.Z)(function*(n,e,t){const r=Qe(n);try{const o=yield function(u,l){const m=Qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let D;return m.mutationQueue.lookupMutationBatch(w,l).next(S=>(ct(null!==S),D=S.keys(),m.mutationQueue.removeMutationBatch(w,S))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,D,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,D)).next(()=>m.localDocuments.getDocuments(w,D))})}(r.localStore,e);xx(r,e,t),Mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Cd(r,o)}catch(o){yield mu(o)}}),Ax.apply(this,arguments)}function Sx(){return Sx=(0,pe.Z)(function*(n,e){const t=Qe(n);Af(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=Qe(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=l_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Sx.apply(this,arguments)}function Mx(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function xx(n,e,t){const r=Qe(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function f_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||aO(n,r)})}function aO(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(kE(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Ox(n))}function Nx(n,e,t){for(const r of t)r instanceof nO?(n.Ic.addReference(r.key,e),IP(n,r)):r instanceof rO?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||aO(n,r.key)):it()}function IP(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.mc.add(r),Ox(n))}function Ox(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ye(tn.fromString(e)),r=n.Ac.next();n.yc.set(r,new fP(t)),n.gc=n.gc.insert(t,r),sT(n.remoteStore,new qc(Ri(ff(t.path)),r,"TargetPurposeLimboResolution",Vs.ct))}}function Cd(n,e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,pe.Z)(function*(n,e,t){const r=Qe(n),o=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,w)=>{l.push(r.Rc(w,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,D?.fromCache?"not-current":"current"),D){o.push(D);const S=LM.Li(w.targetId,D);u.push(S)}}))}),yield Promise.all(l),r.dc.nu(o),yield(m=(0,pe.Z)(function*(w,D){const S=Qe(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>ie.forEach(D,B=>ie.forEach(B.Fi,J=>S.persistence.referenceDelegate.addReference(O,B.targetId,J)).next(()=>ie.forEach(B.Bi,J=>S.persistence.referenceDelegate.removeReference(O,B.targetId,J)))))}catch(O){if(!Fc(O))throw O;Fe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of D){const B=O.targetId;if(!O.fromCache){const J=S.Ji.get(B),Ve=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);S.Ji=S.Ji.insert(B,Ve)}}}),function(w,D){return m.apply(this,arguments)})(r.localStore,u))}),Rx.apply(this,arguments)}function bP(n,e){return Px.apply(this,arguments)}function Px(){return Px=(0,pe.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield kN(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(l=>{l.forEach(m=>{m.reject(new Se(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cd(t,r.er)}var o}),Px.apply(this,arguments)}function CP(n,e){const t=Qe(n),r=t.yc.get(e);if(r&&r.fc)return Gt().add(r.key);{let o=Gt();const u=t._c.get(e);if(!u)return o;for(const l of u){const m=t.wc.get(l);o=o.unionWith(m.view.nc)}return o}}function DP(n,e){return kx.apply(this,arguments)}function kx(){return kx=(0,pe.Z)(function*(n,e){const t=Qe(n),r=yield eT(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&Nx(t,e.targetId,o.cc),o}),kx.apply(this,arguments)}function TP(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,pe.Z)(function*(n,e){const t=Qe(n);return UN(t.localStore,e).then(r=>Cd(t,r))}),Fx.apply(this,arguments)}function AP(n,e,t,r){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,pe.Z)(function*(n,e,t,r){const o=Qe(n),u=yield function(l,m){const w=Qe(l),D=Qe(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.Sn(S,m).next(O=>O?w.localDocuments.getDocuments(S,O):ie.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield u_(o.remoteStore):"acknowledged"===t||"rejected"===t?(xx(o,e,r||null),Mx(o,e),m=e,Qe(Qe(o.localStore).mutationQueue).Cn(m)):it(),yield Cd(o,u)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Lx.apply(this,arguments)}function Vx(){return Vx=(0,pe.Z)(function*(n,e){const t=Qe(n);if($x(t),Hx(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield uO(t,r.toArray());t.vc=!0,yield lx(t.remoteStore,!0);for(const u of o)sT(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(f_(t,l),o_(t.localStore,l,!0))),kE(t.remoteStore,l)}),yield o,yield uO(t,r),function(u){const l=Qe(u);l.yc.forEach((m,w)=>{kE(l.remoteStore,w)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Tn(Ye.comparator)}(t),t.vc=!1,yield lx(t.remoteStore,!1)}}),Vx.apply(this,arguments)}function uO(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,pe.Z)(function*(n,e,t){const r=Qe(n),o=[],u=[];for(const l of e){let m;const w=r._c.get(l);if(w&&0!==w.length){m=yield s_(r.localStore,Ri(w[0]));for(const D of w){const S=r.wc.get(D),O=yield DP(r,S);O.snapshot&&u.push(O.snapshot)}}else{const D=yield VN(r.localStore,l);m=yield s_(r.localStore,D),yield wx(r,cO(D),l,!1,m.resumeToken)}o.push(m)}return r.dc.nu(u),o}),Ux.apply(this,arguments)}function cO(n){return CD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function MP(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).$i()}function xP(n,e,t,r){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,pe.Z)(function*(n,e,t,r){const o=Qe(n);if(o.vc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const u=o._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield UN(o.localStore,TD(u[0])),m=im.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,jr.EMPTY_BYTE_STRING);yield Cd(o,l,m);break}case"rejected":yield o_(o.localStore,e,!0),f_(o,e,r);break;default:it()}}),Bx.apply(this,arguments)}function NP(n,e,t){return jx.apply(this,arguments)}function jx(){return jx=(0,pe.Z)(function*(n,e,t){const r=$x(n);if(r.vc){for(const o of e){if(r._c.has(o)){Fe("SyncEngine","Adding an already active target "+o);continue}const u=yield VN(r.localStore,o),l=yield s_(r.localStore,u);yield wx(r,cO(u),l.targetId,!1,l.resumeToken),sT(r.remoteStore,l)}for(const o of t)r._c.has(o)&&(yield o_(r.localStore,o,!1).then(()=>{kE(r.remoteStore,o),f_(r,o)}).catch(mu))}}),jx.apply(this,arguments)}function $x(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vP.bind(null,e),e.dc.nu=uP.bind(null,e.eventManager),e.dc.Pc=cP.bind(null,e.eventManager),e}function Hx(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_P.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wP.bind(null,e),e}class FE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.serializer=RE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return PN(this.persistence,new RN,e.initialUser,this.serializer)}createPersistence(e){return new RM(QD.zs,this.serializer)}createSharedClientState(e){return new HN}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zx extends FE{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield Hx(r.Vc.syncEngine),yield u_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return PN(this.persistence,new RN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new CN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Bw(t,this.persistence);return new Uw(e.asyncQueue,r)}createPersistence(e){const t=FM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new kM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,GN(),iT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new HN}}class lO extends zx{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof GM&&(r.sharedClientState.syncEngine={jr:AP.bind(null,o),zr:xP.bind(null,o),Wr:NP.bind(null,o),$i:MP.bind(null,o),Qr:TP.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,pe.Z)(function*(l){yield function SP(n,e){return Vx.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=GN();if(!GM.D(t))throw new Se(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=FM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new GM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class p_{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>oO(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=bP.bind(null,r.syncEngine),yield lx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aP}createDatastore(e){const t=RE(e.databaseInfo.databaseId),r=new zR(e.databaseInfo);return new ZR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>oO(this.syncEngine,m,0),l=zN.D()?new zN:new jR,new YR(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,m,w,D){const S=new pP(r,o,u,l,m,w);return D&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=Qe(t);Fe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield a_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dO(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class aT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class PP{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Mr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(o);return new lP(JSON.parse(u),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,pe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class kP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,pe.Z)(function*(u,l){const m=Qe(u),w=e_(m.serializer)+"/documents",D={documents:l.map(J=>wf(m.serializer,J))},S=yield m.vo("BatchGetDocuments",w,D,l.length),O=new Map;S.forEach(J=>{const _e=function HD(n,e){return"found"in e?function(t,r){ct(!!r.found);const o=ba(t,r.found.name),u=_r(r.found.updateTime),l=r.found.createTime?_r(r.found.createTime):_t.min(),m=new Oi({mapValue:{fields:r.found.fields}});return Gn.newFoundDocument(o,u,l,m)}(n,e):"missing"in e?function(t,r){ct(!!r.missing),ct(!!r.readTime);const o=ba(t,r.missing),u=_r(r.readTime);return Gn.newNoDocument(o,u)}(n,e):it()}(m.serializer,J);O.set(_e.key.toString(),_e)});const B=[];return l.forEach(J=>{const _e=O.get(J.toString());ct(!!_e),B.push(_e)}),B}),function(u,l){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Ye.fromPath(o);e.mutations.push(new hE(u,e.precondition(u)))}),yield(r=(0,pe.Z)(function*(o,u){const l=Qe(o),m=e_(l.serializer)+"/documents",w={writes:u.map(D=>zc(l.serializer,D))};yield l.Io("Commit",m,w)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Se(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?Yn.exists(!1):Yn.updateTime(t):Yn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new Se(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(t)}return Yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class FP{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new ZM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,pe.Z)(function*(){const t=new kP(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Uc(u)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!jg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Yv(t)}return!1}}class LP{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ni.UNAUTHENTICATED,this.clientId=tD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,pe.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Fe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=l_(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function uT(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,pe.Z)(function*(u){r.isEqual(u)||(yield kN(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Gx.apply(this,arguments)}function qx(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Wx(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>JN(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>JN(e.remoteStore,u)),n._onlineComponents=e}),Zx.apply(this,arguments)}function hO(n){return"FirebaseError"===n.name?n.code===oe.FAILED_PRECONDITION||n.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Wx(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,pe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!hO(t))throw t;so("Error using user provided cache. Falling back to memory cache: "+t),yield uT(n,new FE)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield uT(n,new FE);return n._offlineComponents}),Kx.apply(this,arguments)}function cT(n){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,pe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield qx(n,n._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield qx(n,new p_))),n._onlineComponents}),Yx.apply(this,arguments)}function fO(n){return Wx(n).then(e=>e.persistence)}function lT(n){return Wx(n).then(e=>e.localStore)}function pO(n){return cT(n).then(e=>e.remoteStore)}function Qx(n){return cT(n).then(e=>e.syncEngine)}function g_(n){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,pe.Z)(function*(n){const e=yield cT(n),t=e.eventManager;return t.onListen=gP.bind(null,e.syncEngine),t.onUnlisten=mP.bind(null,e.syncEngine),t}),Jx.apply(this,arguments)}function mO(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(o,u,l,m,w){const D=new aT({next:O=>{u.enqueueAndForget(()=>gx(o,S));const B=O.docs.has(l);!B&&O.fromCache?w.reject(new Se(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&O.fromCache&&m&&"server"===m.source?w.reject(new Se(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(O)},error:O=>w.reject(O)}),S=new vx(ff(l.path),D,{includeMetadataChanges:!0,Ku:!0});return fx(o,S)}(yield g_(n),n.asyncQueue,e,t,r)})),r.promise}function yO(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(o,u,l,m,w){const D=new aT({next:O=>{u.enqueueAndForget(()=>gx(o,S)),O.fromCache&&"server"===m.source?w.reject(new Se(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(O)},error:O=>w.reject(O)}),S=new vx(l,D,{includeMetadataChanges:!0,Ku:!0});return fx(o,S)}(yield g_(n),n.asyncQueue,e,t,r)})),r.promise}function vO(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const _O=new Map;function Xx(n,e,t){if(!t)throw new Se(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wO(n,e,t,r){if(!0===e&&!0===r)throw new Se(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function EO(n){if(!Ye.isDocumentKey(n))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IO(n){if(Ye.isDocumentKey(n))throw new Se(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dT(n);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function bO(n,e){if(e<=0)throw new Se(oe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class CO{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class LE{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new xS;switch(t.type){case"firstParty":return new OS(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_O.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),_O.delete(e),t.terminate())}(this),Promise.resolve()}}class Qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class Zc extends Ki{constructor(e,t,r){super(e,t,ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Ye(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function TO(n,e,...t){if(n=(0,zt.m9)(n),Xx("collection","path",e),n instanceof LE){const r=tn.fromString(e,...t);return IO(r),new Zc(n,null,r)}{if(!(n instanceof Qn||n instanceof Zc))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return IO(r),new Zc(n.firestore,null,r)}}function hT(n,e,...t){if(n=(0,zt.m9)(n),1===arguments.length&&(e=tD.A()),Xx("doc","path",e),n instanceof LE){const r=tn.fromString(e,...t);return EO(r),new Qn(n,null,new Ye(r))}{if(!(n instanceof Qn||n instanceof Zc))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return EO(r),new Qn(n.firestore,n instanceof Zc?n.converter:null,new Ye(r))}}function AO(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),(n instanceof Qn||n instanceof Zc)&&(e instanceof Qn||e instanceof Zc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function e1(n,e){return n=(0,zt.m9)(n),e=(0,zt.m9)(e),n instanceof Ki&&e instanceof Ki&&n.firestore===e.firestore&&pf(n._query,e._query)&&n.converter===e.converter}class ZP{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ZM(this,"async_queue_retry"),this.Xc=()=>{const t=iT();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=iT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=iT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Mr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,pe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Fc(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,yr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=hx.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&it()}verifyOperationInProgress(){}sa(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function t1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class WP{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jn extends LE{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new ZP,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SO(this),this._firestoreClient.terminate()}}function $r(n){return n._firestoreClient||SO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SO(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new GS(n._databaseId,m,n._persistenceKey,(D=o).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,vO(D.experimentalLongPollingOptions),D.useFetchStreams));var m,D;n._firestoreClient=new LP(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function MO(n,e,t){const r=new Mr;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield uT(n,t),yield qx(n,e),r.resolve()}catch(o){const u=o;if(!hO(u))throw u;so("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function xO(n){if(n._initialized||n._terminated)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(jr.fromBase64String(e))}catch(t){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wc(jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dm{constructor(e){this._methodName=e}}class fT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const sk=/^__.*__$/;class ok{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms):new nm(e,this.data,t,this.fieldTransforms)}}class NO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class pT{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new pT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return yT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(OO(this.ca)&&sk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ak{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||RE(e)}ya(e,t,r,o=!1){return new pT({ca:e,methodName:t,ga:r,path:sr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(n){const e=n._freezeSettings(),t=RE(n._databaseId);return new ak(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gT(n,e,t,r,o,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,o);s1("Data must be an object, but it was:",l,r);const m=kO(r,l);let w,D;if(u.merge)w=new os(l.fieldMask),D=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const O of u.mergeFields){const B=BE(e,O,t);if(!l.contains(B))throw new Se(oe.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);LO(S,B)||S.push(B)}w=new os(S),D=l.fieldTransforms.filter(O=>w.covers(O.field))}else w=null,D=l.fieldTransforms;return new ok(new Oi(m),w,D)}class UE extends dm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof UE}}function RO(n,e,t){return new pT({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class n1 extends dm{_toFieldTransform(e){return new yf(e.path,new Id)}isEqual(e){return e instanceof n1}}class uk extends dm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=RO(this,e,!0),r=this.pa.map(u=>fm(u,t)),o=new oo(r);return new yf(e.path,o)}isEqual(e){return this===e}}class ck extends dm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=RO(this,e,!0),r=this.pa.map(u=>fm(u,t)),o=new $c(r);return new yf(e.path,o)}isEqual(e){return this===e}}class lk extends dm{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new mf(e.serializer,Wv(e.serializer,this.Ia));return new yf(e.path,t)}isEqual(e){return this===e}}function r1(n,e,t,r){const o=n.ya(1,e,t);s1("Data must be an object, but it was:",o,r);const u=[],l=Oi.empty();Lc(r,(w,D)=>{const S=mT(e,w,t);D=(0,zt.m9)(D);const O=o.da(S);if(D instanceof UE)u.push(S);else{const B=fm(D,O);null!=B&&(u.push(S),l.set(S,B))}});const m=new os(u);return new NO(l,m,o.fieldTransforms)}function i1(n,e,t,r,o,u){const l=n.ya(1,e,t),m=[BE(e,r,t)],w=[o];if(u.length%2!=0)throw new Se(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<u.length;B+=2)m.push(BE(e,u[B])),w.push(u[B+1]);const D=[],S=Oi.empty();for(let B=m.length-1;B>=0;--B)if(!LO(D,m[B])){const J=m[B];let _e=w[B];_e=(0,zt.m9)(_e);const Ve=l.da(J);if(_e instanceof UE)D.push(J);else{const Ue=fm(_e,Ve);null!=Ue&&(D.push(J),S.set(J,Ue))}}const O=new os(D);return new NO(S,O,l.fieldTransforms)}function PO(n,e,t,r=!1){return fm(t,n.ya(r?4:3,e))}function fm(n,e){if(FO(n=(0,zt.m9)(n)))return s1("Unsupported field value:",e,n),kO(n,e);if(n instanceof dm)return function(t,r){if(!OO(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let m=fm(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wv(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=zn.fromDate(t);return{timestampValue:om(r.serializer,o)}}if(t instanceof zn){const o=new zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:om(r.serializer,o)}}if(t instanceof fT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wc)return{bytesValue:jD(r.serializer,t._byteString)};if(t instanceof Qn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${dT(t)}`)}(n,e)}function kO(n,e){const t={};return Ov(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lc(n,(r,o)=>{const u=fm(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function FO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof fT||n instanceof Wc||n instanceof Qn||n instanceof dm)}function s1(n,e,t){if(!FO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function BE(n,e,t){if((e=(0,zt.m9)(e))instanceof Dd)return e._internalPath;if("string"==typeof e)return mT(n,e);throw yT("Field path arguments must be of type string or ",n,!1,void 0,t)}const dk=new RegExp("[~\\*/\\[\\]]");function mT(n,e,t){if(e.search(dk)>=0)throw yT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dd(...e.split("."))._internalPath}catch{throw yT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yT(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||l)&&(w+=" (found",u&&(w+=` in field ${r}`),l&&(w+=` in document ${o}`),w+=")"),new Se(oe.INVALID_ARGUMENT,m+n+w)}function LO(n,e){return n.some(t=>t.isEqual(e))}class jE{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hk extends jE{data(){return super.data()}}function vT(n,e){return"string"==typeof e?mT(n,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}function VO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Se(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o1{}class $E extends o1{}function Mf(n,e,...t){let r=[];e instanceof o1&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof m_).length,l=o.filter(m=>m instanceof HE).length;if(u>1||u>0&&l>0)throw new Se(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class HE extends $E{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new HE(e,t,r)}_apply(e){const t=this._parse(e);return $O(e._query,t),new Ki(e.firestore,e.converter,DD(e._query,t))}_parse(e){const t=hm(e.firestore);return function(o,u,l,m,w,D,S){let O;if(w.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){jO(S,D);const B=[];for(const J of S)B.push(BO(m,o,J));O={arrayValue:{values:B}}}else O=BO(m,o,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||jO(S,D),O=PO(l,"where",S,"in"===D||"not-in"===D);return Jt.create(w,D,O)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class m_ extends o1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new m_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:In.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const l=o.getFlattenedFilters();for(const m of l)$O(u,m),u=DD(u,m)}(e._query,t),new Ki(e.firestore,e.converter,DD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class a1 extends $E{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new a1(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new lf(o,u);return function(m,w){if(null===Qg(m)){const D=Gv(m);null!==D&&HO(0,D,w.field)}}(r,l),l}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new bu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class _T extends $E{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new _T(e,t,r)}_apply(e){return new Ki(e.firestore,e.converter,_i(e._query,this._limit,this._limitType))}}class wT extends $E{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wT(e,t,r)}_apply(e){const t=UO(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(o=t,new bu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class ET extends $E{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ET(e,t,r)}_apply(e){const t=UO(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(o=t,new bu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function UO(n,e,t,r){if(t[0]=(0,zt.m9)(t[0]),t[0]instanceof jE)return function(o,u,l,m,w){if(!m)throw new Se(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const D=[];for(const S of Bc(o))if(S.field.isKeyField())D.push(Uc(u,m.key));else{const O=m.data.field(S.field);if(qw(O))throw new Se(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const B=S.field.canonicalString();throw new Se(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}D.push(O)}return new Iu(D,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=hm(n.firestore);return function(u,l,m,w,D,S){const O=u.explicitOrderBy;if(D.length>O.length)throw new Se(oe.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let J=0;J<D.length;J++){const _e=D[J];if(O[J].field.isKeyField()){if("string"!=typeof _e)throw new Se(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof _e}`);if(!eE(u)&&-1!==_e.indexOf("/"))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${_e}' contains a slash.`);const Ve=u.path.child(tn.fromString(_e));if(!Ye.isDocumentKey(Ve))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Ve}' is not because it contains an odd number of segments.`);const Ue=new Ye(Ve);B.push(Uc(l,Ue))}else{const Ve=PO(m,w,_e);B.push(Ve)}}return new Iu(B,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function BO(n,e,t){if("string"==typeof(t=(0,zt.m9)(t))){if(""===t)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(e)&&-1!==t.indexOf("/"))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!Ye.isDocumentKey(r))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uc(n,new Ye(r))}if(t instanceof Qn)return Uc(n,t._key);throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dT(t)}.`)}function jO(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $O(n,e){if(e.isInequality()){const r=Gv(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=Qg(n);null!==u&&HO(0,o,u)}const t=function(r,o){for(const u of r)for(const l of u.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Se(oe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function HO(n,e,t){if(!t.isEqual(e))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class u1{convertValue(e,t="none"){switch(Eu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Lc(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new fT(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gg(e));default:return null}}convertTimestamp(e){const t=wa(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);ct(TM(r));const o=new _u(r.get(1),r.get(3)),u=new Ye(r.popFirst(5));return o.isEqual(t)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function IT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ek extends u1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}class pm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Td extends jE{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class zE extends Td{data(e={}){return super.data(e)}}class xf{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new pm(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zE(this._firestore,this._userDataWriter,r.key,r,new pm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new zE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new pm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const m=new zE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new pm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,D=-1;return 0!==l.type&&(w=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),D=u.indexOf(l.doc.key)),{type:bk(l.type),doc:m,oldIndex:w,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function GO(n,e){return n instanceof Td&&e instanceof Td?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof xf&&e instanceof xf&&n._firestore===e._firestore&&e1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Nf extends u1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function qO(n,e,t){n=rn(n,Qn);const r=rn(n.firestore,Jn),o=IT(n.converter,e,t);return y_(r,[gT(hm(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Yn.none())])}function ZO(n,e,t,...r){n=rn(n,Qn);const o=rn(n.firestore,Jn),u=hm(o);let l;return l="string"==typeof(e=(0,zt.m9)(e))||e instanceof Dd?i1(u,"updateDoc",n._key,e,t,r):r1(u,"updateDoc",n._key,e),y_(o,[l.toMutation(n._key,Yn.exists(!0))])}function WO(n,...e){var t,r,o;n=(0,zt.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||t1(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(t1(e[l])){const O=e[l];e[l]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[l+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[l+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let w,D,S;if(n instanceof Qn)D=rn(n.firestore,Jn),S=ff(n._key.path),w={next:O=>{e[l]&&e[l](c1(D,n,O))},error:e[l+1],complete:e[l+2]};else{const O=rn(n,Ki);D=rn(O.firestore,Jn),S=O._query;const B=new Nf(D);w={next:J=>{e[l]&&e[l](new xf(D,B,O,J))},error:e[l+1],complete:e[l+2]},VO(n._query)}return function(O,B,J,_e){const Ve=new aT(_e),Ue=new vx(B,Ve,J);return O.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return fx(yield g_(O),Ue)})),()=>{Ve.Dc(),O.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return gx(yield g_(O),Ue)}))}}($r(D),S,m,w)}function y_(n,e){return function(t,r){const o=new Mr;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function yP(n,e,t){return bx.apply(this,arguments)}(yield Qx(t),r,o)})),o.promise}($r(n),e)}function c1(n,e,t){const r=t.docs.get(e._key),o=new Nf(n);return new Td(n,o,e._key,r,new pm(t.hasPendingWrites,t.fromCache),e.converter)}const jk={maxAttempts:5};class KO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hm(e)}set(e,t,r){this._verifyNotCommitted();const o=Of(e,this._firestore),u=IT(o.converter,t,r),l=gT(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,Yn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Of(e,this._firestore);let l;return l="string"==typeof(t=(0,zt.m9)(t))||t instanceof Dd?i1(this._dataReader,"WriteBatch.update",u._key,t,r,o):r1(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Of(e,this._firestore);return this._mutations=this._mutations.concat(new Cu(t._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Of(n,e){if((n=(0,zt.m9)(n)).firestore!==e)throw new Se(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $k extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hm(e)}get(e){const t=Of(e,this._firestore),r=new Ek(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return it();const u=o[0];if(u.isFoundDocument())return new jE(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new jE(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const o=Of(e,this._firestore),u=IT(o.converter,t,r),l=gT(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(e,t,r,...o){const u=Of(e,this._firestore);let l;return l="string"==typeof(t=(0,zt.m9)(t))||t instanceof Dd?i1(this._dataReader,"Transaction.update",u._key,t,r,o):r1(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=Of(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Of(e,this._firestore),r=new Nf(this._firestore);return super.get(e).then(o=>new Td(this._firestore,r,t._key,o._document,new pm(!1,!1),t.converter))}}function l1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function QO(){if(typeof Uint8Array>"u")throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function JO(){if(!function uf(){return typeof atob<"u"}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ef=ir.SDK_VERSION,(0,ir._registerComponent)(new Eo.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new Jn(new iN(t.getProvider("auth-internal")),new RS(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(m.options.projectId,w)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,ir.registerVersion)(QC,"3.13.0",n),(0,ir.registerVersion)(QC,"3.13.0","esm2017")}();class GE{constructor(e){this._delegate=e}static fromBase64String(e){return JO(),new GE(Wc.fromBase64String(e))}static fromUint8Array(e){return QO(),new GE(Wc.fromUint8Array(e))}toBase64(){return JO(),this._delegate.toBase64()}toUint8Array(){return QO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function d1(n){return function Qk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Jk{enableIndexedDbPersistence(e,t){return function YP(n,e){xO(n=rn(n,Jn));const t=$r(n);if(t._uninitializedComponentsProvider)throw new Se(oe.FAILED_PRECONDITION,"SDK cache is already specified.");so("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new p_;return MO(t,o,new zx(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function QP(n){xO(n=rn(n,Jn));const e=$r(n);if(e._uninitializedComponentsProvider)throw new Se(oe.FAILED_PRECONDITION,"SDK cache is already specified.");so("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new p_;return MO(e,r,new lO(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function JP(n){if(n._initialized&&!n._terminated)throw new Se(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!Vo.D())return Promise.resolve();const o=r+"main";yield Vo.delete(o)}),function(r){return t.apply(this,arguments)})(FM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class XO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _u||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&so("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function DO(n,e,t,r={}){var o;const u=(n=rn(n,LE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let m,w;if("string"==typeof r.mockUserToken)m=r.mockUserToken,w=ni.MOCK_USER;else{m=(0,zt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ni(D)}n._authCredentials=new rN(new XC(m,w))}}(this._delegate,e,t,r)}enableNetwork(){return function ek(n){return function VP(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield fO(n),t=yield pO(n);return e.setNetworkEnabled(!0),function(r){const o=Qe(r);return o.vu.delete(0),PE(o)}(t)}))}($r(n=rn(n,Jn)))}(this._delegate)}disableNetwork(){return function tk(n){return function UP(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield fO(n),t=yield pO(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(o){const u=Qe(o);u.vu.add(0),yield a_(u),u.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}($r(n=rn(n,Jn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,wO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function XP(n){return function(e){const t=new Mr;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function EP(n,e){return Sx.apply(this,arguments)}(yield Qx(e),t)})),t.promise}($r(n=rn(n,Jn)))}(this._delegate)}onSnapshotsInSync(e){return function Ok(n,e){return function $P(n,e){const t=new aT(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield g_(n),o=t,Qe(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield g_(n),o=t,void Qe(r).ku.delete(o);var r,o}))}}($r(n=rn(n,Jn)),t1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new v_(this,TO(this._delegate,e))}catch(t){throw Us(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ca(this,hT(this._delegate,e))}catch(t){throw Us(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Bs(this,function qP(n,e){if(n=rn(n,LE),Xx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(n,null,(t=e,new bu(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Us(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Hk(n,e,t){n=rn(n,Jn);const r=Object.assign(Object.assign({},jk),t);return function(o){if(o.maxAttempts<1)throw new Se(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,l){const m=new Mr;return o.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const w=yield function gO(n){return cT(n).then(e=>e.datastore)}(o);new FP(o.asyncQueue,w,l,u,m).run()})),m.promise}($r(n),o=>e(new $k(n,o)),r)}(this._delegate,t=>e(new eR(this,t)))}batch(){return $r(this._delegate),new tR(new KO(this._delegate,e=>y_(this._delegate,e)))}loadBundle(e){return function nk(n,e){const t=$r(n=rn(n,Jn)),r=new WP;return function HP(n,e,t,r){const o=function(u,l){let m;return m="string"==typeof u?pM().encode(u):u,w=function(w,D){if(w instanceof Uint8Array)return dO(w,D);if(w instanceof ArrayBuffer)return dO(new Uint8Array(w),D);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new PP(w,l);var w}(t,RE(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function OP(n,e,t){const r=Qe(n);var o;(o=(0,pe.Z)(function*(u,l,m){try{const w=yield l.getMetadata();if(yield function(B,J){const _e=Qe(B),Ve=_r(J.createTime);return _e.persistence.runTransaction("hasNewerBundle","readonly",Ue=>_e.qs.getBundleMetadata(Ue,J.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Ve)>=0)}(u.localStore,w))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(B=w).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);m._updateProgress(tO(w));const D=new dP(w,u.localStore,l.serializer);let S=yield l.bc();for(;S;){const B=yield D.zu(S);B&&m._updateProgress(B),S=yield l.bc()}const O=yield D.complete();return yield Cd(u,O.Ju,void 0),yield function(B,J){const _e=Qe(B);return _e.persistence.runTransaction("Save bundle","readwrite",Ve=>_e.qs.saveBundleMetadata(Ve,J))}(u.localStore,w),m._completeWith(O.progress),Promise.resolve(O.Hu)}catch(w){return so("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var B}),function(u,l,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield Qx(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function rk(n,e){return function zP(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const o=Qe(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.qs.getNamedQuery(u,r))}(yield lT(n),e)}))}($r(n=rn(n,Jn)),e).then(t=>t?new Ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Bs(this,t):null)}}class bT extends u1{constructor(e){super(),this.firestore=e}convertBytes(e){return new GE(new Wc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ca.forKey(t,this.firestore,null)}}class eR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new bT(e)}get(e){const t=mm(e);return this._delegate.get(t).then(r=>new qE(this._firestore,new Td(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=mm(e);return r?(l1("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=mm(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=mm(e);return this._delegate.delete(t),this}}class tR{constructor(e){this._delegate=e}set(e,t,r){const o=mm(e);return r?(l1("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=mm(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=mm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class gm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new zE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ZE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=gm.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new gm(e,new bT(e),t),o.set(t,u)),u}}gm.INSTANCES=new WeakMap;class Ca{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ca(t,new Qn(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new Ca(t,new Qn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new v_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new v_(this.firestore,TO(this._delegate,e))}catch(t){throw Us(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,zt.m9)(e))instanceof Qn&&AO(this._delegate,e)}set(e,t){t=l1("DocumentReference.set",t);try{return t?qO(this._delegate,e,t):qO(this._delegate,e)}catch(r){throw Us(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?ZO(this._delegate,e):ZO(this._delegate,e,t,...r)}catch(o){throw Us(o,"updateDoc()","DocumentReference.update()")}}delete(){return function xk(n){return y_(rn(n.firestore,Jn),[new Cu(n._key,Yn.none())])}(this._delegate)}onSnapshot(...e){const t=nR(e),r=rR(e,o=>new qE(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return WO(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Dk(n){n=rn(n,Qn);const e=rn(n.firestore,Jn),t=$r(e),r=new Nf(e);return function BP(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(o,u,l){try{const m=yield function(w,D){const S=Qe(w);return S.persistence.runTransaction("read document","readonly",O=>S.localDocuments.getDocument(O,D))}(o,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Se(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=l_(m,`Failed to get document '${u} from cache`);l.reject(w)}}),function(o,u,l){return r.apply(this,arguments)})(yield lT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Td(e,r,n._key,o,new pm(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Tk(n){n=rn(n,Qn);const e=rn(n.firestore,Jn);return mO($r(e),n._key,{source:"server"}).then(t=>c1(e,n,t))}(this._delegate):function Ck(n){n=rn(n,Qn);const e=rn(n.firestore,Jn);return mO($r(e),n._key).then(t=>c1(e,n,t))}(this._delegate),t.then(r=>new qE(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ca(this.firestore,this._delegate.withConverter(e?gm.getInstance(this.firestore,e):null))}}function Us(n,e,t){return n.message=n.message.replace(e,t),n}function nR(n){for(const e of n)if("object"==typeof e&&!d1(e))return e;return{}}function rR(n,e){var t,r;let o;return o=d1(n[0])?n[0]:d1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class qE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ca(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return GO(this._delegate,e._delegate)}}class ZE extends qE{data(e){const t=this._delegate.data(e);return function JC(n,e){n||it()}(void 0!==t),t}}class Bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bT(e)}where(e,t,r){try{return new Bs(this.firestore,Mf(this._delegate,function fk(n,e,t){const r=e,o=vT("where",n);return HE._create(o,r,t)}(e,t,r)))}catch(o){throw Us(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Bs(this.firestore,Mf(this._delegate,function pk(n,e="asc"){const t=e,r=vT("orderBy",n);return a1._create(r,t)}(e,t)))}catch(r){throw Us(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Bs(this.firestore,Mf(this._delegate,function gk(n){return bO("limit",n),_T._create("limit",n,"F")}(e)))}catch(t){throw Us(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Bs(this.firestore,Mf(this._delegate,function mk(n){return bO("limitToLast",n),_T._create("limitToLast",n,"L")}(e)))}catch(t){throw Us(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Bs(this.firestore,Mf(this._delegate,function yk(...n){return wT._create("startAt",n,!0)}(...e)))}catch(t){throw Us(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Bs(this.firestore,Mf(this._delegate,function vk(...n){return wT._create("startAfter",n,!1)}(...e)))}catch(t){throw Us(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Bs(this.firestore,Mf(this._delegate,function _k(...n){return ET._create("endBefore",n,!1)}(...e)))}catch(t){throw Us(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Bs(this.firestore,Mf(this._delegate,function wk(...n){return ET._create("endAt",n,!0)}(...e)))}catch(t){throw Us(t,"endAt()","Query.endAt()")}}isEqual(e){return e1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Sk(n){n=rn(n,Ki);const e=rn(n.firestore,Jn),t=$r(e),r=new Nf(e);return function jP(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(o,u,l){try{const m=yield eT(o,u,!0),w=new iO(u,m.ir),D=w.sc(m.documents),S=w.applyChanges(D,!1);l.resolve(S.snapshot)}catch(m){const w=l_(m,`Failed to execute query '${u} against cache`);l.reject(w)}}),function(o,u,l){return r.apply(this,arguments)})(yield lT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new xf(e,r,n,o))}(this._delegate):"server"===e?.source?function Mk(n){n=rn(n,Ki);const e=rn(n.firestore,Jn),t=$r(e),r=new Nf(e);return yO(t,n._query,{source:"server"}).then(o=>new xf(e,r,n,o))}(this._delegate):function Ak(n){n=rn(n,Ki);const e=rn(n.firestore,Jn),t=$r(e),r=new Nf(e);return VO(n._query),yO(t,n._query).then(o=>new xf(e,r,n,o))}(this._delegate),t.then(r=>new h1(this.firestore,new xf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=nR(e),r=rR(e,o=>new h1(this.firestore,new xf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return WO(this._delegate,t,r)}withConverter(e){return new Bs(this.firestore,this._delegate.withConverter(e?gm.getInstance(this.firestore,e):null))}}class eF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ZE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class h1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ZE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new eF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ZE(this._firestore,r))})}isEqual(e){return GO(this._delegate,e._delegate)}}class v_ extends Bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ca(this.firestore,e):null}doc(e){try{return new Ca(this.firestore,void 0===e?hT(this._delegate):hT(this._delegate,e))}catch(t){throw Us(t,"doc()","CollectionReference.doc()")}}add(e){return function Nk(n,e){const t=rn(n.firestore,Jn),r=hT(n),o=IT(n.converter,e);return y_(t,[gT(hm(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ca(this.firestore,t))}isEqual(e){return AO(this._delegate,e._delegate)}withConverter(e){return new v_(this.firestore,this._delegate.withConverter(e?gm.getInstance(this.firestore,e):null))}}function mm(n){return rn(n,Qn)}class f1{constructor(...e){this._delegate=new Dd(...e)}static documentId(){return new f1(sr.keyField().canonicalString())}isEqual(e){return(e=(0,zt.m9)(e))instanceof Dd&&this._delegate._internalPath.isEqual(e._internalPath)}}class ym{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Gk(){return new n1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ym(e)}static delete(){const e=function zk(){return new UE("deleteField")}();return e._methodName="FieldValue.delete",new ym(e)}static arrayUnion(...e){const t=function qk(...n){return new uk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ym(t)}static arrayRemove(...e){const t=function Zk(...n){return new ck("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ym(t)}static increment(e){const t=function Wk(n){return new lk("increment",n)}(e);return t._methodName="FieldValue.increment",new ym(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tF={Firestore:XO,GeoPoint:fT,Timestamp:zn,Blob:GE,Transaction:eR,WriteBatch:tR,DocumentReference:Ca,DocumentSnapshot:qE,Query:Bs,QueryDocumentSnapshot:ZE,QuerySnapshot:h1,CollectionReference:v_,FieldPath:f1,FieldValue:ym,setLogLevel:function Xk(n){!function MS(n){pu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function iR(n,e){return function iF(n,e=X0.z){return new ns.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function p1(n,e){return iR(n,e).pipe((0,xt.U)(t=>({payload:t,type:"query"})))}function CT(n,e){return p1(n,e).pipe(Ey(void 0),qy(),(0,xt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const w=o.find(S=>S.doc.ref.isEqual(l.ref)),D=t?.payload.docs.find(S=>S.ref.isEqual(l.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(l.metadata)||!w&&D&&JSON.stringify(D.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function sR(n,e,t){return CT(n,t).pipe(ed((r,o)=>function oF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function aF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return g1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return g1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return g1(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),(0,ew.x)(),(0,xt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function g1(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function oR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function rF(n){(function nF(n,e){n.INTERNAL.registerComponent(new Eo.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},tF)))})(n,(e,t)=>new XO(e,t,new Jk)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(XA.Z);class aR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=CT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ey(void 0),qy(),Fr(([r,o])=>o.length>0||!r),(0,xt.U)(([r,o])=>o),pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ed((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=oR(e);return sR(this.query,t,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(e={}){return p1(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),pn.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(pn.iC)}add(e){return this.ref.add(e)}doc(e){return new uR(this.ref.doc(e),this.afs)}}class uR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=cR(r,t);return new aR(o,u,this.afs)}snapshotChanges(){return function sF(n,e){return iR(n,e).pipe(Ey(void 0),qy(),(0,xt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dn.D)(this.ref.get(e)).pipe(pn.iC)}}class uF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CT(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Fr(t=>t.length>0),pn.iC):CT(this.query,this.afs.schedulers.outsideAngular).pipe(pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ed((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=oR(e);return sR(this.query,t,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(e={}){return p1(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),pn.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(pn.iC)}}const cF=new d.OlP("angularfire2.enableFirestorePersistence"),lF=new d.OlP("angularfire2.firestore.persistenceSettings"),dF=new d.OlP("angularfire2.firestore.settings"),hF=new d.OlP("angularfire2.firestore.use-emulator");function cR(n,e=(t=>t)){return{query:e(n),ref:n}}let m1=(()=>{class n{constructor(t,r,o,u,l,m,w,D,S,O,B,J,_e,Ve,Ue,ft,bt){this.schedulers=w;const Et=(0,Dr.on)(t,m,r),Ot=S;O&&up(Et,m,B,_e,Ve,Ue,J,ft),[this.firestore,this.persistenceEnabled$]=(0,Dr.cc)(`${Et.name}.firestore`,"AngularFirestore",Et.name,()=>{const Zt=m.runOutsideAngular(()=>Et.firestore());if(u&&Zt.settings(u),Ot&&Zt.useEmulator(...Ot),o&&!xa(l)){const un=()=>{try{return(0,dn.D)(Zt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(cs){return typeof console<"u"&&console.warn(cs),(0,gt.of)(!1)}};return[Zt,m.runOutsideAngular(un)]}return[Zt,(0,gt.of)(!1)]},[u,Ot,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=cR(o,r),m=this.schedulers.ngZone.run(()=>u);return new aR(m,l,this)}collectionGroup(t,r){const o=r||(l=>l),u=this.firestore.collectionGroup(t);return new uF(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new uR(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Dr.Dh),d.LFG(Dr.xv,8),d.LFG(cF,8),d.LFG(dF,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(pn.HU),d.LFG(lF,8),d.LFG(hF,8),d.LFG(Do,8),d.LFG(Wl,8),d.LFG(hc,8),d.LFG(Kl,8),d.LFG(Co,8),d.LFG(ap,8),d.LFG(Gm,8),d.LFG(lc,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),WE=(()=>{class n{constructor(t,r,o,u){this.afAuth=t,this.afs=r,this.router=o,this.ngZone=u,this.PATH="users",this.afAuth.authState.subscribe(l=>{l?(this.userData=l,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}isAuthenticated(){return!!JSON.parse(localStorage.getItem("user"))}logout(){this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/login"])})}login(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(o=>{this.ngZone.run(()=>{this.router.navigate(["/"])}),this.setUserData(o.user)}).catch(o=>{window.alert(o.message)})}register(t,r,o,u,l,m,w){return this.afAuth.createUserWithEmailAndPassword(t,r).then(D=>{const S=new Lb("",o,t,u,l,m,w);this.cadastrar(S),this.router.navigate(["/login"])}).catch(D=>{window.alert(D.message)})}editarCadastro(t,r){return this.afs.collection(this.PATH).doc(r).update({email:t.email,paroquia:t.paroquia,servindo:t.servindo,idade:t.idade})}getUsuarioLogado(){const t=JSON.parse(localStorage.getItem("user")||"null");return null!==t?t:null}getUserName(){const t=this.getUsuarioLogado();if(t){const r=t.email.indexOf("@");return-1!==r?t.email.substring(0,r):t.email}return""}setUserData(t,r,o,u,l){const m=this.afs.doc(`users/${t.uid}`),w={uid:t.uid,email:t.email,nome:r||"",paroquia:o||"",servindo:u||"",idade:l||""};m.set(w,{merge:!0}),this.userData=w,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))}validateEmail(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)}getAllUsers(){return this.afs.collection(this.PATH).snapshotChanges().pipe((0,xt.U)(t=>t.map(r=>{const o=r.payload.doc.data();return{id:r.payload.doc.id,...o}})))}cadastrar(t){return this.afs.collection(this.PATH).add({nome:t.nome,email:t.email,paroquia:t.paroquia,servindo:t.servindo,idade:t.idade,adm:t.adm})}editar(t){return t.adm=!t.adm,this.afs.collection(this.PATH).doc(t.id).update({adm:t.adm})}obterTodos(){return this.afs.collection(this.PATH).snapshotChanges()}searchUsersByEmail(t){return console.log("Searching users with email:",t),this.afs.collection("users",r=>r.where("nome","==",t)).get().pipe((0,xt.U)(r=>{const o=[];return r.forEach(u=>{o.push(u.data())}),console.log("Users found:",o),o}))}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Do),d.LFG(m1),d.LFG(Hn),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div")(1,"button",3),d.NdJ("click",function(){const u=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.goToCadastro(u))}),d._uU(2,"Cadastro"),d.qZA()()}}let pF=(()=>{class n{constructor(t,r,o){this.router=t,this.auth=r,this.afAuth=o,this.usuarios=[],this.afAuth.authState.subscribe(u=>{u&&u.email&&this.auth.searchUsersByEmail(u.email).subscribe(l=>{if(l.length>0){const m=l[0];this.auth.obterTodos().subscribe(w=>{this.usuarios=w.map(D=>({id:D.payload.doc.id,...D.payload.doc.data()})).filter(D=>D.nome===m.nome)})}})})}goToEventos(){this.router.navigate(["/eventos"])}goToInformacoes(){this.router.navigate(["/informacoes"])}goToMinisterio(){this.router.navigate(["/ministerio"])}goToCadastro(t){this.router.navigate(["/cadastroedit"],{state:{usuarios:t}})}goToLogin(){this.router.navigate(["/login"])}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Hn),d.Y36(WE),d.Y36(Do))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],standalone:!0,features:[d.jDz],decls:21,vars:1,consts:[[1,"home-container"],[1,"left-section"],[1,"button-container"],[1,"nav-button",3,"click"],[4,"ngFor","ngForOf"],[1,"nav-button","btn-deslogar",3,"click"],[1,"btn-paroquia-web"],[1,"right-section"],[1,"welcome-box"],[1,"ministro-eucaristia"]],template:function(r,o){1&r&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),d.NdJ("click",function(){return o.goToEventos()}),d._uU(4,"Eventos"),d.qZA(),d.TgZ(5,"button",3),d.NdJ("click",function(){return o.goToInformacoes()}),d._uU(6,"Informa\xe7\xf5es"),d.qZA(),d.TgZ(7,"button",3),d.NdJ("click",function(){return o.goToMinisterio()}),d._uU(8,"Minist\xe9rio"),d.qZA(),d.YNc(9,fF,3,0,"div",4),d.TgZ(10,"button",5),d.NdJ("click",function(){return o.goToLogin()}),d._uU(11,"Deslogar"),d.qZA()(),d.TgZ(12,"button",6),d._uU(13,"Par\xf3quia Web"),d.qZA()(),d.TgZ(14,"div",7)(15,"div",8)(16,"h2"),d._uU(17,"Seja Bem-Vindo!"),d.qZA()(),d.TgZ(18,"div",9)(19,"h1"),d._uU(20,"Ministro da Eucaristia"),d.qZA()()()()),2&r&&(d.xp6(9),d.Q6J("ngForOf",o.usuarios))},dependencies:[Ui],styles:[".home-container[_ngcontent-%COMP%]{display:flex;height:100vh}.left-section[_ngcontent-%COMP%]{flex:1;background-color:#0c045b;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding-left:20px}.nav-button[_ngcontent-%COMP%], .btn-paroquia-web[_ngcontent-%COMP%]{width:200px;background-color:#fff;color:indigo;border:2px solid #4B0082;padding:8px 16px;margin:5px 0;font-size:20px;border-radius:5px}.nav-button[_ngcontent-%COMP%]:hover{background-color:#8a2be2;color:#fff}.btn-paroquia-web[_ngcontent-%COMP%]{background-color:#8a2be2;color:#fff;border:none;padding:8px 16px;position:absolute;top:10px;left:10px;font-size:16px}.welcome-box[_ngcontent-%COMP%]{color:#e00000;font-size:24px;font-weight:700;text-transform:uppercase;border-radius:10px;padding:20px}.btn-deslogar[_ngcontent-%COMP%]{background-color:red;color:#fff}.welcome-box[_ngcontent-%COMP%]{color:#fff;font-size:64px;font-family:family;text-shadow:-2px -2px 0 rgb(55,2,89),2px -2px 0 rgb(55,2,89),-2px 2px 0 rgb(55,2,89),2px 2px 0 rgb(55,2,89)}.right-section[_ngcontent-%COMP%]{flex:4;background-image:url(https://cdn.arquidiocesesalvador.org.br/wp-content/uploads/2021/07/fotografiareligiosa_1567826360-scaled.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.ministro-eucaristia[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-family:family;text-align:center;text-shadow:-2px -2px 0 rgb(55,2,89),2px -2px 0 rgb(55,2,89),-2px 2px 0 rgb(55,2,89),2px 2px 0 rgb(55,2,89)}"]})}return n})(),gF=(()=>{class n{constructor(t){this.router=t}goToCadastros(){this.router.navigate(["/admin/cadastrados"])}goToAdminEventos(){this.router.navigate(["/admin/lancar-eventos"])}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Hn))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-admin-home"]],decls:16,vars:0,consts:[[1,"admin-home-container"],[1,"left-section"],[1,"admin-button-container"],[1,"admin-nav-button",3,"click"],[1,"right-section"],[1,"admin-welcome-box"],[1,"admin-logo"],["src","assets/logotcc.png","alt","Logo Par\xf3quia Net"]],template:function(r,o){1&r&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),d.NdJ("click",function(){return o.goToCadastros()}),d._uU(4,"Cadastros"),d.qZA(),d.TgZ(5,"button",3),d.NdJ("click",function(){return o.goToAdminEventos()}),d._uU(6,"Lan\xe7ar Eventos"),d.qZA()()(),d.TgZ(7,"div",4)(8,"div",5)(9,"h2"),d._uU(10,"Bem-Vindo, Coordenador!"),d.qZA()(),d.TgZ(11,"div",6),d._UZ(12,"img",7),d.qZA(),d.TgZ(13,"h1"),d._uU(14,"ADMINISTRADOR"),d._UZ(15,"br"),d.qZA()()())},styles:[".admin-home-container[_ngcontent-%COMP%]{display:flex;height:100vh}.left-section[_ngcontent-%COMP%]{flex:1;max-width:300px;background-color:#030851;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}.admin-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.admin-nav-button[_ngcontent-%COMP%]{width:200px;background-color:#fff;color:indigo;border:2px solid #4B0082;padding:8px 16px;margin-bottom:10px;font-size:20px;border-radius:5px}.admin-nav-button[_ngcontent-%COMP%]:hover{background-color:#8a2be2;color:#fff}.right-section[_ngcontent-%COMP%]{flex:2;background-image:url(https://www.bompastorpraia.com.br/wp-content/uploads/2019/12/communion-2110404_1280-1024x683.jpg);background-size:cover;background-position:center;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}.admin-welcome-box[_ngcontent-%COMP%]{color:#30036b;font-size:24px;font-weight:700;text-align:center;margin-bottom:20px}.admin-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px}.right-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:36px;text-align:center;margin:0;padding:20px}"]})}return n})();function mF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td")(12,"button",4),d.NdJ("click",function(){const u=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.adm(u))}),d._uU(13),d.qZA()()()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.email),d.xp6(2),d.Oqu(t.nome),d.xp6(2),d.Oqu(t.idade),d.xp6(2),d.Oqu(t.paroquia),d.xp6(2),d.Oqu(t.servindo),d.xp6(3),d.hij(" ",t.adm," ")}}let yF=(()=>{class n{constructor(t,r){this.router=t,this.authService=r,this.usuarios=[],this.authService.obterTodos().subscribe(o=>{this.usuarios=o.map(u=>({id:u.payload.doc.id,...u.payload.doc.data()}))})}adm(t){this.authService.editar(t)}goToCadastro(){this.router.navigate(["/admin/cadastro"])}goToAdminHome(){this.router.navigate(["/admin/admin-home"])}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Hn),d.Y36(WE))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-cadastrados"]],standalone:!0,features:[d.jDz],decls:24,vars:1,consts:[[1,"container"],[1,"subtitulo"],[4,"ngFor","ngForOf"],[1,"back-button",3,"click"],[1,"delete",3,"click"]],template:function(r,o){1&r&&(d.TgZ(0,"div",0)(1,"h1"),d._uU(2," Lista "),d.TgZ(3,"span",1),d._uU(4,"de Cadastros"),d.qZA()(),d.TgZ(5,"table")(6,"thead")(7,"tr")(8,"th"),d._uU(9,"Nome Completo"),d.qZA(),d.TgZ(10,"th"),d._uU(11,"Email"),d.qZA(),d.TgZ(12,"th"),d._uU(13,"Idade"),d.qZA(),d.TgZ(14,"th"),d._uU(15,"Par\xf3quia"),d.qZA(),d.TgZ(16,"th"),d._uU(17,"Servo"),d.qZA(),d.TgZ(18,"th"),d._uU(19,"ADM"),d.qZA()()(),d.TgZ(20,"tbody"),d.YNc(21,mF,14,6,"tr",2),d.qZA()()(),d.TgZ(22,"button",3),d.NdJ("click",function(){return o.goToAdminHome()}),d._uU(23,"Voltar para Home"),d.qZA()),2&r&&(d.xp6(21),d.Q6J("ngForOf",o.usuarios))},dependencies:[Ui],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;font-family:Arial,sans-serif;background-color:#1b1b2f;color:#fff}.container[_ngcontent-%COMP%]{width:89%;padding:100px;margin:auto;background-color:#1b1b2f;border-radius:10px;box-shadow:0 0 10px #00000080}h1[_ngcontent-%COMP%]{text-align:center;font-size:3em;color:#fff}h1[_ngcontent-%COMP%]   .subtitulo[_ngcontent-%COMP%]{display:block;font-size:.5em;color:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background-color:#fff;color:#000}thead[_ngcontent-%COMP%]{background-color:#6a0dad;color:#fff}th[_ngcontent-%COMP%]{padding:10px;text-align:left}td[_ngcontent-%COMP%]{padding:10px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.back-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;padding:10px 20px;background-color:#6a0dad;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1em}.back-button[_ngcontent-%COMP%]:hover{background-color:#9b59b6}.adm-true[_ngcontent-%COMP%]{background-color:green}.adm-false[_ngcontent-%COMP%]{background-color:red}"]})}return n})();class lR{constructor(e,t,r,o,u,l){this._id=e,this._data=t,this._hora=r,this._informacoes=o,this._usuario=u,this._status=l}get id(){return this._id}get data(){return this._data}get hora(){return this._hora}get informacoes(){return this._informacoes}get usuario(){return this._usuario}get status(){return this._status}set id(e){this._id=e}set data(e){this._data=e}set hora(e){this._hora=e}set informacoes(e){this._informacoes=e}set usuario(e){this._usuario=e}set status(e){this._status=e}}let dR=(()=>{class n{constructor(t){this.firestore=t,this.PATH="eventos"}addEvento(t){return this.firestore.collection(this.PATH).add({data:t.data,hora:t.hora,informacoes:t.informacoes,usuario:t.usuario,status:t.status})}eventTratemant(t,r,o,u){const l=new lR("",t,r,o,u,"");this.addEvento(l)}getEventos(){return this.firestore.collection(this.PATH).snapshotChanges()}updateEvento(t,r){return this.firestore.collection(this.PATH).doc(t).update(r)}excluir(t){return this.firestore.collection(this.PATH).doc(t).delete()}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(m1))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vF(n,e){if(1&n&&(d.TgZ(0,"datalist",16),d._UZ(1,"option",17),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.s9C("value",t.email)}}function _F(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td")(12,"button",18),d.NdJ("click",function(){const u=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.excluirEvento(u))}),d._uU(13,"Excluir"),d.qZA()()()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.data),d.xp6(2),d.Oqu(t.hora),d.xp6(2),d.Oqu(t.informacoes),d.xp6(2),d.Oqu(t.usuario),d.xp6(2),d.Oqu(t.status)}}let wF=(()=>{class n{constructor(t,r,o,u){this.fb=t,this.eventoService=r,this.router=o,this.authService=u,this.eventos=[],this.usuarios=[],this.eventoForm=this.fb.group({data:["",hn.required],hora:["",hn.required],informacoes:["",hn.required],usuario:["",hn.required]}),this.eventoService.getEventos().subscribe(l=>{this.eventos=l.map(m=>({id:m.payload.doc.id,...m.payload.doc.data()}))}),this.authService.obterTodos().subscribe(l=>{this.usuarios=l.map(m=>({id:m.payload.doc.id,...m.payload.doc.data()}))})}lancarEvento(){if(this.eventoForm.valid){const{data:t,hora:r,informacoes:o,usuario:u}=this.eventoForm.value,l=this.formatarData(t),m=new lR("",l,r,o,u,"");this.eventoService.addEvento(m).then(()=>{alert("Dados salvos com sucesso!"),this.eventoForm.reset()}).catch(w=>{console.error("Erro ao registrar:",w),alert("Erro ao registrar: "+w.message)})}}formatarData(t){const r=new Date(t);return`${r.getDate().toString().padStart(2,"0")}/${(r.getMonth()+1).toString().padStart(2,"0")}/${r.getFullYear()}`}excluirEvento(t){window.confirm("Tem certeza de que deseja excluir este evento?")&&this.eventoService.excluir(t.id)}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Up),d.Y36(dR),d.Y36(Hn),d.Y36(WE))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-admin-lancar-eventos"]],decls:50,vars:3,consts:[[1,"content"],[1,"agenda"],[1,"de-eventos"],[3,"formGroup","ngSubmit"],["for","data"],["type","date","id","data","formControlName","data","required","",1,"input-field"],["for","hora"],["type","time","id","hora","formControlName","hora","required","",1,"input-field"],["for","informacoes"],["id","informacoes","formControlName","informacoes","required","",1,"input-field"],["for","usuario"],["id","usuario","list","usuario-options","formControlName","usuario","required","",1,"input-field"],["id","usuario-options",4,"ngFor","ngForOf"],["type","submit",1,"button","confirmar"],["id","eventos-table"],[4,"ngFor","ngForOf"],["id","usuario-options"],[3,"value"],[1,"delete",3,"click"]],template:function(r,o){1&r&&(d.TgZ(0,"div",0)(1,"h1")(2,"span",1),d._uU(3,"Lan\xe7ar"),d.qZA(),d.TgZ(4,"span",2),d._uU(5,"Eventos"),d.qZA()(),d.TgZ(6,"form",3),d.NdJ("ngSubmit",function(){return o.lancarEvento()}),d.TgZ(7,"div")(8,"label",4),d._uU(9,"Data:"),d.qZA(),d._UZ(10,"input",5),d.qZA(),d.TgZ(11,"div")(12,"label",6),d._uU(13,"Hora:"),d.qZA(),d._UZ(14,"input",7),d.qZA(),d.TgZ(15,"div")(16,"label",8),d._uU(17,"Informa\xe7\xf5es Adicionais:"),d.qZA(),d._UZ(18,"textarea",9),d.qZA(),d.TgZ(19,"div")(20,"label",10),d._uU(21,"Usu\xe1rio:"),d.qZA(),d._UZ(22,"input",11),d.YNc(23,vF,2,1,"datalist",12),d.qZA(),d.TgZ(24,"div")(25,"button",13),d._uU(26,"Lan\xe7ar Evento"),d.qZA()()(),d.TgZ(27,"div")(28,"h1")(29,"span",1),d._uU(30,"Agenda"),d.qZA(),d.TgZ(31,"span",2),d._uU(32,"de Eventos"),d.qZA()(),d.TgZ(33,"table",14)(34,"thead")(35,"tr")(36,"th"),d._uU(37,"Data"),d.qZA(),d.TgZ(38,"th"),d._uU(39,"Hora"),d.qZA(),d.TgZ(40,"th"),d._uU(41,"Informa\xe7\xf5es Adicionais"),d.qZA(),d.TgZ(42,"th"),d._uU(43,"Usu\xe1rio"),d.qZA(),d.TgZ(44,"th"),d._uU(45,"Presen\xe7a"),d.qZA(),d.TgZ(46,"th"),d._uU(47,"Excluir"),d.qZA()()(),d.TgZ(48,"tbody"),d.YNc(49,_F,14,5,"tr",15),d.qZA()()()()),2&r&&(d.xp6(6),d.Q6J("formGroup",o.eventoForm),d.xp6(17),d.Q6J("ngForOf",o.usuarios),d.xp6(26),d.Q6J("ngForOf",o.eventos))},dependencies:[Ui,Mp,_h,gy,Z,fh,wc,ru,nu,So],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0}.content[_ngcontent-%COMP%]{padding:20px;box-sizing:border-box;height:100vh;background-image:url(https://portal.bibliacatolica.com.br/wp-content/uploads/cwv-webp-images/2023/02/eucharist-g80924e83b_1920.jpg.webp);background-size:cover;background-position:center;overflow:auto;color:#fff}.input-field[_ngcontent-%COMP%]{width:100%;padding:10px;margin:5px 0;box-sizing:border-box;border:1px solid #6a0dad;border-radius:5px;background-color:#fff;color:#000}button[_ngcontent-%COMP%]{padding:5px 10px;margin:5px 0;border:none;cursor:pointer;color:#fff;border-radius:5px}button.confirmar[_ngcontent-%COMP%]{background-color:green}h1[_ngcontent-%COMP%]{text-align:center;font-size:36px;margin-bottom:10px}h1[_ngcontent-%COMP%]   span.agenda[_ngcontent-%COMP%]{font-size:48px}h1[_ngcontent-%COMP%]   span.de-eventos[_ngcontent-%COMP%]{font-size:24px;display:block}#eventos-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#d2b4de}#eventos-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#6a0dad;color:#fff;padding:10px;text-align:left}#eventos-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid #6a0dad;color:#fff}#eventos-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;border:none;cursor:pointer;color:#fff}#eventos-table[_ngcontent-%COMP%]   .confirmar[_ngcontent-%COMP%]{background-color:green}#eventos-table[_ngcontent-%COMP%]   .negar[_ngcontent-%COMP%]{background-color:red}#eventos-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(1.2)}.delete[_ngcontent-%COMP%]{background-color:red}"]})}return n})(),hR=(()=>{class n{constructor(t,r,o){this.afAuth=t,this.firestore=r,this.router=o}login(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(o=>{console.log("Login successful"),this.searchUsersByEmail(t).subscribe(u=>{u.length>0?this.router.navigate(u[0].adm?["/admin-home"]:["/home"]):console.error("User not found")})}).catch(o=>{console.error("Login error:",o),alert("Login failed. Please check your credentials.")})}searchUsersByEmail(t){return console.log("Searching users with name:",t),this.firestore.collection("users",r=>r.where("nome","==",t)).get().pipe((0,xt.U)(r=>{const o=[];return r.forEach(u=>{o.push(u.data())}),o}))}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(r){return new(r||n)(d.LFG(Do),d.LFG(m1),d.LFG(Hn))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EF=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.email="",this.password=""}login(){this.authService.login(this.email,this.password)}goToCadastro(){this.router.navigate(["/cadastro"])}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(hR),d.Y36(Hn))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:2,consts:[[3,"submit"],["type","email","name","email","required","",3,"ngModel","ngModelChange"],["type","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit",1,"access"],["type","button",1,"register",3,"click"],["src","assets/logotcc.png","alt","logotcc.png",1,"imagem-pequena"],["id","error-message",1,"error-message",2,"display","none"]],template:function(r,o){1&r&&(d.TgZ(0,"form",0),d.NdJ("submit",function(){return o.login()}),d.TgZ(1,"div")(2,"label"),d._uU(3,"Email:"),d.qZA(),d.TgZ(4,"input",1),d.NdJ("ngModelChange",function(l){return o.email=l}),d.qZA()(),d.TgZ(5,"div")(6,"label"),d._uU(7,"Senha:"),d.qZA(),d.TgZ(8,"input",2),d.NdJ("ngModelChange",function(l){return o.password=l}),d.qZA()(),d.TgZ(9,"button",3),d._uU(10,"Acessar Conta"),d.qZA(),d.TgZ(11,"button",4),d.NdJ("click",function(){return o.goToCadastro()}),d._uU(12,"Cadastrar"),d.qZA(),d._UZ(13,"img",5)(14,"div",6),d.qZA()),2&r&&(d.xp6(4),d.Q6J("ngModel",o.email),d.xp6(4),d.Q6J("ngModel",o.password))},dependencies:[Mp,Z,fh,wc,ru,G_,uy],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}form[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:16px;border:1px solid #ccc;border-radius:5px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:16px;border:none;border-radius:5px;cursor:pointer;margin-top:10px}form[_ngcontent-%COMP%]   button.access[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}form[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#fdd835;color:#000}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8}.imagem-pequena[_ngcontent-%COMP%]{display:block;margin:0 auto;width:200px;height:auto}"]})}return n})(),IF=(()=>{class n{constructor(){this.ministerios=[{id:"1",nome:"Minist\xe9rio de Louvor",funcao:"Respons\xe1vel por conduzir a adora\xe7\xe3o atrav\xe9s da m\xfasica.",videoId:"VIDEO_ID_1"},{id:"2",nome:"Minist\xe9rio de Dan\xe7a",funcao:"Respons\xe1vel por ministrar atrav\xe9s da dan\xe7a durante os cultos.",videoId:"VIDEO_ID_2"}]}getMinisterioById(t){return this.ministerios.find(r=>r.id===t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bF=(()=>{class n{constructor(t,r,o,u){this.route=t,this.ministerioService=r,this.sanitizer=o,this.router=u,this.nomeMinisterio="",this.funcaoMinisterio="",this.videoId="",this.ministerioId=null}ngOnInit(){this.route.paramMap.subscribe(t=>{if(this.ministerioId=t.get("ministerioId"),this.ministerioId){const r=this.ministerioService.getMinisterioById(this.ministerioId);r&&(this.nomeMinisterio=r.nome,this.funcaoMinisterio=r.funcao,this.videoId=r.videoId)}})}getVideoUrl(){return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/Jsi3tfMlAFY")}voltarParaHome(){this.router.navigate(["/home"])}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(od),d.Y36(IF),d.Y36(wo),d.Y36(Hn))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-ministerio"]],decls:10,vars:3,consts:[[1,"container"],[1,"carousel"],["width","560","height","315","frameborder","0","allowfullscreen","",3,"src"],[1,"btn-voltarhome",3,"click"]],template:function(r,o){1&r&&(d.TgZ(0,"div",0)(1,"h2"),d._uU(2),d.qZA(),d.TgZ(3,"p"),d._uU(4),d.qZA(),d._UZ(5,"div",1),d.TgZ(6,"div"),d._UZ(7,"iframe",2),d.qZA(),d.TgZ(8,"button",3),d.NdJ("click",function(){return o.voltarParaHome()}),d._uU(9,"Voltar para Home"),d.qZA()()),2&r&&(d.xp6(2),d.hij("Sejam bem-vindos ao Minist\xe9rio ",o.nomeMinisterio,""),d.xp6(2),d.hij("Fun\xe7\xe3o do Minist\xe9rio: Os ministros t\xeam como principal fun\xe7\xe3o desenvolver a\xe7\xf5es de orienta\xe7\xe3o, coordena\xe7\xe3o e supervis\xe3o dos \xf3rg\xe3os e entidades das \xe1reas de suas compet\xeancias, al\xe9m de referendar os atos assinados pelo presidente, assinando-os tamb\xe9m para se responsabilizar por eles, e expedir instru\xe7\xf5es para a execu\xe7\xe3o das leis, decretos e regulamentos. ",o.funcaoMinisterio,""),d.xp6(3),d.Q6J("src",o.getVideoUrl(),d.uOi))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#0c045b;color:#8a2be2;padding:20px;box-sizing:border-box}h2[_ngcontent-%COMP%]{border:2px solid #8A2BE2;border-radius:10px;padding:20px;background-color:#fff;color:indigo}p[_ngcontent-%COMP%]{color:indigo;background-color:#fff;padding:10px;border:2px solid #8A2BE2;border-radius:10px;display:inline-block}.btn-voltarhome[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:20px;background-color:#8a2be2;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.btn-voltarhome[_ngcontent-%COMP%]:hover{background-color:indigo}"]})}return n})(),CF=(()=>{class n{constructor(t,r){this.renderer=t,this.router=r,this.informacoes=[{texto:"Mesa auxiliar, que deve ficar pr\xf3xima ao altar. Nessa mesa auxiliar \xe9 onde estar\xe3o todos os objetos que ser\xe3o utilizados durante a celebra\xe7\xe3o. A cred\xeancia \xe9 preparada pelos ministros da eucaristia, assim como os demais objetos",fotoUrl:"https://moveiscardeal.com.br/wp-content/uploads/2021/08/Credencia-2.png"},{texto:"O primeiro objeto a ser entregue ao padre na hora do ofert\xf3rio \xe9 o c\xe1lice. Esse c\xe1lice tamb\xe9m tem uma prepara\xe7\xe3o de forma especial. Ele cont\xe9m um sangu\xedneo, a patena com a part\xedcula, que \xe9 apresentada \xe0 assembleia, aquela que o padre eleva, tem a pala que fica sobre a patena e o corporal (pano). \xc9 entregue primeiro porque o padre vai estender sobre o altar o corporal, e depois sobre o corporal ser\xe3o colocados todos os demais objetos. Ap\xf3s a entrega do c\xe1lice, vem a entrega das \xe2mbulas, que s\xe3o aqueles recipientes onde v\xe3o as part\xedculas que depois de consagradas ser\xe3o distribu\xeddas para a comunidade. Essas \xe2mbulas, os coroinhas tiram as tampas dela e entregam ao padre para que ele coloque-as sobre o corporal. Em seguida vem as galhetas, onde uma delas cont\xe9m o vinho e a outra cont\xe9m a \xe1gua. \xc9 colocado o vinho primeiro, pode ser o padre a colocar, como pode ser o coroinha a colocar o vinho dentro do c\xe1lice, e em seguida \xe9 colocada uma gota de \xe1gua.",fotoUrl:"https://images.tcdn.com.br/img/img_prod/280297/conjunto_ambula_e_calice_534g_6267_1_07918679e83bde44900d77256bc3ad32_20220621175926.jpg"},{texto:"Na cred\xeancia tamb\xe9m podem estar a caldeirinha (pequeno recipiente) e o aspers\xf3rio, que \xe9 utilizado com a finalidade de aspergir \xe1gua benta Mas Precisa Ser Verificado se de fato ser\xe1 utilziado nesta Missa.    ",fotoUrl:"https://images.tcdn.com.br/img/img_prod/280297/caldeira_cromada_com_aspersorio_700_1177_1_8c83e75a98bbf1215df05962f5a2cbba.jpg"},{texto:"Nas missas solenes s\xe3o utilizadas tamb\xe9m o tur\xedbulo (vaso onde se coloca o incenso para as celebra\xe7\xf5es) e a naveta. (vasilha em formato de barco onde se transporta o incenso para as celebra\xe7\xf5es lit\xfargicas). O cerimoni\xe1rio que manuseia o tur\xedbulo \xe9 chamado de turifer\xe1rio e o coroinha ou cerimoni\xe1rio que utiliza a naveta \xe9 chamado de naveteiro. \xc9 uma fun\xe7\xe3o espec\xedfica para algumas missas. Incensa-se o altar, o crucifixo, o ofert\xf3rio e a assembleia.",fotoUrl:"https://assets.holyart.it/images/TN000089/pt/500/R/SN039381/CLOSEUP01_HD/h-bf427201/conjunto-turibulo-e-naveta-estilo-classico-decorado.jpg"},{texto:"Algumas celebra\xe7\xf5es tem tamb\xe9m o ostens\xf3rio, que \xe9 aquele objeto que os cerimoni\xe1rios entregam ao padre para que ele coloque o Sant\xedssimo. Quando tem a b\xean\xe7\xe3o do Sant\xedssimo, quando o sacerdote circula entre os fi\xe9is, numa missa espec\xedfica para dar a b\xean\xe7\xe3o do Sant\xedssimo.",fotoUrl:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjbvmBUeh4Se2OqXR0qZyh6Jxek3ZNuuIhSVxWSpao-UrKT4j2L6hVxzblGVnDbudU_WHip3D7lGTU77bUqjxldskur5oQRL-9sCI_ZK_JhRbH4iFAEvPCoui3V04p_Gq1hImQ6HE5_JpEX/s1600/Ostens%25C3%25B3rio-636-R%25C3%25A9plica.png"},{texto:"\xc9 um objeto, uma \xe2mbula espec\xedfica, onde fica o Sant\xedssimo dentro do sacr\xe1rio. Ent\xe3o quando tem a missa, quando tem a ben\xe7\xe3o do Sant\xedssimo, o ministro busca no sacr\xe1rio essa teca com o Sant\xedssimo e traz ao padre. Ele coloca no ostens\xf3rio para ent\xe3o fazer aquela ben\xe7\xe3o do Sant\xedssimo Sacramento.",fotoUrl:"https://images.tcdn.com.br/img/img_prod/280297/teca_dourada_interna_50_1859_1_25573b7f385b2a98a8909a566db4d592_20220621171641.jpg"},{texto:"Missas onde s\xe3o realizados Batismo e Crisma tem um objeto que se chama crismera, que \xe9 um suporte onde s\xe3o guardados os santos \xf3leos. ",fotoUrl:"https://www.gruppoliturgico.com/wp-content/uploads/2022/05/2829.jpg"},{texto:"Em seguida, os meninos j\xe1 levam o jarro com \xe1gua e uma pequena bacia ou lavabo, como a gente costuma chamar. \xc9 o manust\xe9rgio, que \xe9 uma pequena toalha utilizada quando o padre tem as m\xe3os purificadas.",fotoUrl:"https://http2.mlstatic.com/D_NQ_NP_755353-MLB52820311842_122022-O.webp"},{texto:"\xc9 uma cruz que tem o cabo bem longo e \xe9 utilizada nas prociss\xf5es de entrada nas missas. Em todas as celebra\xe7\xf5es \xe9 utilizada essa cruz processional. Raras s\xe3o as missas que essa cruz n\xe3o \xe9 utilizada.",fotoUrl:"https://images.tcdn.com.br/img/img_prod/280297/2032_1_20220621171611.jpg"},{texto:"\xc9 aquele livro que cont\xe9m o roteiro da missa, o rito da missa com aquelas fitinhas coloridas, que servem na verdade para facilitar o vai e vem das p\xe1ginas. Os meninos separam ali a ora\xe7\xe3o eucar\xedstica, o pref\xe1cio, a b\xean\xe7\xe3o solene. Enfim, e o coloridodas fitas facilita esse manuseio. O missal, na verdade, \xe9 a menina dos olhos de todo cerimoni\xe1rio. \xc9 talvez o objeto de longe que eles mais gostam de manusear. Tem algumas dificuldades no in\xedcio, mas depois pegam o gosto. Realmente \xe9 um encantamento eles trabalhando com o missal.",fotoUrl:"https://images.tcdn.com.br/img/img_prod/1076813/missal_romano_traducao_da_3a_edicao_tipica_1927_1_eca08c813d04f83c2fbe7f1a5e3d03fb.png"},{texto:"\xc9 um paninho branco tipo uma toalhinha que vai sobre as \xe2mbulas. Ali est\xe1 indicando que tem o Sant\xedssimo, que est\xe3o as h\xf3stias consagradas, que est\xe3o na reserva do sacr\xe1rio. Aquelas h\xf3stias que n\xe3o foram consumidas durante a missa, as sobras s\xe3o guardadas no sacr\xe1rio e as \xe2mbulas s\xe3o cobertas com esse paninho branco.",fotoUrl:"https://cimparamentos.com.br/images/Produtos/CN_03_-_CONOPEU_BRANC0_ESCUDO_MARIANO.jpg"},{texto:"\xc9 utilizado pelo padre somente quando ele est\xe1 com o ostens\xf3rio com o Sant\xedssimo.  O cerimoni\xe1rio geralmente o auxilia a colocar esse v\xe9u sobre os ombros. E nesse v\xe9u pela parte interna tem um espa\xe7o, tipo dois bols\xf5es por debaixo desse v\xe9u, que \xe9 onde o padre coloca as m\xe3os, porque ele n\xe3o toca o Sant\xedssimo com as m\xe3os nuas. Ent\xe3o, ele fica com esse v\xe9u e cobre as suas m\xe3os para poder segurar o Sant\xedssimo.",fotoUrl:"https://cdn.awsli.com.br/2500x2500/2537/2537878/produto/194047004/v-u-umeral-comprar-dourado-cg-670-pyhuxg6z8o.png"},{texto:"Em missas com a presen\xe7a do bispo, tem alguns objetos espec\xedficos que pertencem a ele: o b\xe1culo (cajado), a mitra (uma esp\xe9cie de chap\xe9u) e o solid\xe9u (pequena boina). A fun\xe7\xe3o do cerimoni\xe1rio que auxilia o bispo segurando o b\xe1culo, se chama bacul\xedfero; a fun\xe7\xe3o do cerimoni\xe1rio que segura a mitra, que \xe9 aquele chap\xe9u do bispo mais o solid\xe9u, tem a fun\xe7\xe3o chamada de mitr\xedfero.    ",fotoUrl:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhZZTemDLgK3Q4b-em4Ly0NJCOqWIDNyIJhda2g2FbfNrIv6anUiQWIFmMg-Vd_67Y-SiurGolqgLUZj5kwcXRbbAvYhba6P2tBIlCRhn4KwMOSqm4fk5monQ8by9A8S_gHzZUV1ZuImpM/s1600/Episcopal.jpg"},{texto:"\xc9 um objeto bastante interessante e que atrai bastante as crian\xe7as. Os coroinhas gostam muito desse objeto. \xc9 utilizado na \xe9poca da Semana Santa. Um objeto de madeira que tem um ferrinho pregado nessa t\xe1bua e quando as crian\xe7as agitam faz um enorme barulho. Geralmente \xe9 utilizada no tr\xedduo pascal (quinta, sexta e s\xe1bado santos).",fotoUrl:"https://m.media-amazon.com/images/I/71+-XuPQgmL._AC_UF894,1000_QL80_.jpg"},{texto:"\xc9 aquele livro que cont\xe9m todas as leituras do dia. Tem o lecion\xe1rio dominical, o lecion\xe1rio semanal e o lecion\xe1rio espec\xedfico dos santos, que \xe9 chamado de santoral. Ent\xe3o, de acordo com o dia, os meninos separam o lecion\xe1rio, preparam a p\xe1gina correta para o leitor se preparar e fazer a leitura diante da assembleia.",fotoUrl:"https://img.irroba.com.br/fit-in/600x600/filters:fill(fff):quality(80)/betanial/catalog/paulus/sem-titulo.jpg"},{texto:"Algumas par\xf3quias e padres t\xeam essa prefer\xeancia por utilizar esse livro de preces, espec\xedfico para anos pares e anos \xedmpares. Geralmente \xe9 utilizado de segunda a sexta-feira, nos dias que n\xe3o tem folhetos. Ent\xe3o \xe9 opcional cada padre fazer uso dele. Substitui aqueles livretos \u201cDeus Conosco\u201d e \u201cLiturgia Di\xe1ria\u201d. Portanto \xe9 um livro que d\xe1 para acompanhar bem, porque tem datas espec\xedficas, preces espec\xedficas, por exemplo, em dias para Nossa Senhora, para santos tradicionais da Igreja.",fotoUrl:"https://images.tcdn.com.br/img/img_prod/479347/livro_de_oracoes_preces_472_2_20160816114100.jpg"},{texto:"\xc9 um livro bem grande, que cont\xe9m os evangelhos para os domingos e tamb\xe9m para as festas do ano lit\xfargico. \xc9 opcional para os padres utilizarem aos finais de semana., nas missas dominicais. Caso n\xe3o queira utiliz\xe1-lo, pode se proceder a proclama\xe7\xe3o do evangelho atrav\xe9s do lecion\xe1rio. Mas normalmente os padres utilizam nas missas dominicais e tamb\xe9m nas festas do ano lit\xfargico.",fotoUrl:"https://images.tcdn.com.br/img/img_prod/280297/evangeliario_capa_verde_2269_1_b97c578e3755b8adcade6378e02064d7_20220621175527.jpg"},{texto:"\xc9 um livro bem grande, que cont\xe9m os evangelhos para os domingos e tamb\xe9m para as festas do ano lit\xfargico. \xc9 opcional para os padres utilizarem aos finais de semana., nas missas dominicais. Caso n\xe3o queira utiliz\xe1-lo, pode se proceder a proclama\xe7\xe3o do evangelho atrav\xe9s do lecion\xe1rio. Mas normalmente os padres utilizam nas missas dominicais e tamb\xe9m nas festas do ano lit\xfargico.",fotoUrl:""}],this.informacaoVisivel=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}voltarParaHome(){this.router.navigate(["/"])}toggleInformacao(t){const r=t-1,u=document.getElementById(`info${t}`);if(this.informacaoVisivel[r])u.innerHTML="",this.informacaoVisivel[r]=!1;else{const l=this.informacoes[r],m=this.renderer.createText(l.texto);this.renderer.appendChild(u,m);const w=this.renderer.createElement("img");this.renderer.setAttribute(w,"src",l.fotoUrl),this.renderer.setAttribute(w,"alt",`Imagem ${t}`),this.renderer.setStyle(w,"display","block"),this.renderer.setStyle(w,"margin","0 auto"),this.renderer.appendChild(u,w),this.informacaoVisivel[r]=!0}}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(d.Qsj),d.Y36(Hn))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-informacoes"]],decls:71,vars:18,consts:[[2,"background-color","#0c045b","padding","20px","text-align","center","color","rgb(255, 255, 255)"],[2,"display","flex","flex-direction","column","align-items","center","margin-bottom","20px"],[3,"click"],["id","info1",2,"margin-bottom","20px",3,"hidden"],["id","info2",2,"margin-bottom","20px",3,"hidden"],["id","info3",2,"margin-bottom","20px",3,"hidden"],["id","info4",2,"margin-bottom","20px",3,"hidden"],["id","info5",2,"margin-bottom","20px",3,"hidden"],["id","info6",2,"margin-bottom","20px",3,"hidden"],["id","info7",2,"margin-bottom","20px",3,"hidden"],["id","info8",2,"margin-bottom","20px",3,"hidden"],["id","info9",2,"margin-bottom","20px",3,"hidden"],["id","info10",2,"margin-bottom","20px",3,"hidden"],["id","info11",2,"margin-bottom","20px",3,"hidden"],["id","info12",2,"margin-bottom","20px",3,"hidden"],["id","info13",2,"margin-bottom","20px",3,"hidden"],["id","info14",2,"margin-bottom","20px",3,"hidden"],["id","info15",2,"margin-bottom","20px",3,"hidden"],["id","info16",2,"margin-bottom","20px",3,"hidden"],["id","info17",2,"margin-bottom","20px",3,"hidden"],[1,"botoes-container"],[1,"black-button",3,"click"],["id","info18",2,"margin-bottom","20px",3,"hidden"],[1,"header"],[1,"informacoes-container"]],template:function(r,o){1&r&&(d.TgZ(0,"div",0)(1,"h2"),d._uU(2,"Informa\xe7\xf5es para Ministro"),d.qZA(),d.TgZ(3,"div",1)(4,"button",2),d.NdJ("click",function(){return o.toggleInformacao(1)}),d._uU(5,"Cred\xeancia"),d.qZA(),d._UZ(6,"div",3),d.TgZ(7,"button",2),d.NdJ("click",function(){return o.toggleInformacao(2)}),d._uU(8,"C\xe1lice, Galheta e \xc2mbula"),d.qZA(),d._UZ(9,"div",4),d.TgZ(10,"button",2),d.NdJ("click",function(){return o.toggleInformacao(3)}),d._uU(11,"Caldeirinha e aspers\xf3rio"),d.qZA(),d._UZ(12,"div",5),d.TgZ(13,"button",2),d.NdJ("click",function(){return o.toggleInformacao(4)}),d._uU(14,"Tur\xedbulo e naveta"),d.qZA(),d._UZ(15,"div",6),d.TgZ(16,"button",2),d.NdJ("click",function(){return o.toggleInformacao(5)}),d._uU(17,"Ostens\xf3rio"),d.qZA(),d._UZ(18,"div",7),d.TgZ(19,"button",2),d.NdJ("click",function(){return o.toggleInformacao(6)}),d._uU(20,"Teca"),d.qZA(),d._UZ(21,"div",8),d.TgZ(22,"button",2),d.NdJ("click",function(){return o.toggleInformacao(7)}),d._uU(23,"Crismera"),d.qZA(),d._UZ(24,"div",9),d.TgZ(25,"button",2),d.NdJ("click",function(){return o.toggleInformacao(8)}),d._uU(26,"Lavabo e manust\xe9rgio"),d.qZA(),d._UZ(27,"div",10),d.TgZ(28,"button",2),d.NdJ("click",function(){return o.toggleInformacao(9)}),d._uU(29,"Cruz processional"),d.qZA(),d._UZ(30,"div",11),d.TgZ(31,"button",2),d.NdJ("click",function(){return o.toggleInformacao(10)}),d._uU(32,"Missal Romano"),d.qZA(),d._UZ(33,"div",12),d.TgZ(34,"button",2),d.NdJ("click",function(){return o.toggleInformacao(11)}),d._uU(35,"Conopeu"),d.qZA(),d._UZ(36,"div",13),d.TgZ(37,"button",2),d.NdJ("click",function(){return o.toggleInformacao(12)}),d._uU(38,"V\xe9u Umeral"),d.qZA(),d._UZ(39,"div",14),d.TgZ(40,"button",2),d.NdJ("click",function(){return o.toggleInformacao(13)}),d._uU(41,"B\xe1culo, Mitra e Solid\xe9u"),d.qZA(),d._UZ(42,"div",15),d.TgZ(43,"button",2),d.NdJ("click",function(){return o.toggleInformacao(14)}),d._uU(44,"Matraca"),d.qZA(),d._UZ(45,"div",16),d.TgZ(46,"button",2),d.NdJ("click",function(){return o.toggleInformacao(15)}),d._uU(47,"Lecion\xe1rio"),d.qZA(),d._UZ(48,"div",17),d.TgZ(49,"button",2),d.NdJ("click",function(){return o.toggleInformacao(16)}),d._uU(50,"Livro de preces"),d.qZA(),d._UZ(51,"div",18),d.TgZ(52,"button",2),d.NdJ("click",function(){return o.toggleInformacao(17)}),d._uU(53,"Evangeli\xe1rio"),d.qZA(),d._UZ(54,"div",19),d.qZA(),d.TgZ(55,"div",20)(56,"button",21),d.NdJ("click",function(){return o.toggleInformacao(18)}),d._uU(57,"Prepara\xe7\xe3o Missa"),d.qZA(),d._UZ(58,"div",22),d.TgZ(59,"button",21),d.NdJ("click",function(){return o.toggleInformacao(19)}),d._uU(60,"Visita aos Doentes"),d.qZA(),d.TgZ(61,"button",21),d.NdJ("click",function(){return o.toggleInformacao(20)}),d._uU(62,"Adora\xe7\xe3o ao Sant\xedssimo"),d.qZA(),d.TgZ(63,"button",21),d.NdJ("click",function(){return o.toggleInformacao(21)}),d._uU(64,"Vestes Lit\xfargicas"),d.qZA(),d.TgZ(65,"button",21),d.NdJ("click",function(){return o.toggleInformacao(22)}),d._uU(66,"Mandato"),d.qZA()(),d.TgZ(67,"div",23)(68,"button",2),d.NdJ("click",function(){return o.voltarParaHome()}),d._uU(69,"Voltar para Home"),d.qZA()(),d._UZ(70,"div",24),d.qZA()),2&r&&(d.xp6(6),d.Q6J("hidden",!o.informacaoVisivel[0]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[1]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[2]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[3]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[4]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[5]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[6]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[7]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[8]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[9]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[10]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[11]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[12]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[13]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[14]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[15]),d.xp6(3),d.Q6J("hidden",!o.informacaoVisivel[16]),d.xp6(4),d.Q6J("hidden",!o.informacaoVisivel[17]))},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;background-color:#8e44ad;box-shadow:inset 0 0 100px #00000080}.container[_ngcontent-%COMP%]{background-color:purple;padding:20px;color:#fff;text-align:center}h2[_ngcontent-%COMP%]{border:2px solid white;padding:10px}.botoes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}button[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:none;padding:10px 20px;margin-bottom:10px;cursor:pointer;transition:background-color .3s;width:200px}button[_ngcontent-%COMP%]:hover{background-color:#09c7ca}.conteudo-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.info-item[_ngcontent-%COMP%]{margin:0 10px 20px;flex:1 1 300px;max-width:300px}.info-imagem[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:10px}.info-container[_ngcontent-%COMP%]{position:relative}.info-texto[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-color:#00000080;color:#fff;padding:10px;box-sizing:border-box}img[_ngcontent-%COMP%]{max-width:100%;max-height:300px}.black-button[_ngcontent-%COMP%]{background-color:#000;color:#fff}.header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})(),DF=(()=>{class n{constructor(t,r,o){this.fb=t,this.router=r,this.auth=o,this.cadastroForm=this.fb.group({nome:["",hn.required],idade:["",hn.required],email:["",[hn.required,hn.email]],paroquia:["",hn.required],servindo:["ministro",hn.required],senha:["",[hn.required,hn.minLength(6)]],confirmaSenha:["",hn.required]})}onSubmit(){this.cadastroForm.valid&&(console.log(this.cadastroForm.value),this.cadastroForm.value.senha!==this.cadastroForm.value.confirmaSenha?alert("As senhas n\xe3o coincidem!"):this.auth.register(this.cadastroForm.value.email,this.cadastroForm.value.senha,this.cadastroForm.value.nome,this.cadastroForm.value.paroquia,this.cadastroForm.value.servindo,this.cadastroForm.value.idade,!1).then(()=>{alert("Dados salvos com sucesso!"),this.router.navigate(["/login"])}).catch(r=>{console.error(r),alert("Erro ao registrar: "+r.message)}))}cancelarCadastro(){this.router.navigate(["/login"])}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Up),d.Y36(Hn),d.Y36(WE))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-cadastro"]],decls:42,vars:1,consts:[[1,"container"],["src","assets/logotcc.png","alt","Logo",1,"logo"],[3,"formGroup","ngSubmit"],["for","nome"],["type","text","id","nome","formControlName","nome","required",""],["for","idade"],["type","number","id","idade","formControlName","idade","required","","min","0","max","100"],["for","email"],["type","email","id","email","formControlName","email","required",""],["for","paroquia"],["id","paroquia","formControlName","paroquia","required",""],["value","santana"],["value","saojoaquim"],["for","servindo"],["id","servindo","formControlName","servindo","required",""],["value","ministro"],["value","acolito","disabled",""],["value","leitor","disabled",""],["for","senha"],["type","password","id","senha","formControlName","senha","required",""],["for","confirmaSenha"],["type","password","id","confirmaSenha","formControlName","confirmaSenha","required",""],[1,"buttons"],["type","button",3,"click"],["type","submit"]],template:function(r,o){1&r&&(d.TgZ(0,"body")(1,"div",0),d._UZ(2,"img",1),d.TgZ(3,"h1"),d._uU(4,"Quero me Cadastrar"),d.qZA(),d.TgZ(5,"form",2),d.NdJ("ngSubmit",function(){return o.onSubmit()}),d.TgZ(6,"label",3),d._uU(7,"Nome Completo"),d.qZA(),d._UZ(8,"input",4),d.TgZ(9,"label",5),d._uU(10,"Idade"),d.qZA(),d._UZ(11,"input",6),d.TgZ(12,"label",7),d._uU(13,"Email"),d.qZA(),d._UZ(14,"input",8),d.TgZ(15,"label",9),d._uU(16,"Par\xf3quia"),d.qZA(),d.TgZ(17,"select",10)(18,"option",11),d._uU(19,"Par\xf3quia Sant'Ana"),d.qZA(),d.TgZ(20,"option",12),d._uU(21,"Par\xf3quia S\xe3o Joaquim"),d.qZA()(),d.TgZ(22,"label",13),d._uU(23,"Servindo como"),d.qZA(),d.TgZ(24,"select",14)(25,"option",15),d._uU(26,"Ministro"),d.qZA(),d.TgZ(27,"option",16),d._uU(28,"Ac\xf3lito"),d.qZA(),d.TgZ(29,"option",17),d._uU(30,"Leitor"),d.qZA()(),d.TgZ(31,"label",18),d._uU(32,"Senha"),d.qZA(),d._UZ(33,"input",19),d.TgZ(34,"label",20),d._uU(35,"Confirmar Senha"),d.qZA(),d._UZ(36,"input",21),d.TgZ(37,"div",22)(38,"button",23),d.NdJ("click",function(){return o.cancelarCadastro()}),d._uU(39,"Cancelar Cadastro"),d.qZA(),d.TgZ(40,"button",24),d._uU(41,"Cadastrar"),d.qZA()()()()()),2&r&&(d.xp6(5),d.Q6J("formGroup",o.cadastroForm))},dependencies:[Mp,_h,gy,Z,xp,Pp,fh,wc,ru,kp,my,nu,So],styles:["body[_ngcontent-%COMP%]{background-image:url(https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh5Al74yAIoxyeE8nkDrZ-t0bngEaf4cJ8I0YNQGXw2q2YY_N3sZSoRUQTVrNCrfoz8h-7JBg7tz9nXethepZ464U5_8UByuKYzJJhpaZf5fA_I-Xuv-IuJ1OjLdHw8FBP9pmdpj6R1Nkb7RL9lyhutSh6yud3PqCuzgT3XYHaO2aLGxdbSPoO1swjCPolC/s2048/239427876_2999161840352860_1912193117680242437_n.jpg);background-size:cover;background-position:center;color:#fff;font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}.container[_ngcontent-%COMP%]{background-color:#036;padding:20px;border-radius:10px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{width:150px;margin-bottom:-40px}h1[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:30px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin:5px 0}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:5px;margin-bottom:10px;border-radius:5px;border:none}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background-color:#0059b3;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#004080}"]})}return n})();const TF=function(n,e){return{confirmed:n,denied:e}};function AF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",5)(1,"div",6)(2,"p")(3,"strong"),d._uU(4,"Data:"),d.qZA(),d._uU(5),d.qZA(),d.TgZ(6,"p")(7,"strong"),d._uU(8,"Hora:"),d.qZA(),d._uU(9),d.qZA(),d.TgZ(10,"p")(11,"strong"),d._uU(12,"Informa\xe7\xf5es Adicionais:"),d.qZA(),d._uU(13),d.qZA()(),d.TgZ(14,"div",7)(15,"button",8),d.NdJ("click",function(){const u=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.confirmEvent(u))}),d._uU(16,"Confirmar"),d.qZA(),d.TgZ(17,"button",8),d.NdJ("click",function(){const u=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.denyEvent(u))}),d._uU(18,"Negar"),d.qZA()()()}if(2&n){const t=e.$implicit;d.Q6J("ngClass",d.WLB(4,TF,"confirmed"===t.status,"denied"===t.status)),d.xp6(5),d.hij(" ",t.data,""),d.xp6(4),d.hij(" ",t.hora,""),d.xp6(4),d.hij(" ",t.informacoes,"")}}const SF=[{path:"home",component:pF},{path:"login",component:EF},{path:"admin-home",component:gF},{path:"admin/cadastrados",component:yF},{path:"admin/lancar-eventos",component:wF},{path:"ministerio",component:bF},{path:"informacoes",component:CF},{path:"cadastro",component:DF},{path:"cadastroedit",component:(()=>{class n{constructor(t,r,o){this.fb=t,this.router=r,this.auth=o}ngOnInit(){this.usuarios=history.state.usuarios,console.log("Informa\xe7\xf5es do usuario:",this.usuarios),this.email=this.usuarios?.email,this.idade=this.usuarios?.idade,this.paroquia=this.usuarios?.paroquia,this.servindo=this.usuarios?.servindo,this.editar=this.fb.group({email:[this.email,[hn.required]],idade:[this.idade,[hn.required]],paroquia:[this.paroquia,[hn.required]],servindo:[this.servindo,[hn.required]]})}onSubmit(){if(this.editar.valid){const t={...this.editar.value,id:this.usuarios.id};this.auth.editarCadastro(t,this.usuarios.id),this.router.navigate(["/home"])}}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Up),d.Y36(Hn),d.Y36(WE))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-cadastroedit"]],decls:31,vars:1,consts:[[1,"container"],["src","assets/logotcc.png","alt","Logo",1,"logo"],[3,"formGroup","ngSubmit"],["for","nome"],["type","text","id","nome","formControlName","email","required",""],["for","idade"],["type","number","id","idade","formControlName","idade","required","","min","0","max","100"],["for","paroquia"],["id","paroquia","formControlName","paroquia","required",""],["value","santana"],["value","saojoaquim"],["for","servindo"],["id","servindo","formControlName","servindo","required",""],["value","ministro"],["value","acolito","disabled",""],["value","leitor","disabled",""],[1,"buttons"],["type","submit"]],template:function(r,o){1&r&&(d.TgZ(0,"body")(1,"div",0),d._UZ(2,"img",1),d.TgZ(3,"h1"),d._uU(4,"Editar Cadastro"),d.qZA(),d.TgZ(5,"form",2),d.NdJ("ngSubmit",function(){return o.onSubmit()}),d.TgZ(6,"label",3),d._uU(7,"Nome Completo"),d.qZA(),d._UZ(8,"input",4),d.TgZ(9,"label",5),d._uU(10,"Idade"),d.qZA(),d._UZ(11,"input",6),d.TgZ(12,"label",7),d._uU(13,"Par\xf3quia"),d.qZA(),d.TgZ(14,"select",8)(15,"option",9),d._uU(16,"Par\xf3quia Sant'Ana"),d.qZA(),d.TgZ(17,"option",10),d._uU(18,"Par\xf3quia S\xe3o Joaquim"),d.qZA()(),d.TgZ(19,"label",11),d._uU(20,"Servindo como"),d.qZA(),d.TgZ(21,"select",12)(22,"option",13),d._uU(23,"Ministro"),d.qZA(),d.TgZ(24,"option",14),d._uU(25,"Ac\xf3lito"),d.qZA(),d.TgZ(26,"option",15),d._uU(27,"Leitor"),d.qZA()(),d.TgZ(28,"div",16)(29,"button",17),d._uU(30,"Atualizar"),d.qZA()()()()()),2&r&&(d.xp6(5),d.Q6J("formGroup",o.editar))},dependencies:[Mp,_h,gy,Z,xp,Pp,fh,wc,ru,kp,my,nu,So],styles:["body[_ngcontent-%COMP%]{background-image:url(https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh5Al74yAIoxyeE8nkDrZ-t0bngEaf4cJ8I0YNQGXw2q2YY_N3sZSoRUQTVrNCrfoz8h-7JBg7tz9nXethepZ464U5_8UByuKYzJJhpaZf5fA_I-Xuv-IuJ1OjLdHw8FBP9pmdpj6R1Nkb7RL9lyhutSh6yud3PqCuzgT3XYHaO2aLGxdbSPoO1swjCPolC/s2048/239427876_2999161840352860_1912193117680242437_n.jpg);background-size:cover;background-position:center;color:#fff;font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}.container[_ngcontent-%COMP%]{background-color:#036;padding:20px;border-radius:10px;box-shadow:0 0 10px #0000001a;text-align:center}.logo[_ngcontent-%COMP%]{width:150px;margin-bottom:-40px}h1[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:30px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{margin:5px 0}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:5px;margin-bottom:10px;border-radius:5px;border:none}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background-color:#0059b3;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#004080}"]})}return n})()},{path:"eventos",component:(()=>{class n{constructor(t,r,o,u){this.router=t,this.eventosService=r,this.auth=o,this.afAuth=u,this.eventos=[],this.afAuth.authState.subscribe(l=>{l&&l.email&&this.auth.searchUsersByEmail(l.email).subscribe(m=>{if(m.length>0){const w=m[0];this.eventosService.getEventos().subscribe(D=>{this.eventos=D.map(S=>({id:S.payload.doc.id,...S.payload.doc.data()})).filter(S=>S.usuario===w.email)})}})})}confirmEvent(t){t.status="confirmed",this.eventosService.updateEvento(t.id,{...t,status:t.status})}denyEvent(t){t.status="denied",this.eventosService.updateEvento(t.id,{...t,status:t.status})}goToHome(){this.router.navigate(["/home"])}static#e=this.\u0275fac=function(r){return new(r||n)(d.Y36(Hn),d.Y36(dR),d.Y36(hR),d.Y36(Do))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-eventos"]],decls:10,vars:1,consts:[[1,"eventos-container"],[1,"header"],[1,"back-button",3,"click"],[1,"event-list"],["class","event-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"event-item",3,"ngClass"],[1,"event-details"],[1,"event-actions"],[3,"click"]],template:function(r,o){1&r&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h1"),d._uU(3,"Agenda"),d.qZA(),d.TgZ(4,"h2"),d._uU(5,"de Eventos"),d.qZA(),d.TgZ(6,"button",2),d.NdJ("click",function(){return o.goToHome()}),d._uU(7,"Voltar para a Home"),d.qZA()(),d.TgZ(8,"div",3),d.YNc(9,AF,19,7,"div",4),d.qZA()()),2&r&&(d.xp6(9),d.Q6J("ngForOf",o.eventos))},dependencies:[Ma,Ui],styles:[".eventos-container[_ngcontent-%COMP%]{background-image:url(https://img.cancaonova.com/cnimages/canais/uploads/sites/6/2010/06/formacao_a-presenca-real-de-cristo-na-eucaristia-1.jpg);background-size:cover;padding:20px;position:relative;height:100vh}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#fff}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:58px;margin:0}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:34px;margin:0 0 10px}.back-button[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.back-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.event-list[_ngcontent-%COMP%]{margin-top:20px}.event-item[_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9;display:flex;justify-content:space-between;align-items:center}.event-item.confirmed[_ngcontent-%COMP%]{background-color:#95f3ab;border-color:#00b42a}.event-item.denied[_ngcontent-%COMP%]{background-color:#f8d7da;border-color:#ff0019}.event-details[_ngcontent-%COMP%]{flex-grow:1}.event-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return n})()},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"cancelar-cadastro",redirectTo:"/login",pathMatch:"full"}];let MF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ob.forRoot(SF),Ob]})}return n})(),xF=(()=>{class n{constructor(){this.title="paroquianet"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,o){1&r&&d._UZ(0,"router-outlet")},dependencies:[x0],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}"]})}return n})();const NF_firebase={apiKey:"AIzaSyCrpvTKZhToNvcXBaAnbNyk3F9Xnz5Dlw8",authDomain:"paroquiaweb-a0d4a.firebaseapp.com",projectId:"paroquiaweb-a0d4a",storageBucket:"paroquiaweb-a0d4a.appspot.com",messagingSenderId:"614299020497",appId:"1:614299020497:web:2c1d06f97a0072ad0169f0"};let OF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=d.oAB({type:n,bootstrap:[xF]});static#n=this.\u0275inj=d.cJS({imports:[Ws,MF,Dr.hO.initializeApp(NF_firebase),qm,Bp,WT,ms]})}return n})();rr().bootstrapModule(OF).catch(n=>console.error(n))},5619:(ut,Ie,R)=>{R.d(Ie,{X:()=>Y});var d=R(8645);class Y extends d.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const ne=super._subscribe(X);return!ne.closed&&X.next(this._value),ne}getValue(){const{hasError:X,thrownError:ne,_value:de}=this;if(X)throw ne;return this._throwIfClosed(),de}next(X){super.next(this._value=X)}}},5592:(ut,Ie,R)=>{R.d(Ie,{y:()=>Oe});var d=R(305),Y=R(7394),P=R(4850),X=R(8407),ne=R(2653),de=R(4674),fe=R(1441);let Oe=(()=>{class K{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const We=new K;return We.source=this,We.operator=Ae,We}subscribe(Ae,We,xe){const Ge=function $(K){return K&&K instanceof d.Lv||function L(K){return K&&(0,de.m)(K.next)&&(0,de.m)(K.error)&&(0,de.m)(K.complete)}(K)&&(0,Y.Nn)(K)}(Ae)?Ae:new d.Hp(Ae,We,xe);return(0,fe.x)(()=>{const{operator:ke,source:mt}=this;Ge.add(ke?ke.call(Ge,mt):mt?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(We){Ae.error(We)}}forEach(Ae,We){return new(We=le(We))((xe,Ge)=>{const ke=new d.Hp({next:mt=>{try{Ae(mt)}catch(lt){Ge(lt),ke.unsubscribe()}},error:Ge,complete:xe});this.subscribe(ke)})}_subscribe(Ae){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,X.U)(Ae)(this)}toPromise(Ae){return new(Ae=le(Ae))((We,xe)=>{let Ge;this.subscribe(ke=>Ge=ke,ke=>xe(ke),()=>We(Ge))})}}return K.create=Le=>new K(Le),K})();function le(K){var Le;return null!==(Le=K??ne.config.Promise)&&void 0!==Le?Le:Promise}},8645:(ut,Ie,R)=>{R.d(Ie,{x:()=>fe});var d=R(5592),Y=R(7394);const X=(0,R(2306).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=R(9039),de=R(1441);let fe=(()=>{class le extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const K=new Oe(this,this);return K.operator=$,K}_throwIfClosed(){if(this.closed)throw new X}next($){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next($)}})}error($){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:K}=this;for(;K.length;)K.shift().error($)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:K,isStopped:Le,observers:Ae}=this;return K||Le?Y.Lc:(this.currentObservers=null,Ae.push($),new Y.w0(()=>{this.currentObservers=null,(0,ne.P)(Ae,$)}))}_checkFinalizedStatuses($){const{hasError:K,thrownError:Le,isStopped:Ae}=this;K?$.error(Le):Ae&&$.complete()}asObservable(){const $=new d.y;return $.source=this,$}}return le.create=(L,$)=>new Oe(L,$),le})();class Oe extends fe{constructor(L,$){super(),this.destination=L,this.source=$}next(L){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===K||K.call($,L)}error(L){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===K||K.call($,L)}complete(){var L,$;null===($=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===$||$.call(L)}_subscribe(L){var $,K;return null!==(K=null===($=this.source)||void 0===$?void 0:$.subscribe(L))&&void 0!==K?K:Y.Lc}}},305:(ut,Ie,R)=>{R.d(Ie,{Hp:()=>xe,Lv:()=>K});var d=R(4674),Y=R(7394),P=R(2653),X=R(3894),ne=R(2420);const de=le("C",void 0,void 0);function le(te,me,ee){return{kind:te,value:me,error:ee}}var L=R(7599),$=R(1441);class K extends Y.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,Y.Nn)(me)&&me.add(this)):this.destination=lt}static create(me,ee,be){return new xe(me,ee,be)}next(me){this.isStopped?mt(function Oe(te){return le("N",te,void 0)}(me),this):this._next(me)}error(me){this.isStopped?mt(function fe(te){return le("E",void 0,te)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?mt(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ae(te,me){return Le.call(te,me)}class We{constructor(me){this.partialObserver=me}next(me){const{partialObserver:ee}=this;if(ee.next)try{ee.next(me)}catch(be){Ge(be)}}error(me){const{partialObserver:ee}=this;if(ee.error)try{ee.error(me)}catch(be){Ge(be)}else Ge(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(ee){Ge(ee)}}}class xe extends K{constructor(me,ee,be){let Pe;if(super(),(0,d.m)(me)||!me)Pe={next:me??void 0,error:ee??void 0,complete:be??void 0};else{let qe;this&&P.config.useDeprecatedNextContext?(qe=Object.create(me),qe.unsubscribe=()=>this.unsubscribe(),Pe={next:me.next&&Ae(me.next,qe),error:me.error&&Ae(me.error,qe),complete:me.complete&&Ae(me.complete,qe)}):Pe=me}this.destination=new We(Pe)}}function Ge(te){P.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(te):(0,X.h)(te)}function mt(te,me){const{onStoppedNotification:ee}=P.config;ee&&L.z.setTimeout(()=>ee(te,me))}const lt={closed:!0,next:ne.Z,error:function ke(te){throw te},complete:ne.Z}},7394:(ut,Ie,R)=>{R.d(Ie,{Lc:()=>de,w0:()=>ne,Nn:()=>fe});var d=R(4674);const P=(0,R(2306).d)(le=>function($){le(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((K,Le)=>`${Le+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var X=R(9039);class ne{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ae of $)Ae.remove(this);else $.remove(this);const{initialTeardown:K}=this;if((0,d.m)(K))try{K()}catch(Ae){L=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Ae of Le)try{Oe(Ae)}catch(We){L=L??[],We instanceof P?L=[...L,...We.errors]:L.push(We)}}if(L)throw new P(L)}}add(L){var $;if(L&&L!==this)if(this.closed)Oe(L);else{if(L instanceof ne){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(L)}}_hasParent(L){const{_parentage:$}=this;return $===L||Array.isArray($)&&$.includes(L)}_addParent(L){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(L),$):$?[$,L]:L}_removeParent(L){const{_parentage:$}=this;$===L?this._parentage=null:Array.isArray($)&&(0,X.P)($,L)}remove(L){const{_finalizers:$}=this;$&&(0,X.P)($,L),L instanceof ne&&L._removeParent(this)}}ne.EMPTY=(()=>{const le=new ne;return le.closed=!0,le})();const de=ne.EMPTY;function fe(le){return le instanceof ne||le&&"closed"in le&&(0,d.m)(le.remove)&&(0,d.m)(le.add)&&(0,d.m)(le.unsubscribe)}function Oe(le){(0,d.m)(le)?le():le.unsubscribe()}},2653:(ut,Ie,R)=>{R.d(Ie,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ut,Ie,R)=>{R.d(Ie,{E:()=>Y});const Y=new(R(5592).y)(ne=>ne.complete())},2459:(ut,Ie,R)=>{R.d(Ie,{D:()=>me});var d=R(4829),Y=R(3093),P=R(5137),de=R(5592),Oe=R(4971),le=R(4674),L=R(7103);function K(ee,be){if(!ee)throw new Error("Iterable cannot be null");return new de.y(Pe=>{(0,L.f)(Pe,be,()=>{const qe=ee[Symbol.asyncIterator]();(0,L.f)(Pe,be,()=>{qe.next().then(se=>{se.done?Pe.complete():Pe.next(se.value)})},0,!0)})})}var Le=R(8382),Ae=R(4026),We=R(4266),xe=R(3664),Ge=R(5726),ke=R(9853),mt=R(541);function me(ee,be){return be?function te(ee,be){if(null!=ee){if((0,Le.c)(ee))return function X(ee,be){return(0,d.Xf)(ee).pipe((0,P.R)(be),(0,Y.Q)(be))}(ee,be);if((0,We.z)(ee))return function fe(ee,be){return new de.y(Pe=>{let qe=0;return be.schedule(function(){qe===ee.length?Pe.complete():(Pe.next(ee[qe++]),Pe.closed||this.schedule())})})}(ee,be);if((0,Ae.t)(ee))return function ne(ee,be){return(0,d.Xf)(ee).pipe((0,P.R)(be),(0,Y.Q)(be))}(ee,be);if((0,Ge.D)(ee))return K(ee,be);if((0,xe.T)(ee))return function $(ee,be){return new de.y(Pe=>{let qe;return(0,L.f)(Pe,be,()=>{qe=ee[Oe.h](),(0,L.f)(Pe,be,()=>{let se,wt;try{({value:se,done:wt}=qe.next())}catch(Vt){return void Pe.error(Vt)}wt?Pe.complete():Pe.next(se)},0,!0)}),()=>(0,le.m)(qe?.return)&&qe.return()})}(ee,be);if((0,mt.L)(ee))return function lt(ee,be){return K((0,mt.Q)(ee),be)}(ee,be)}throw(0,ke.z)(ee)}(ee,be):(0,d.Xf)(ee)}},4829:(ut,Ie,R)=>{R.d(Ie,{Xf:()=>Le});var d=R(7582),Y=R(4266),P=R(4026),X=R(5592),ne=R(8382),de=R(5726),fe=R(9853),Oe=R(3664),le=R(541),L=R(4674),$=R(3894),K=R(4850);function Le(te){if(te instanceof X.y)return te;if(null!=te){if((0,ne.c)(te))return function Ae(te){return new X.y(me=>{const ee=te[K.L]();if((0,L.m)(ee.subscribe))return ee.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,Y.z)(te))return function We(te){return new X.y(me=>{for(let ee=0;ee<te.length&&!me.closed;ee++)me.next(te[ee]);me.complete()})}(te);if((0,P.t)(te))return function xe(te){return new X.y(me=>{te.then(ee=>{me.closed||(me.next(ee),me.complete())},ee=>me.error(ee)).then(null,$.h)})}(te);if((0,de.D)(te))return ke(te);if((0,Oe.T)(te))return function Ge(te){return new X.y(me=>{for(const ee of te)if(me.next(ee),me.closed)return;me.complete()})}(te);if((0,le.L)(te))return function mt(te){return ke((0,le.Q)(te))}(te)}throw(0,fe.z)(te)}function ke(te){return new X.y(me=>{(function lt(te,me){var ee,be,Pe,qe;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ee=(0,d.KL)(te);!(be=yield ee.next()).done;)if(me.next(be.value),me.closed)return}catch(se){Pe={error:se}}finally{try{be&&!be.done&&(qe=ee.return)&&(yield qe.call(ee))}finally{if(Pe)throw Pe.error}}me.complete()})})(te,me).catch(ee=>me.error(ee))})}},3019:(ut,Ie,R)=>{R.d(Ie,{T:()=>de});var d=R(7537),Y=R(4829),P=R(6232),X=R(4564),ne=R(2459);function de(...fe){const Oe=(0,X.yG)(fe),le=(0,X._6)(fe,1/0),L=fe;return L.length?1===L.length?(0,Y.Xf)(L[0]):(0,d.J)(le)((0,ne.D)(L,Oe)):P.E}},2096:(ut,Ie,R)=>{R.d(Ie,{of:()=>P});var d=R(4564),Y=R(2459);function P(...X){const ne=(0,d.yG)(X);return(0,Y.D)(X,ne)}},8251:(ut,Ie,R)=>{R.d(Ie,{x:()=>Y});var d=R(305);function Y(X,ne,de,fe,Oe){return new P(X,ne,de,fe,Oe)}class P extends d.Lv{constructor(ne,de,fe,Oe,le,L){super(ne),this.onFinalize=le,this.shouldUnsubscribe=L,this._next=de?function($){try{de($)}catch(K){ne.error(K)}}:super._next,this._error=Oe?function($){try{Oe($)}catch(K){ne.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch($){ne.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},3997:(ut,Ie,R)=>{R.d(Ie,{x:()=>X});var d=R(2737),Y=R(9360),P=R(8251);function X(de,fe=d.y){return de=de??ne,(0,Y.e)((Oe,le)=>{let L,$=!0;Oe.subscribe((0,P.x)(le,K=>{const Le=fe(K);($||!de(L,Le))&&($=!1,L=Le,le.next(K))}))})}function ne(de,fe){return de===fe}},7398:(ut,Ie,R)=>{R.d(Ie,{U:()=>P});var d=R(9360),Y=R(8251);function P(X,ne){return(0,d.e)((de,fe)=>{let Oe=0;de.subscribe((0,Y.x)(fe,le=>{fe.next(X.call(ne,le,Oe++))}))})}},7537:(ut,Ie,R)=>{R.d(Ie,{J:()=>P});var d=R(1631),Y=R(2737);function P(X=1/0){return(0,d.z)(Y.y,X)}},1631:(ut,Ie,R)=>{R.d(Ie,{z:()=>Oe});var d=R(7398),Y=R(4829),P=R(9360),X=R(7103),ne=R(8251),fe=R(4674);function Oe(le,L,$=1/0){return(0,fe.m)(L)?Oe((K,Le)=>(0,d.U)((Ae,We)=>L(K,Ae,Le,We))((0,Y.Xf)(le(K,Le))),$):("number"==typeof L&&($=L),(0,P.e)((K,Le)=>function de(le,L,$,K,Le,Ae,We,xe){const Ge=[];let ke=0,mt=0,lt=!1;const te=()=>{lt&&!Ge.length&&!ke&&L.complete()},me=be=>ke<K?ee(be):Ge.push(be),ee=be=>{Ae&&L.next(be),ke++;let Pe=!1;(0,Y.Xf)($(be,mt++)).subscribe((0,ne.x)(L,qe=>{Le?.(qe),Ae?me(qe):L.next(qe)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(ke--;Ge.length&&ke<K;){const qe=Ge.shift();We?(0,X.f)(L,We,()=>ee(qe)):ee(qe)}te()}catch(qe){L.error(qe)}}))};return le.subscribe((0,ne.x)(L,me,()=>{lt=!0,te()})),()=>{xe?.()}}(K,Le,le,$)))}},3093:(ut,Ie,R)=>{R.d(Ie,{Q:()=>X});var d=R(7103),Y=R(9360),P=R(8251);function X(ne,de=0){return(0,Y.e)((fe,Oe)=>{fe.subscribe((0,P.x)(Oe,le=>(0,d.f)(Oe,ne,()=>Oe.next(le),de),()=>(0,d.f)(Oe,ne,()=>Oe.complete(),de),le=>(0,d.f)(Oe,ne,()=>Oe.error(le),de)))})}},3020:(ut,Ie,R)=>{R.d(Ie,{B:()=>ne});var d=R(4829),Y=R(8645),P=R(305),X=R(9360);function ne(fe={}){const{connector:Oe=(()=>new Y.x),resetOnError:le=!0,resetOnComplete:L=!0,resetOnRefCountZero:$=!0}=fe;return K=>{let Le,Ae,We,xe=0,Ge=!1,ke=!1;const mt=()=>{Ae?.unsubscribe(),Ae=void 0},lt=()=>{mt(),Le=We=void 0,Ge=ke=!1},te=()=>{const me=Le;lt(),me?.unsubscribe()};return(0,X.e)((me,ee)=>{xe++,!ke&&!Ge&&mt();const be=We=We??Oe();ee.add(()=>{xe--,0===xe&&!ke&&!Ge&&(Ae=de(te,$))}),be.subscribe(ee),!Le&&xe>0&&(Le=new P.Hp({next:Pe=>be.next(Pe),error:Pe=>{ke=!0,mt(),Ae=de(lt,le,Pe),be.error(Pe)},complete:()=>{Ge=!0,mt(),Ae=de(lt,L),be.complete()}}),(0,d.Xf)(me).subscribe(Le))})(K)}}function de(fe,Oe,...le){if(!0===Oe)return void fe();if(!1===Oe)return;const L=new P.Hp({next:()=>{L.unsubscribe(),fe()}});return(0,d.Xf)(Oe(...le)).subscribe(L)}},5137:(ut,Ie,R)=>{R.d(Ie,{R:()=>Y});var d=R(9360);function Y(P,X=0){return(0,d.e)((ne,de)=>{de.add(P.schedule(()=>ne.subscribe(de),X))})}},4664:(ut,Ie,R)=>{R.d(Ie,{w:()=>X});var d=R(4829),Y=R(9360),P=R(8251);function X(ne,de){return(0,Y.e)((fe,Oe)=>{let le=null,L=0,$=!1;const K=()=>$&&!le&&Oe.complete();fe.subscribe((0,P.x)(Oe,Le=>{le?.unsubscribe();let Ae=0;const We=L++;(0,d.Xf)(ne(Le,We)).subscribe(le=(0,P.x)(Oe,xe=>Oe.next(de?de(Le,xe,We,Ae++):xe),()=>{le=null,K()}))},()=>{$=!0,K()}))})}},9397:(ut,Ie,R)=>{R.d(Ie,{b:()=>ne});var d=R(4674),Y=R(9360),P=R(8251),X=R(2737);function ne(de,fe,Oe){const le=(0,d.m)(de)||fe||Oe?{next:de,error:fe,complete:Oe}:de;return le?(0,Y.e)((L,$)=>{var K;null===(K=le.subscribe)||void 0===K||K.call(le);let Le=!0;L.subscribe((0,P.x)($,Ae=>{var We;null===(We=le.next)||void 0===We||We.call(le,Ae),$.next(Ae)},()=>{var Ae;Le=!1,null===(Ae=le.complete)||void 0===Ae||Ae.call(le),$.complete()},Ae=>{var We;Le=!1,null===(We=le.error)||void 0===We||We.call(le,Ae),$.error(Ae)},()=>{var Ae,We;Le&&(null===(Ae=le.unsubscribe)||void 0===Ae||Ae.call(le)),null===(We=le.finalize)||void 0===We||We.call(le)}))}):X.y}},1954:(ut,Ie,R)=>{R.d(Ie,{o:()=>ne});var d=R(7394);class Y extends d.w0{constructor(fe,Oe){super()}schedule(fe,Oe=0){return this}}const P={setInterval(de,fe,...Oe){const{delegate:le}=P;return le?.setInterval?le.setInterval(de,fe,...Oe):setInterval(de,fe,...Oe)},clearInterval(de){const{delegate:fe}=P;return(fe?.clearInterval||clearInterval)(de)},delegate:void 0};var X=R(9039);class ne extends Y{constructor(fe,Oe){super(fe,Oe),this.scheduler=fe,this.work=Oe,this.pending=!1}schedule(fe,Oe=0){var le;if(this.closed)return this;this.state=fe;const L=this.id,$=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId($,L,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId($,this.id,Oe),this}requestAsyncId(fe,Oe,le=0){return P.setInterval(fe.flush.bind(fe,this),le)}recycleAsyncId(fe,Oe,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return Oe;null!=Oe&&P.clearInterval(Oe)}execute(fe,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(fe,Oe);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,Oe){let L,le=!1;try{this.work(fe)}catch($){le=!0,L=$||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:fe,scheduler:Oe}=this,{actions:le}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(le,this),null!=fe&&(this.id=this.recycleAsyncId(Oe,fe,null)),this.delay=null,super.unsubscribe()}}}},2631:(ut,Ie,R)=>{R.d(Ie,{v:()=>P});var d=R(4552);class Y{constructor(ne,de=Y.now){this.schedulerActionCtor=ne,this.now=de}schedule(ne,de=0,fe){return new this.schedulerActionCtor(this,ne).schedule(fe,de)}}Y.now=d.l.now;class P extends Y{constructor(ne,de=Y.now){super(ne,de),this.actions=[],this._active=!1}flush(ne){const{actions:de}=this;if(this._active)return void de.push(ne);let fe;this._active=!0;do{if(fe=ne.execute(ne.state,ne.delay))break}while(ne=de.shift());if(this._active=!1,fe){for(;ne=de.shift();)ne.unsubscribe();throw fe}}}},6321:(ut,Ie,R)=>{R.d(Ie,{z:()=>P});var d=R(1954);const P=new(R(2631).v)(d.o)},4552:(ut,Ie,R)=>{R.d(Ie,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(ut,Ie,R)=>{R.d(Ie,{z:()=>d});const d={setTimeout(Y,P,...X){const{delegate:ne}=d;return ne?.setTimeout?ne.setTimeout(Y,P,...X):setTimeout(Y,P,...X)},clearTimeout(Y){const{delegate:P}=d;return(P?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},4971:(ut,Ie,R)=>{R.d(Ie,{h:()=>Y});const Y=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ut,Ie,R)=>{R.d(Ie,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ut,Ie,R)=>{R.d(Ie,{_6:()=>de,jO:()=>X,yG:()=>ne});var d=R(4674);function P(fe){return fe[fe.length-1]}function X(fe){return(0,d.m)(P(fe))?fe.pop():void 0}function ne(fe){return function Y(fe){return fe&&(0,d.m)(fe.schedule)}(P(fe))?fe.pop():void 0}function de(fe,Oe){return"number"==typeof P(fe)?fe.pop():Oe}},9039:(ut,Ie,R)=>{function d(Y,P){if(Y){const X=Y.indexOf(P);0<=X&&Y.splice(X,1)}}R.d(Ie,{P:()=>d})},2306:(ut,Ie,R)=>{function d(Y){const X=Y(ne=>{Error.call(ne),ne.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}R.d(Ie,{d:()=>d})},1441:(ut,Ie,R)=>{R.d(Ie,{O:()=>X,x:()=>P});var d=R(2653);let Y=null;function P(ne){if(d.config.useDeprecatedSynchronousErrorHandling){const de=!Y;if(de&&(Y={errorThrown:!1,error:null}),ne(),de){const{errorThrown:fe,error:Oe}=Y;if(Y=null,fe)throw Oe}}else ne()}function X(ne){d.config.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=ne)}},7103:(ut,Ie,R)=>{function d(Y,P,X,ne=0,de=!1){const fe=P.schedule(function(){X(),de?Y.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Y.add(fe),!de)return fe}R.d(Ie,{f:()=>d})},2737:(ut,Ie,R)=>{function d(Y){return Y}R.d(Ie,{y:()=>d})},4266:(ut,Ie,R)=>{R.d(Ie,{z:()=>d});const d=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},5726:(ut,Ie,R)=>{R.d(Ie,{D:()=>Y});var d=R(4674);function Y(P){return Symbol.asyncIterator&&(0,d.m)(P?.[Symbol.asyncIterator])}},4674:(ut,Ie,R)=>{function d(Y){return"function"==typeof Y}R.d(Ie,{m:()=>d})},8382:(ut,Ie,R)=>{R.d(Ie,{c:()=>P});var d=R(4850),Y=R(4674);function P(X){return(0,Y.m)(X[d.L])}},3664:(ut,Ie,R)=>{R.d(Ie,{T:()=>P});var d=R(4971),Y=R(4674);function P(X){return(0,Y.m)(X?.[d.h])}},4026:(ut,Ie,R)=>{R.d(Ie,{t:()=>Y});var d=R(4674);function Y(P){return(0,d.m)(P?.then)}},541:(ut,Ie,R)=>{R.d(Ie,{L:()=>X,Q:()=>P});var d=R(7582),Y=R(4674);function P(ne){return(0,d.FC)(this,arguments,function*(){const fe=ne.getReader();try{for(;;){const{value:Oe,done:le}=yield(0,d.qq)(fe.read());if(le)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Oe)}}finally{fe.releaseLock()}})}function X(ne){return(0,Y.m)(ne?.getReader)}},9360:(ut,Ie,R)=>{R.d(Ie,{A:()=>Y,e:()=>P});var d=R(4674);function Y(X){return(0,d.m)(X?.lift)}function P(X){return ne=>{if(Y(ne))return ne.lift(function(de){try{return X(de,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(ut,Ie,R)=>{function d(){}R.d(Ie,{Z:()=>d})},8407:(ut,Ie,R)=>{R.d(Ie,{U:()=>P,z:()=>Y});var d=R(2737);function Y(...X){return P(X)}function P(X){return 0===X.length?d.y:1===X.length?X[0]:function(de){return X.reduce((fe,Oe)=>Oe(fe),de)}}},3894:(ut,Ie,R)=>{R.d(Ie,{h:()=>P});var d=R(2653),Y=R(7599);function P(X){Y.z.setTimeout(()=>{const{onUnhandledError:ne}=d.config;if(!ne)throw X;ne(X)})}},9853:(ut,Ie,R)=>{function d(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ie,{z:()=>d})},5879:(ut,Ie,R)=>{R.d(Ie,{$8M:()=>$l,$WT:()=>zs,$Z:()=>JI,AFp:()=>kp,AaK:()=>K,CHM:()=>Wu,CRH:()=>Hg,EJc:()=>yD,EiD:()=>$_,EpF:()=>Lb,F4k:()=>qy,FYo:()=>RI,FiY:()=>th,GfV:()=>PI,Gpc:()=>We,HDt:()=>jv,JOm:()=>Kl,JVY:()=>ry,JZr:()=>lt,KtG:()=>Nl,L6k:()=>iy,LAX:()=>B_,LFG:()=>Qt,Lbi:()=>ru,Lck:()=>qC,MMx:()=>Ls,NdJ:()=>ew,Ojb:()=>TI,OlP:()=>st,Oqu:()=>hw,P3R:()=>xp,PXZ:()=>SD,Q6J:()=>Y0,QGY:()=>X0,Qsj:()=>QT,R0b:()=>ti,RDi:()=>MT,Rgc:()=>gu,SBq:()=>Wp,Sil:()=>vD,Suo:()=>Hw,TTD:()=>Ko,TgZ:()=>zy,VuI:()=>Ef,WLB:()=>pu,X6Q:()=>uM,XFs:()=>pt,Xpm:()=>dr,Xq5:()=>yb,Xts:()=>Np,Y36:()=>Mh,YKP:()=>Lo,YNc:()=>xb,Yjl:()=>Ru,Yz7:()=>Mt,Z0I:()=>sn,ZZ4:()=>Jv,_Bn:()=>GC,_UZ:()=>J0,_c5:()=>jD,_uU:()=>eC,aQg:()=>_E,c2e:()=>Ww,cJS:()=>bn,cg1:()=>Ew,dDg:()=>nE,dqk:()=>Xt,eBb:()=>xT,eFA:()=>xD,eJc:()=>zw,ekj:()=>cw,eoX:()=>gf,f3M:()=>Dt,g9A:()=>DI,h0i:()=>fu,hGG:()=>vM,hij:()=>sv,iGM:()=>$w,ifc:()=>rt,ip1:()=>Iu,jDz:()=>Fg,kL8:()=>Eg,lG2:()=>rl,lqb:()=>Mo,lri:()=>pf,mCW:()=>oy,n5z:()=>jl,oAB:()=>Ou,oxw:()=>Zy,pB0:()=>sy,q3G:()=>yh,q4F:()=>td,qFp:()=>am,qLn:()=>Cc,qOj:()=>Vy,qZA:()=>Gy,qzn:()=>tu,rWj:()=>tE,rg0:()=>Tm,s9C:()=>tw,sBO:()=>cM,s_b:()=>rf,soG:()=>Bv,tb:()=>Pi,tp0:()=>nh,uIk:()=>B0,uOi:()=>z_,vHH:()=>te,vpe:()=>Ns,wAp:()=>gd,xp6:()=>Qp,z2F:()=>oo,z3N:()=>xs,zSh:()=>hy,zs3:()=>rs});var d=R(8645),Y=R(7394),P=R(5592),X=R(3019),ne=R(5619),de=R(2096),fe=R(3020),Oe=R(4664),le=R(3997);function L(i){for(let s in i)if(i[s]===L)return s;throw Error("Could not find renamed property on target object.")}function $(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function K(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(K).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ae=L({__forward_ref__:L});function We(i){return i.__forward_ref__=We,i.toString=function(){return K(this())},i}function xe(i){return Ge(i)?i():i}function Ge(i){return"function"==typeof i&&i.hasOwnProperty(Ae)&&i.__forward_ref__===We}function ke(i){return i&&!!i.\u0275providers}const lt="https://g.co/ng/security#xss";class te extends Error{constructor(s,a){super(function me(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ee(i){return"string"==typeof i?i:null==i?"":String(i)}function wt(i,s){throw new te(-201,!1)}function tt(i,s){null==i&&function $e(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Mt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function bn(i){return{providers:i.providers||[],imports:i.imports||[]}}function ur(i){return Nr(i,si)||Nr(i,js)}function sn(i){return null!==ur(i)}function Nr(i,s){return i.hasOwnProperty(s)?i[s]:null}function ao(i){return i&&(i.hasOwnProperty(oi)||i.hasOwnProperty(Da))?i[oi]:null}const si=L({\u0275prov:L}),oi=L({\u0275inj:L}),js=L({ngInjectableDef:L}),Da=L({ngInjectorDef:L});var pt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(pt||{});let Ut;function ln(i){const s=Ut;return Ut=i,s}function Cn(i,s,a){const c=ur(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&pt.Optional?null:void 0!==s?s:void wt(K(i))}const Xt=globalThis;class st{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Mt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Sn={},Vi="__NG_DI_FLAG__",Rr="ngTempTokenPath",V=/\n/gm,Ee="__source";let re;function vt(i){const s=re;return re=i,s}function Wt(i,s=pt.Default){if(void 0===re)throw new te(-203,!1);return null===re?Cn(i,void 0,s):re.get(i,s&pt.Optional?null:void 0,s)}function Qt(i,s=pt.Default){return(function Ct(){return Ut}()||Wt)(xe(i),s)}function Dt(i,s=pt.Default){return Qt(i,$t(s))}function $t(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function lr(i){const s=[];for(let a=0;a<i.length;a++){const c=xe(i[a]);if(Array.isArray(c)){if(0===c.length)throw new te(900,!1);let h,p=pt.Default;for(let y=0;y<c.length;y++){const E=c[y],b=ps(E);"number"==typeof b?-1===b?h=E.token:p|=b:h=E}s.push(Qt(h,p))}else s.push(Qt(c))}return s}function qr(i,s){return i[Vi]=s,i.prototype[Vi]=s,i}function ps(i){return i[Vi]}function Q(i){return{toString:i}.toString()}var Ne=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Ne||{}),rt=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(rt||{});const dt={},Xe=[],Kt=L({\u0275cmp:L}),jn=L({\u0275dir:L}),Rn=L({\u0275pipe:L}),Yi=L({\u0275mod:L}),Zr=L({\u0275fac:L}),gs=L({__NG_ELEMENT_ID__:L}),Kc=L({__NG_ENV_ID__:L});function Ma(i,s,a){let c=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=s.length;if(h+p===c||i.charCodeAt(h+p)<=32)return h}a=h+1}}function Tu(i,s,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const p=a[c++],y=a[c++],E=a[c++];i.setAttribute(s,y,E,p)}else{const p=h,y=a[++c];Au(p)?i.setProperty(s,p,y):i.setAttribute(s,p,y),c++}}return c}function wi(i){return 3===i||4===i||6===i}function Au(i){return 64===i.charCodeAt(0)}function Ui(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const h=s[c];"number"==typeof h?a=h:0===a||Yc(i,a,h,null,-1===a||2===a?s[++c]:null)}}return i}function Yc(i,s,a,c,h){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const E=i[p++];if("number"==typeof E){if(E===s){y=-1;break}if(E>s){y=p-1;break}}}for(;p<i.length;){const E=i[p];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==h&&(i[p+1]=h));if(c===i[p+1])return void(i[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==h&&i.splice(p++,0,h)}const Pn="ng-template";function Su(i,s,a){let c=0,h=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&h){const y=i[c++];if(a&&"class"===p&&-1!==Ma(y.toLowerCase(),s,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Rf(i){return 4===i.type&&i.value!==Pn}function Pf(i,s,a){return s===(4!==i.type||a?i.value:Pn)}function Mu(i,s,a){let c=4;const h=i.attrs||[],p=function uo(i){for(let s=0;s<i.length;s++)if(wi(i[s]))return s;return i.length}(h);let y=!1;for(let E=0;E<s.length;E++){const b=s[E];if("number"!=typeof b){if(!y)if(4&c){if(c=2|1&c,""!==b&&!Pf(i,b,a)||""===b&&1===s.length){if(wr(c))return!1;y=!0}}else{const T=8&c?b:s[++E];if(8&c&&null!==i.attrs){if(!Su(i.attrs,T,a)){if(wr(c))return!1;y=!0}continue}const F=Ad(8&c?"class":b,h,Rf(i),a);if(-1===F){if(wr(c))return!1;y=!0;continue}if(""!==T){let z;z=F>p?"":h[F+1].toLowerCase();const W=8&c?z:null;if(W&&-1!==Ma(W,T,0)||2&c&&T!==z){if(wr(c))return!1;y=!0}}}}else{if(!y&&!wr(c)&&!wr(b))return!1;if(y&&wr(b))continue;y=!1,c=b|1&c}}return wr(c)||y}function wr(i){return 0==(1&i)}function Ad(i,s,a,c){if(null===s)return-1;let h=0;if(c||!a){let p=!1;for(;h<s.length;){const y=s[h];if(y===i)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function kf(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function Qc(i,s,a=!1){for(let c=0;c<s.length;c++)if(Mu(i,s[c],a))return!0;return!1}function Jc(i,s){return i?":not("+s.trim()+")":s}function Sd(i){let s=i[0],a=1,c=2,h="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const E=i[++a];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!wr(y)&&(s+=Jc(p,h),h=""),c=y,p=p||!wr(c);a++}return""!==h&&(s+=Jc(p,h)),s}function dr(i){return Q(()=>{const s=Ff(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Ne.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||rt.Emulated,styles:i.styles||Xe,_:null,schemas:i.schemas||null,tView:null,id:""};il(a);const c=i.dependencies;return a.directiveDefs=co(c,!1),a.pipeDefs=co(c,!0),a.id=function sl(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of a)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Nu(i){return Bt(i)||hr(i)}function tl(i){return null!==i}function Ou(i){return Q(()=>({type:i.type,bootstrap:i.bootstrap||Xe,declarations:i.declarations||Xe,imports:i.imports||Xe,exports:i.exports||Xe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function $o(i,s){if(null==i)return dt;const a={};for(const c in i)if(i.hasOwnProperty(c)){let h=i[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,s&&(s[h]=p)}return a}function rl(i){return Q(()=>{const s=Ff(i);return il(s),s})}function Ru(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Bt(i){return i[Kt]||null}function hr(i){return i[jn]||null}function fr(i){return i[Rn]||null}function zs(i){const s=Bt(i)||hr(i)||fr(i);return null!==s&&s.standalone}function Wr(i,s){const a=i[Yi]||null;if(!a&&!0===s)throw new Error(`Type ${K(i)} does not have '\u0275mod' property.`);return a}function Ff(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||dt,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Xe,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$o(i.inputs,s),outputs:$o(i.outputs)}}function il(i){i.features?.forEach(s=>s(i))}function co(i,s){if(!i)return null;const a=s?fr:Nu;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(tl)}const Mn=0,He=1,Rt=2,cn=3,ai=4,Ho=5,Pr=6,ms=7,xn=8,Gs=9,Bi=10,ht=11,Pu=12,xa=13,ys=14,qn=15,zo=16,Kr=17,Yr=18,bi=19,Md=20,ji=21,vs=22,qs=23,Qi=24,Ht=25,Na=1,Ji=2,ui=7,_s=9,tr=11;function kr(i){return Array.isArray(i)&&"object"==typeof i[Na]}function Ir(i){return Array.isArray(i)&&!0===i[Na]}function al(i){return 0!=(4&i.flags)}function br(i){return i.componentOffset>-1}function lo(i){return 1==(1&i.flags)}function Qr(i){return!!i.template}function Zs(i){return 0!=(512&i[Rt])}function Es(i,s){return i.hasOwnProperty(Zr)?i[Zr]:null}let $n=null,Go=!1;function pr(i){const s=$n;return $n=i,s}const gl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Rd(i){if(!fo(i)||i.dirty){if(!i.producerMustRecompute(i)&&!ml(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Bf(i){i.dirty=!0,function ka(i){if(void 0===i.liveConsumerNode)return;const s=Go;Go=!0;try{for(const a of i.liveConsumerNode)a.dirty||Bf(a)}finally{Go=s}}(i),i.consumerMarkedDirty?.(i)}function nr(i){return i&&(i.nextProducerIndex=0),pr(i)}function Lu(i,s){if(pr(s),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(fo(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Zo(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function ml(i){Is(i);for(let s=0;s<i.producerNode.length;s++){const a=i.producerNode[s],c=i.producerLastReadVersion[s];if(c!==a.version||(Rd(a),c!==a.version))return!0}return!1}function yl(i){if(Is(i),fo(i))for(let s=0;s<i.producerNode.length;s++)Zo(i.producerNode[s],i.producerIndexOfThis[s]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Zo(i,s){if(function Vu(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Is(i),1===i.liveConsumerNode.length)for(let c=0;c<i.producerNode.length;c++)Zo(i.producerNode[c],i.producerIndexOfThis[c]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[s]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[s]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,s<i.liveConsumerNode.length){const c=i.liveConsumerIndexOfThis[s],h=i.liveConsumerNode[s];Is(h),h.producerIndexOfThis[c]=s}}function fo(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Is(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let _l=null;function Tm(i){const s=pr(null);try{return i()}finally{pr(s)}}const Ld=()=>{},Hu=(()=>({...gl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Ld}))();class Vd{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ko(){return Ud}function Ud(i){return i.type.prototype.ngOnChanges&&(i.setInput=bs),po}function po(){const i=bl(this),s=i?.current;if(s){const a=i.previous;if(a===dt)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function bs(i,s,a,c){const h=this.declaredInputs[a],p=bl(i)||function Cl(i,s){return i[go]=s}(i,{previous:dt,current:null}),y=p.current||(p.current={}),E=p.previous,b=E[h];y[h]=new Vd(b&&b.currentValue,s,E===dt),i[c]=s}Ko.ngInherit=!0;const go="__ngSimpleChanges__";function bl(i){return i[go]||null}const es=function(i,s,a){};function en(i){for(;Array.isArray(i);)i=i[Mn];return i}function yo(i,s){return en(s[i])}function Jr(i,s){return en(s[i.index])}function Tl(i,s){return i.data[s]}function ci(i,s){const a=s[i];return kr(a)?a:a[Mn]}function _o(i,s){return null==s?null:i[s]}function zu(i){i[Kr]=0}function Al(i){1024&i[Rt]||(i[Rt]|=1024,fn(i,1))}function Sm(i){1024&i[Rt]&&(i[Rt]&=-1025,fn(i,-1))}function fn(i,s){let a=i[cn];if(null===a)return;a[Ho]+=s;let c=a;for(a=a[cn];null!==a&&(1===s&&1===c[Ho]||-1===s&&0===c[Ho]);)a[Ho]+=s,c=a,a=a[cn]}const It={lFrame:ns(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jo(){return It.bindingsEnabled}function Te(){return It.lFrame.lView}function Pt(){return It.lFrame.tView}function Wu(i){return It.lFrame.contextLView=i,i[xn]}function Nl(i){return It.lFrame.contextLView=null,i}function Zn(){let i=Ol();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ol(){return It.lFrame.currentTNode}function Xr(i,s){const a=It.lFrame;a.currentTNode=i,a.isParent=s}function Pl(){return It.lFrame.isParent}function wo(){return It.lFrame.bindingIndex++}function Nm(i,s){const a=It.lFrame;a.bindingIndex=a.bindingRootIndex=i,qd(s)}function qd(i){It.lFrame.currentDirectiveIndex=i}function Zf(){return It.lFrame.currentQueryIndex}function Ku(i){It.lFrame.currentQueryIndex=i}function Om(i){const s=i[He];return 2===s.type?s.declTNode:1===s.type?i[Pr]:null}function Dr(i,s,a){if(a&pt.SkipSelf){let h=s,p=i;for(;!(h=h.parent,null!==h||a&pt.Host||(h=Om(p),null===h||(p=p[ys],10&h.type))););if(null===h)return!1;s=h,i=p}const c=It.lFrame=gt();return c.currentTNode=s,c.lView=i,!0}function Hi(i){const s=gt(),a=i[He];It.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function gt(){const i=It.lFrame,s=null===i?null:i.child;return null===s?ns(i):s}function ns(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function dn(){const i=It.lFrame;return It.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Yu=dn;function Ds(){const i=dn();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function gr(){return It.lFrame.selectedIndex}function Ts(i){It.lFrame.selectedIndex=i}function on(){const i=It.lFrame;return Tl(i.tView,i.selectedIndex)}let Fr=!0;function li(){return Fr}function Nn(i){Fr=i}function ea(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:x}=p;y&&(i.contentHooks??=[]).push(-a,y),E&&((i.contentHooks??=[]).push(a,E),(i.contentCheckHooks??=[]).push(a,E)),b&&(i.viewHooks??=[]).push(-a,b),T&&((i.viewHooks??=[]).push(a,T),(i.viewCheckHooks??=[]).push(a,T)),null!=x&&(i.destroyHooks??=[]).push(a,x)}}function Qu(i,s,a){Ys(i,s,3,a)}function As(i,s,a,c){(3&i[Rt])===a&&Ys(i,s,a,c)}function Ss(i,s){let a=i[Rt];(3&a)===s&&(a&=8191,a+=1,i[Rt]=a)}function Ys(i,s,a,c){const p=c??-1,y=s.length-1;let E=0;for(let b=void 0!==c?65535&i[Kr]:0;b<y;b++)if("number"==typeof s[b+1]){if(E=s[b],null!=c&&E>=c)break}else s[b]<0&&(i[Kr]+=65536),(E<p||-1==p)&&(Ha(i,a,s,b),i[Kr]=(4294901760&i[Kr])+b+2),b++}function $a(i,s){es(4,i,s);const a=pr(null);try{s.call(i)}finally{pr(a),es(5,i,s)}}function Ha(i,s,a,c){const h=a[c]<0,p=a[c+1],E=i[h?-a[c]:a[c]];h?i[Rt]>>13<i[Kr]>>16&&(3&i[Rt])===s&&(i[Rt]+=8192,$a(E,p)):$a(E,p)}const pn=-1;class za{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ju(i){return i!==pn}function Xu(i){return 32767&i}function ec(i,s){let a=function Yd(i){return i>>16}(i),c=s;for(;a>0;)c=c[ys],a--;return c}let Qd=!0;function Ga(i){const s=Qd;return Qd=i,s}const Rm=255,Vl=5;let pe=0;const ir={};function zt(i,s){const a=Qs(i,s);if(-1!==a)return a;const c=s[He];c.firstCreatePass&&(i.injectorIndex=s.length,di(c.data,i),di(s,null),di(c.blueprint,null));const h=Io(i,s),p=i.injectorIndex;if(Ju(h)){const y=Xu(h),E=ec(h,s),b=E[He].data;for(let T=0;T<8;T++)s[p+T]=E[y+T]|b[y+T]}return s[p+8]=h,p}function di(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Qs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Io(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,h=s;for(;null!==h;){if(c=rc(h),null===c)return pn;if(a++,h=h[ys],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return pn}function na(i,s,a){!function Eo(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(gs)&&(c=a[gs]),null==c&&(c=a[gs]=pe++);const h=c&Rm;s.data[i+(h>>Vl)]|=1<<h}(i,s,a)}function qa(i,s,a){if(a&pt.Optional||void 0!==i)return i;wt()}function bo(i,s,a,c){if(a&pt.Optional&&void 0===c&&(c=null),!(a&(pt.Self|pt.Host))){const h=i[Gs],p=ln(void 0);try{return h?h.get(s,c,a&pt.Optional):Cn(s,c,a&pt.Optional)}finally{ln(p)}}return qa(c,0,a)}function tc(i,s,a,c=pt.Default,h){if(null!==i){if(2048&s[Rt]&&!(c&pt.Self)){const y=function Wa(i,s,a,c,h){let p=i,y=s;for(;null!==p&&null!==y&&2048&y[Rt]&&!(512&y[Rt]);){const E=Ul(p,y,a,c|pt.Self,ir);if(E!==ir)return E;let b=p.parent;if(!b){const T=y[Md];if(T){const x=T.get(a,ir,c);if(x!==ir)return x}b=rc(y),y=y[ys]}p=b}return h}(i,s,a,c,ir);if(y!==ir)return y}const p=Ul(i,s,a,c,ir);if(p!==ir)return p}return bo(s,a,c,h)}function Ul(i,s,a,c,h){const p=function Xs(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(gs)?i[gs]:void 0;return"number"==typeof s?s>=0?s&Rm:Ms:s}(a);if("function"==typeof p){if(!Dr(s,i,c))return c&pt.Host?qa(h,0,c):bo(s,a,c,h);try{let y;if(y=p(c),null!=y||c&pt.Optional)return y;wt()}finally{Yu()}}else if("number"==typeof p){let y=null,E=Qs(i,s),b=pn,T=c&pt.Host?s[qn][Pr]:null;for((-1===E||c&pt.SkipSelf)&&(b=-1===E?Io(i,s):s[E+8],b!==pn&&Jd(c,!1)?(y=s[He],E=Xu(b),s=ec(b,s)):E=-1);-1!==E;){const x=s[He];if(Bl(p,E,x.data)){const F=Pm(E,s,a,y,c,T);if(F!==ir)return F}b=s[E+8],b!==pn&&Jd(c,s[He].data[E+8]===T)&&Bl(p,E,s)?(y=x,E=Xu(b),s=ec(b,s)):E=-1}}return h}function Pm(i,s,a,c,h,p){const y=s[He],E=y.data[i+8],x=nc(E,y,a,null==c?br(E)&&Qd:c!=y&&0!=(3&E.type),h&pt.Host&&p===E);return null!==x?Js(s,y,x,E):ir}function nc(i,s,a,c,h){const p=i.providerIndexes,y=s.data,E=1048575&p,b=i.directiveStart,x=p>>20,z=h?E+x:i.directiveEnd;for(let W=c?E:E+x;W<z;W++){const ge=y[W];if(W<b&&a===ge||W>=b&&ge.type===a)return W}if(h){const W=y[b];if(W&&Qr(W)&&W.type===a)return b}return null}function Js(i,s,a,c){let h=i[a];const p=s.data;if(function ta(i){return i instanceof za}(h)){const y=h;y.resolving&&function Pe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new te(-200,`Circular dependency in DI detected for ${i}${a}`)}(function be(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ee(i)}(p[a]));const E=Ga(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?ln(y.injectImpl):null;Dr(i,c,pt.Default);try{h=i[a]=y.factory(void 0,p,i,c),s.firstCreatePass&&a>=c.directiveStart&&function Xo(i,s,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(c){const y=Ud(s);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}h&&(a.preOrderHooks??=[]).push(0-i,h),p&&((a.preOrderHooks??=[]).push(i,p),(a.preOrderCheckHooks??=[]).push(i,p))}(a,p[a],s)}finally{null!==T&&ln(T),Ga(E),y.resolving=!1,Yu()}}return h}function Bl(i,s,a){return!!(a[s+(i>>Vl)]&1<<i)}function Jd(i,s){return!(i&pt.Self||i&pt.Host&&s)}class Fn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return tc(this._tNode,this._lView,s,$t(c),a)}}function Ms(){return new Fn(Zn(),Te())}function jl(i){return Q(()=>{const s=i.prototype.constructor,a=s[Zr]||Za(s),c=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==c;){const p=h[Zr]||Za(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Za(i){return Ge(i)?()=>{const s=Za(xe(i));return s&&s()}:Es(i)}function rc(i){const s=i[He],a=s.type;return 2===a?s.declTNode:1===a?i[Pr]:null}function $l(i){return function gn(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(wi(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===s)return a[h+1];h+=2}}}return null}(Zn(),i)}const I="__parameters__";function H(i,s,a){return Q(()=>{const c=function k(i){return function(...a){if(i){const c=i(...a);for(const h in c)this[h]=c[h]}}}(s);function h(...p){if(this instanceof h)return c.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(b,T,x){const F=b.hasOwnProperty(I)?b[I]:Object.defineProperty(b,I,{value:[]})[I];for(;F.length<=x;)F.push(null);return(F[x]=F[x]||[]).push(y),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function ia(i,s){i.forEach(a=>Array.isArray(a)?ia(a,s):s(a))}function Yf(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function sa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function fi(i,s,a){let c=aa(i,s);return c>=0?i[1|c]=a:(c=~c,function km(i,s,a,c){let h=i.length;if(h==s)i.push(a,c);else if(1===h)i.push(c,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function eh(i,s){const a=aa(i,s);if(a>=0)return i[1|a]}function aa(i,s){return function Hl(i,s,a){let c=0,h=i.length>>a;for(;h!==c;){const p=c+(h-c>>1),y=i[p<<a];if(s===y)return p<<a;y>s?h=p:c=p+1}return~(h<<a)}(i,s,1)}const th=qr(H("Optional"),8),nh=qr(H("SkipSelf"),4);function Wl(i){return 128==(128&i.flags)}var Kl=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Kl||{});const Do=new Map;let qm=0;const lp="__ngContext__";function Ar(i,s){kr(s)?(i[lp]=s[bi],function cp(i){Do.set(i[bi],i)}(s)):i[lp]=s}let Z;function Ce(i,s){return Z(i,s)}function Be(i){const s=i[cn];return Ir(s)?s[cn]:s}function hn(i){return lh(i[Pu])}function pc(i){return lh(i[ai])}function lh(i){for(;null!==i&&!Ir(i);)i=i[ai];return i}function To(i,s,a,c,h){if(null!=c){let p,y=!1;Ir(c)?p=c:kr(c)&&(y=!0,c=c[Mn]);const E=en(c);0===i&&null!==a?null==h?Xm(s,a,E):_c(s,a,E,h||null,!0):1===i&&null!==a?_c(s,a,E,h||null,!0):2===i?function ph(i,s,a){const c=yp(i,s);c&&function oI(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,E,y):3===i&&s.destroyNode(E),null!=p&&function v1(i,s,a,c,h){const p=a[ui];p!==en(a)&&To(s,i,c,p,h);for(let E=tr;E<a.length;E++){const b=a[E];ey(b[He],b,i,s,c,p)}}(s,i,p,a,h)}}function yc(i,s,a){return i.createElement(s,a)}function iI(i,s){const a=i[_s],c=a.indexOf(s);Sm(s),a.splice(c,1)}function pp(i,s){if(i.length<=tr)return;const a=tr+s,c=i[a];if(c){const h=c[zo];null!==h&&h!==i&&iI(h,c),s>0&&(i[a-1][ai]=c[ai]);const p=sa(i,tr+s);!function hp(i,s){ey(i,s,s[ht],2,null,null),s[Mn]=null,s[Pr]=null}(c[He],c);const y=p[Yr];null!==y&&y.detachView(p[He]),c[cn]=null,c[ai]=null,c[Rt]&=-129}return c}function Qm(i,s){if(!(256&s[Rt])){const a=s[ht];s[qs]&&yl(s[qs]),s[Qi]&&yl(s[Qi]),a.destroyNode&&ey(i,s,a,3,null,null),function Km(i){let s=i[Pu];if(!s)return gp(i[He],i);for(;s;){let a=null;if(kr(s))a=s[Pu];else{const c=s[tr];c&&(a=c)}if(!a){for(;s&&!s[ai]&&s!==i;)kr(s)&&gp(s[He],s),s=s[cn];null===s&&(s=i),kr(s)&&gp(s[He],s),a=s&&s[ai]}s=a}}(s)}}function gp(i,s){if(!(256&s[Rt])){s[Rt]&=-129,s[Rt]|=256,function O_(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const h=s[a[c]];if(!(h instanceof za)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],b=p[y+1];es(4,E,b);try{b.call(E)}finally{es(5,E,b)}}else{es(4,h,p);try{p.call(h)}finally{es(5,h,p)}}}}}(i,s),function sI(i,s){const a=i.cleanup,c=s[ms];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?c[y]():c[-y].unsubscribe(),p+=2}else a[p].call(c[a[p+1]]);null!==c&&(s[ms]=null);const h=s[ji];if(null!==h){s[ji]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(i,s),1===s[He].type&&s[ht].destroy();const a=s[zo];if(null!==a&&Ir(s[cn])){a!==s[cn]&&iI(a,s);const c=s[Yr];null!==c&&c.detachView(i)}!function N_(i){Do.delete(i[bi])}(s)}}function Jm(i,s,a){return function R_(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[Mn];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:p}=i.data[c.directiveStart+h];if(p===rt.None||p===rt.Emulated)return null}return Jr(c,a)}}(i,s.parent,a)}function _c(i,s,a,c,h){i.insertBefore(s,a,c,h)}function Xm(i,s,a){i.appendChild(s,a)}function mp(i,s,a,c,h){null!==c?_c(i,s,a,c,h):Xm(i,s,a)}function yp(i,s){return i.parentNode(s)}let aI,L_,bp,ny,AT=function P_(i,s,a){return 40&i.type?Jr(i,a):null};function wc(i,s,a,c){const h=Jm(i,c,s),p=s[ht],E=function eu(i,s,a){return AT(i,s,a)}(c.parent||s[Pr],c,s);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)mp(p,h,a[b],E,!1);else mp(p,h,a,E,!1);void 0!==aI&&aI(p,c,s,a,h)}function Yl(i,s){if(null!==s){const a=s.type;if(3&a)return Jr(s,i);if(4&a)return k_(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Yl(i,c);{const h=i[s.index];return Ir(h)?k_(-1,h):en(h)}}if(32&a)return Ce(s,i)()||en(i[s.index]);{const c=vp(i,s);return null!==c?Array.isArray(c)?c[0]:Yl(Be(i[qn]),c):Yl(i,s.next)}}return null}function vp(i,s){return null!==s?i[qn][Pr].projection[s.projection]:null}function k_(i,s){const a=tr+i+1;if(a<s.length){const c=s[a],h=c[He].firstChild;if(null!==h)return Yl(c,h)}return s[ui]}function cI(i,s,a,c,h,p,y){for(;null!=a;){const E=c[a.index],b=a.type;if(y&&0===s&&(E&&Ar(en(E),c),a.flags|=2),32!=(32&a.flags))if(8&b)cI(i,s,a.child,c,h,p,!1),To(s,i,h,E,p);else if(32&b){const T=Ce(a,c);let x;for(;x=T();)To(s,i,h,x,p);To(s,i,h,E,p)}else 16&b?ST(i,s,c,a,h,p):To(s,i,h,E,p);a=y?a.projectionNext:a.next}}function ey(i,s,a,c,h,p){cI(a,c,i.firstChild,s,h,p,!1)}function ST(i,s,a,c,h,p){const y=a[qn],b=y[Pr].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)To(s,i,h,b[T],p);else{let T=b;const x=y[cn];Wl(c)&&(T.flags|=128),cI(i,s,T,x,h,p,!0)}}function lI(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function F_(i,s,a){const{mergedAttrs:c,classes:h,styles:p}=a;null!==c&&Tu(i,s,c),null!==h&&lI(i,s,h),null!==p&&function w1(i,s,a){i.setAttribute(s,"style",a)}(i,s,p)}function _p(i){return function dI(){if(void 0===L_&&(L_=null,Xt.trustedTypes))try{L_=Xt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return L_}()?.createHTML(i)||i}function MT(i){bp=i}function Cp(i){return function gh(){if(void 0===ny&&(ny=null,Xt.trustedTypes))try{ny=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return ny}()?.createScriptURL(i)||i}class Ao{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}class E1 extends Ao{getTypeName(){return"HTML"}}class I1 extends Ao{getTypeName(){return"Style"}}class hI extends Ao{getTypeName(){return"Script"}}class b1 extends Ao{getTypeName(){return"URL"}}class Ql extends Ao{getTypeName(){return"ResourceURL"}}function xs(i){return i instanceof Ao?i.changingThisBreaksApplicationSecurity:i}function tu(i,s){const a=function Dp(i){return i instanceof Ao&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${lt})`)}return a===s}function ry(i){return new E1(i)}function iy(i){return new I1(i)}function xT(i){return new hI(i)}function B_(i){return new b1(i)}function sy(i){return new Ql(i)}class NT{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(_p(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class pI{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=_p(s),a}}const gI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oy(i){return(i=String(i)).match(gI)?i:"unsafe:"+i}function Ic(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Tp(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const ay=Ic("area,br,col,hr,img,wbr"),RT=Ic("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PT=Ic("rp,rt"),Ap=Tp(ay,Tp(RT,Ic("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tp(PT,Ic("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tp(PT,RT)),j_=Ic("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mh=Tp(j_,Ic("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ic("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uy=Ic("script,style,template");class yI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Ap.hasOwnProperty(a))return this.sanitizedSomething=!0,!uy.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),y=p.name,E=y.toLowerCase();if(!mh.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let b=p.value;j_[E]&&(b=oy(b)),this.buf.push(" ",y,'="',FT(b),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Ap.hasOwnProperty(a)&&!ay.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(FT(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const vI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sp=/([^\#-~ |!])/g;function FT(i){return i.replace(/&/g,"&amp;").replace(vI,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Sp,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cy;function $_(i,s){let a=null;try{cy=cy||function fI(i){const s=new pI(i);return function OT(){try{return!!(new window.DOMParser).parseFromString(_p(""),"text/html")}catch{return!1}}()?new NT(s):s}(i);let c=s?String(s):"";a=cy.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=a.innerHTML,a=cy.getInertBodyElement(c)}while(c!==p);return _p((new yI).sanitizeChildren(_I(a)||a))}finally{if(a){const c=_I(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function _I(i){return"content"in i&&function T1(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var yh=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(yh||{});function H_(i){const s=vh();return s?s.sanitize(yh.URL,i)||"":tu(i,"URL")?xs(i):oy(ee(i))}function z_(i){const s=vh();if(s)return Cp(s.sanitize(yh.RESOURCE_URL,i)||"");if(tu(i,"ResourceURL"))return Cp(xs(i));throw new te(904,!1)}function xp(i,s,a){return function VT(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?z_:H_}(s,a)(i)}function vh(){const i=Te();return i&&i[Bi].sanitizer}const Np=new st("ENVIRONMENT_INITIALIZER"),q_=new st("INJECTOR",-1),EI=new st("INJECTOR_DEF_TYPES");class ly{get(s,a=Sn){if(a===Sn){const c=new Error(`NullInjectorError: No provider for ${K(s)}!`);throw c.name="NullInjectorError",c}return a}}function UT(...i){return{\u0275providers:Z_(0,i),\u0275fromNgModule:!0}}function Z_(i,...s){const a=[],c=new Set;let h;const p=y=>{a.push(y)};return ia(s,y=>{const E=y;nu(E,p,[],c)&&(h||=[],h.push(E))}),void 0!==h&&II(h,p),a}function II(i,s){for(let a=0;a<i.length;a++){const{ngModule:c,providers:h}=i[a];Op(h,p=>{s(p,c)})}}function nu(i,s,a,c){if(!(i=xe(i)))return!1;let h=null,p=ao(i);const y=!p&&Bt(i);if(p||y){if(y&&!y.standalone)return!1;h=i}else{const b=i.ngModule;if(p=ao(b),!p)return!1;h=b}const E=c.has(h);if(y){if(E)return!1;if(c.add(h),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of b)nu(T,s,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let T;c.add(h);try{ia(p.imports,x=>{nu(x,s,a,c)&&(T||=[],T.push(x))})}finally{}void 0!==T&&II(T,s)}if(!E){const T=Es(h)||(()=>new h);s({provide:h,useFactory:T,deps:Xe},h),s({provide:EI,useValue:h,multi:!0},h),s({provide:Np,useValue:()=>Qt(h),multi:!0},h)}const b=p.providers;if(null!=b&&!E){const T=i;Op(b,x=>{s(x,T)})}}}return h!==i&&void 0!==i.providers}function Op(i,s){for(let a of i)ke(a)&&(a=a.\u0275providers),Array.isArray(a)?Op(a,s):s(a)}const BT=L({provide:String,useValue:L});function Rp(i){return null!==i&&"object"==typeof i&&BT in i}function So(i){return"function"==typeof i}const hy=new st("Set Injector scope."),fy={},Pp={};let _h;function py(){return void 0===_h&&(_h=new ly),_h}class Mo{}class wh extends Mo{get destroyed(){return this._destroyed}constructor(s,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Q_(s,y=>this.processProvider(y)),this.records.set(q_,Jl(void 0,this)),h.has("environment")&&this.records.set(Mo,Jl(void 0,this));const p=this.records.get(hy);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(EI.multi,Xe,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=vt(this),c=ln(void 0);try{return s()}finally{vt(a),ln(c)}}get(s,a=Sn,c=pt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Kc))return s[Kc](this);c=$t(c);const p=vt(this),y=ln(void 0);try{if(!(c&pt.SkipSelf)){let b=this.records.get(s);if(void 0===b){const T=function my(i){return"function"==typeof i||"object"==typeof i&&i instanceof st}(s)&&ur(s);b=T&&this.injectableDefInScope(T)?Jl(CI(s),fy):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(c&pt.Self?py():this.parent).get(s,a=c&pt.Optional&&a===Sn?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[Rr]=E[Rr]||[]).unshift(K(s)),p)throw E;return function Sa(i,s,a,c){const h=i[Rr];throw s[Ee]&&h.unshift(s[Ee]),i.message=function he(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=K(s);if(Array.isArray(s))h=s.map(K).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let E=s[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):K(E)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${i.replace(V,"\n  ")}`}("\n"+i.message,h,a,c),i.ngTokenPath=h,i[Rr]=null,i}(E,s,"R3InjectorError",this.source)}throw E}finally{ln(y),vt(p)}}resolveInjectorInitializers(){const s=vt(this),a=ln(void 0);try{const h=this.get(Np.multi,Xe,pt.Self);for(const p of h)p()}finally{vt(s),ln(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(K(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(s){let a=So(s=xe(s))?s:xe(s&&s.provide);const c=function gy(i){return Rp(i)?Jl(void 0,i.useValue):Jl(Y_(i),fy)}(s);if(So(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Jl(void 0,fy,!0),h.factory=()=>lr(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===fy&&(a.value=Pp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function $T(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=xe(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function CI(i){const s=ur(i),a=null!==s?s.factory:Es(i);if(null!==a)return a;if(i instanceof st)throw new te(204,!1);if(i instanceof Function)return function K_(i){const s=i.length;if(s>0)throw function oa(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new te(204,!1);const a=function ii(i){return i&&(i[si]||i[js])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new te(204,!1)}function Y_(i,s,a){let c;if(So(i)){const h=xe(i);return Es(h)||CI(h)}if(Rp(i))c=()=>xe(i.useValue);else if(function bI(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...lr(i.deps||[]));else if(function W_(i){return!(!i||!i.useExisting)}(i))c=()=>Qt(xe(i.useExisting));else{const h=xe(i&&(i.useClass||i.provide));if(!function Xl(i){return!!i.deps}(i))return Es(h)||CI(h);c=()=>new h(...lr(i.deps))}return c}function Jl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Q_(i,s){for(const a of i)Array.isArray(a)?Q_(a,s):a&&ke(a)?Q_(a.\u0275providers,s):s(a)}const kp=new st("AppId",{providedIn:"root",factory:()=>HT}),HT="ng",DI=new st("Platform Initializer"),ru=new st("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TI=new st("CSP nonce",{providedIn:"root",factory:()=>function Ec(){if(void 0!==bp)return bp;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xI=(i,s,a)=>null;function jp(i,s,a=!1){return xI(i,s,a)}class Ey{}class Si{}class YT{resolveComponentFactory(s){throw function Zp(i){const s=Error(`No component factory found for ${K(i)}.`);return s.ngComponent=i,s}(s)}}let ed=(()=>{class i{static#e=this.NULL=new YT}return i})();function n0(){return bh(Zn(),Te())}function bh(i,s){return new Wp(Jr(i,s))}let Wp=(()=>{class i{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=n0}return i})();function r0(i){return i instanceof Wp?i.nativeElement:i}class RI{}let QT=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function jt(){const i=Te(),a=ci(Zn().index,i);return(kr(a)?a:i)[ht]}()}return i})(),Kp=(()=>{class i{static#e=this.\u0275prov=Mt({token:i,providedIn:"root",factory:()=>null})}return i})();class PI{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const td=new PI("16.2.12"),s0={};function u0(i,s=null,a=null,c){const h=c0(i,s,a,c);return h.resolveInjectorInitializers(),h}function c0(i,s=null,a=null,c,h=new Set){const p=[a||Xe,UT(i)];return c=c||("object"==typeof i?void 0:K(i)),new wh(p,s||py(),c||null,h)}let rs=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=Sn;static#t=this.NULL=new ly;static create(a,c){if(Array.isArray(a))return u0({name:""},c,a,"");{const h=a.name??"";return u0({name:h},a.parent,a.providers,h)}}static#n=this.\u0275prov=Mt({token:i,providedIn:"any",factory:()=>Qt(q_)});static#r=this.__NG_ELEMENT_ID__=-1}return i})();function rd(i){return i.ngOriginalError}class Cc{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&rd(s);for(;a&&rd(a);)a=rd(a);return a||null}}function d0(i){return s=>{setTimeout(i,void 0,s)}}const Ns=class l0 extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let h=s,p=a||(()=>null),y=c;if(s&&"object"==typeof s){const b=s;h=b.next?.bind(b),p=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(p=d0(p),h&&(h=d0(h)),y&&(y=d0(y)));const E=super.subscribe({next:h,error:p,complete:y});return s instanceof Y.w0&&s.add(E),E}};function Ch(...i){}class ti{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ns(!1),this.onMicrotaskEmpty=new Ns(!1),this.onStable=new Ns(!1),this.onError=new Ns(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function UI(){const i="function"==typeof Xt.requestAnimationFrame;let s=Xt[i?"requestAnimationFrame":"setTimeout"],a=Xt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function jI(i){const s=()=>{!function BI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Xt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,p0(i),i.isCheckStableRunning=!0,Dh(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),p0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,y,E)=>{if(function eA(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(E))return a.invokeTask(h,p,y,E);try{return $I(i),a.invokeTask(h,p,y,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),HI(i)}},onInvoke:(a,c,h,p,y,E,b)=>{try{return $I(i),a.invoke(h,p,y,E,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),HI(i)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,p0(i),Dh(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ti.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(ti.isInAngularZone())throw new te(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,s,f0,Ch,Ch);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const f0={};function Dh(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function p0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function $I(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function HI(i){i._nesting--,Dh(i)}class g0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ns,this.onMicrotaskEmpty=new Ns,this.onStable=new Ns,this.onError=new Ns}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,h){return s.apply(a,c)}}const zI=new st("",{providedIn:"root",factory:GI});function GI(){const i=Dt(ti);let s=!0;const a=new P.y(h=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(s),h.complete()})}),c=new P.y(h=>{let p;i.runOutsideAngular(()=>{p=i.onStable.subscribe(()=>{ti.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const y=i.onUnstable.subscribe(()=>{ti.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,X.T)(a,c.pipe((0,fe.B)()))}function ca(i){return i instanceof Function?i():i}let by=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Mt({token:i,providedIn:"root",factory:()=>new i})}return i})();function Dc(i){for(;i;){i[Rt]|=64;const s=Be(i);if(Zs(i)&&!s)return i;i=s}return null}const y0=new st("",{providedIn:"root",factory:()=>!1});let Yp=null;function Ah(i,s){return i[s]??Sh()}function No(i,s){const a=Sh();a.producerNode?.length&&(i[s]=Yp,a.lView=i,Yp=su())}const Sy={...gl,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Dc(i.lView)},lView:null};function su(){return Object.create(Sy)}function Sh(){return Yp??=su(),Yp}const St={};function Qp(i){v0(Pt(),Te(),gr()+i,!1)}function v0(i,s,a,c){if(!c)if(3==(3&s[Rt])){const p=i.preOrderCheckHooks;null!==p&&Qu(s,p,a)}else{const p=i.preOrderHooks;null!==p&&As(s,p,0,a)}Ts(a)}function Mh(i,s=pt.Default){const a=Te();return null===a?Qt(i,s):tc(Zn(),a,xe(i),s)}function JI(){throw new Error("invalid")}function My(i,s,a,c,h,p,y,E,b,T,x){const F=s.blueprint.slice();return F[Mn]=h,F[Rt]=140|c,(null!==T||i&&2048&i[Rt])&&(F[Rt]|=2048),zu(F),F[cn]=F[ys]=i,F[xn]=a,F[Bi]=y||i&&i[Bi],F[ht]=E||i&&i[ht],F[Gs]=b||i&&i[Gs]||null,F[Pr]=p,F[bi]=function Ai(){return qm++}(),F[vs]=x,F[Md]=T,F[qn]=2==s.type?i[qn]:F,F}function xh(i,s,a,c,h){let p=i.data[s];if(null===p)p=function _0(i,s,a,c,h){const p=Ol(),y=Pl(),b=i.data[s]=function Nh(i,s,a,c,h,p){let y=s?s.injectorIndex:-1,E=0;return function Ws(){return null!==It.skipHydrationRootTNode}()&&(E|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,c,h);return null===i.firstChild&&(i.firstChild=b),null!==p&&(y?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b,b.prev=p)),b}(i,s,a,c,h),function zd(){return It.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const y=function Rl(){const i=It.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Xr(p,!0),p}function Jp(i,s,a,c){if(0===a)return-1;const h=s.length;for(let p=0;p<a;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return h}function XI(i,s,a,c,h){const p=Ah(s,qs),y=gr(),E=2&c;try{Ts(-1),E&&s.length>Ht&&v0(i,s,Ht,!1),es(E?2:0,h);const T=E?p:null,x=nr(T);try{null!==T&&(T.dirty=!1),a(c,h)}finally{Lu(T,x)}}finally{E&&null===s[qs]&&No(s,qs),Ts(y),es(E?3:1,h)}}function w0(i,s,a){if(al(s)){const c=pr(null);try{const p=s.directiveEnd;for(let y=s.directiveStart;y<p;y++){const E=i.data[y];E.contentQueries&&E.contentQueries(1,a[y],y)}}finally{pr(c)}}}function E0(i,s,a){Jo()&&(function x0(i,s,a,c){const h=a.directiveStart,p=a.directiveEnd;br(a)&&function nb(i,s,a){const c=Jr(s,i),h=Ny(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const E=k0(i,My(i,h,null,y,c,s,null,i[Bi].rendererFactory.createRenderer(c,a),null,null,null));i[s.index]=E}(s,a,i.data[h+a.componentOffset]),i.firstCreatePass||zt(a,s),Ar(c,s);const y=a.initialInputs;for(let E=h;E<p;E++){const b=i.data[E],T=Js(s,i,E,a);Ar(T,s),null!==y&&rb(0,E-h,T,b,0,y),Qr(b)&&(ci(a.index,s)[xn]=Js(s,i,E,a))}}(i,s,a,Jr(a,s)),64==(64&a.flags)&&eb(i,s,a))}function xy(i,s,a=Jr){const c=s.localNames;if(null!==c){let h=s.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],E=-1===y?a(s,i):i[y];i[h++]=E}}}function Ny(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Xp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Xp(i,s,a,c,h,p,y,E,b,T,x){const F=Ht+c,z=F+h,W=function L1(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:St);return a}(F,z),ge="function"==typeof T?T():T;return W[He]={type:i,blueprint:W,template:a,queries:null,viewQuery:E,declTNode:s,data:W.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:ge,incompleteFirstPass:!1,ssrId:x}}let I0=i=>null;function D0(i,s,a,c){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const p=i[h];null===c?T0(a,s,h,p):c.hasOwnProperty(h)&&T0(a,s,c[h],p)}return a}function T0(i,s,a,c){i.hasOwnProperty(a)?i[a].push(s,c):i[a]=[s,c]}function is(i,s,a,c,h,p,y,E){const b=Jr(s,a);let x,T=s.inputs;!E&&null!=T&&(x=T[c])?(Os(i,a,x,c,h),br(s)&&function lA(i,s){const a=ci(s,i);16&a[Rt]||(a[Rt]|=64)}(a,s.index)):3&s.type&&(c=function od(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),h=null!=y?y(h,s.value||"",c):h,p.setProperty(b,c,h))}function tg(i,s,a,c){if(Jo()){const h=null===c?null:{"":-1},p=function tb(i,s){const a=i.directiveRegistry;let c=null,h=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(Qc(s,y.selectors,!1))if(c||(c=[]),Qr(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),c.unshift(...E,y),N0(i,s,E.length)}else c.unshift(y),N0(i,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,c,h),c.push(y)}return null===c?null:[c,h]}(i,a);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&A0(i,s,a,y,h,E),h&&function ng(i,s,a){if(s){const c=i.localNames=[];for(let h=0;h<s.length;h+=2){const p=a[s[h+1]];if(null==p)throw new te(-301,!1);c.push(s[h],p)}}}(a,c,h)}a.mergedAttrs=Ui(a.mergedAttrs,a.attrs)}function A0(i,s,a,c,h,p){for(let T=0;T<c.length;T++)na(zt(a,s),i,c[T].type);!function fA(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,c.length);for(let T=0;T<c.length;T++){const x=c[T];x.providersResolver&&x.providersResolver(x)}let y=!1,E=!1,b=Jp(i,s,c.length,null);for(let T=0;T<c.length;T++){const x=c[T];a.mergedAttrs=Ui(a.mergedAttrs,x.hostAttrs),O0(i,a,s,b,x),hA(b,x,h),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const F=x.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),E=!0),b++}!function cA(i,s,a){const h=s.directiveEnd,p=i.data,y=s.attrs,E=[];let b=null,T=null;for(let x=s.directiveStart;x<h;x++){const F=p[x],z=a?a.get(F):null,ge=z?z.outputs:null;b=D0(F.inputs,x,b,z?z.inputs:null),T=D0(F.outputs,x,T,ge);const Re=null===b||null===y||Rf(s)?null:pA(b,x,y);E.push(Re)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=8),b.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=b,s.outputs=T}(i,a,p)}function eb(i,s,a){const c=a.directiveStart,h=a.directiveEnd,p=a.index,y=function Gd(){return It.lFrame.currentDirectiveIndex}();try{Ts(p);for(let E=c;E<h;E++){const b=i.data[E],T=s[E];qd(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Ry(b,T)}}finally{Ts(-1),qd(y)}}function Ry(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function N0(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function hA(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;Qr(s)&&(a[""]=i)}}function O0(i,s,a,c,h){i.data[c]=h;const p=h.factory||(h.factory=Es(h.type)),y=new za(p,Qr(h),Mh);i.blueprint[c]=y,a[c]=y,function S0(i,s,a,c,h){const p=h.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function M0(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(a,c,p)}}(i,s,c,Jp(i,a,h.hostVars,St),h)}function Oo(i,s,a,c,h,p){const y=Jr(i,s);!function R0(i,s,a,c,h,p,y){if(null==p)i.removeAttribute(s,h,a);else{const E=null==y?ee(p):y(p,c||"",h);i.setAttribute(s,h,E,a)}}(s[ht],y,p,i.value,a,c,h)}function rb(i,s,a,c,h,p){const y=p[s];if(null!==y)for(let E=0;E<y.length;)P0(c,a,y[E++],y[E++],y[E++])}function P0(i,s,a,c,h){const p=pr(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(h=y[c].call(s,h)),null!==i.setInput?i.setInput(s,h,a,c):s[c]=h}finally{pr(p)}}function pA(i,s,a){let c=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const y=i[p];for(let E=0;E<y.length;E+=2)if(y[E]===s){c.push(p,y[E+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function gA(i,s,a,c){return[i,!0,!1,s,null,0,c,a,null,null,null]}function mA(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const y=i.data[p];Ku(a[c]),y.contentQueries(2,s[p],p)}}}function k0(i,s){return i[Pu]?i[xa][ai]=s:i[Pu]=s,i[xa]=s,s}function ib(i,s,a){Ku(0);const c=pr(null);try{s(i,a)}finally{pr(c)}}function yA(i){return i[ms]||(i[ms]=[])}function sb(i){return i.cleanup||(i.cleanup=[])}function Py(i,s){const a=i[Gs],c=a?a.get(Cc,null):null;c&&c.handleError(s)}function Os(i,s,a,c,h){for(let p=0;p<a.length;){const y=a[p++],E=a[p++];P0(i.data[y],s[y],c,E,h)}}function rg(i,s){const a=ci(s,i),c=a[He];!function U1(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(c,a);const h=a[Mn];null!==h&&null===a[vs]&&(a[vs]=jp(h,a[Gs])),F0(c,a,a[xn])}function F0(i,s,a){Hi(s);try{const c=i.viewQuery;null!==c&&ib(1,c,a);const h=i.template;null!==h&&XI(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&mA(i,s),i.staticViewQueries&&ib(2,i.viewQuery,a);const p=i.components;null!==p&&function vA(i,s){for(let a=0;a<s.length;a++)rg(i,s[a])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[Rt]&=-5,Ds()}}let L0=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,h){const p=typeof Zone>"u"?null:Zone.current,y=function Fd(i,s,a){const c=Object.create(Hu);a&&(c.consumerAllowSignalWrites=!0),c.fn=i,c.schedule=s;const h=y=>{c.cleanupFn=y};return c.ref={notify:()=>Bf(c),run:()=>{if(c.dirty=!1,c.hasRun&&!ml(c))return;c.hasRun=!0;const y=nr(c);try{c.cleanupFn(),c.cleanupFn=Ld,c.fn(h)}finally{Lu(c,y)}},cleanup:()=>c.cleanupFn()},c.ref}(a,T=>{this.all.has(T)&&this.queue.set(T,p)},h);let E;this.all.add(y),y.notify();const b=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=c?.onDestroy(b),{destroy:b}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Mt({token:i,providedIn:"root",factory:()=>new i})}return i})();function Fy(i,s,a){let c=a?i.styles:null,h=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?p=E:1==p?h=Le(h,E):2==p&&(c=Le(c,E+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=h:i.classesWithoutHost=h}function ig(i,s,a,c,h=!1){for(;null!==a;){const p=s[a.index];null!==p&&c.push(en(p)),Ir(p)&&ad(p,c);const y=a.type;if(8&y)ig(i,s,a.child,c);else if(32&y){const E=Ce(a,s);let b;for(;b=E();)c.push(b)}else if(16&y){const E=vp(s,a);if(Array.isArray(E))c.push(...E);else{const b=Be(s[qn]);ig(b[He],b,E,c,!0)}}a=h?a.projectionNext:a.next}return c}function ad(i,s){for(let a=tr;a<i.length;a++){const c=i[a],h=c[He].firstChild;null!==h&&ig(c[He],c,h,s)}i[ui]!==i[Mn]&&s.push(i[ui])}function Ac(i,s,a,c=!0){const h=s[Bi],p=h.rendererFactory,y=h.afterRenderEventManager;p.begin?.(),y?.begin();try{Oh(i,s,i.template,a)}catch(b){throw c&&Py(s,b),b}finally{p.end?.(),h.effectManager?.flush(),y?.end()}}function Oh(i,s,a,c){const h=s[Rt];if(256!=(256&h)){s[Bi].effectManager?.flush(),Hi(s);try{zu(s),function Fl(i){return It.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&XI(i,s,a,2,c);const y=3==(3&h);if(y){const T=i.preOrderCheckHooks;null!==T&&Qu(s,T,null)}else{const T=i.preOrderHooks;null!==T&&As(s,T,0,null),Ss(s,0)}if(function wA(i){for(let s=hn(i);null!==s;s=pc(s)){if(!s[Ji])continue;const a=s[_s];for(let c=0;c<a.length;c++){Al(a[c])}}}(s),Rh(s,2),null!==i.contentQueries&&mA(i,s),y){const T=i.contentCheckHooks;null!==T&&Qu(s,T)}else{const T=i.contentHooks;null!==T&&As(s,T,1),Ss(s,1)}!function aA(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const c=Ah(s,Qi);try{for(let h=0;h<a.length;h++){const p=a[h];if(p<0)Ts(~p);else{const y=p,E=a[++h],b=a[++h];Nm(E,y),c.dirty=!1;const T=nr(c);try{b(2,s[y])}finally{Lu(c,T)}}}}finally{null===s[Qi]&&No(s,Qi),Ts(-1)}}(i,s);const E=i.components;null!==E&&ub(s,E,0);const b=i.viewQuery;if(null!==b&&ib(2,b,c),y){const T=i.viewCheckHooks;null!==T&&Qu(s,T)}else{const T=i.viewHooks;null!==T&&As(s,T,2),Ss(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Rt]&=-73,Sm(s)}finally{Ds()}}}function Rh(i,s){for(let a=hn(i);null!==a;a=pc(a))for(let c=tr;c<a.length;c++)ab(a[c],s)}function EA(i,s,a){ab(ci(s,i),a)}function ab(i,s){if(!function Hf(i){return 128==(128&i[Rt])}(i))return;const a=i[He],c=i[Rt];if(80&c&&0===s||1024&c||2===s)Oh(a,i,a.template,i[xn]);else if(i[Ho]>0){Rh(i,1);const h=a.components;null!==h&&ub(i,h,1)}}function ub(i,s,a){for(let c=0;c<s.length;c++)EA(i,s[c],a)}class sg{get rootNodes(){const s=this._lView,a=s[He];return ig(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(s){this._lView[xn]=s}get destroyed(){return 256==(256&this._lView[Rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[cn];if(Ir(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(pp(s,c),sa(a,c))}this._attachedToViewContainer=!1}Qm(this._lView[He],this._lView)}onDestroy(s){!function zf(i,s){if(256==(256&i[Rt]))throw new te(911,!1);null===i[ji]&&(i[ji]=[]),i[ji].push(s)}(this._lView,s)}markForCheck(){Dc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rt]&=-129}reattach(){this._lView[Rt]|=128}detectChanges(){Ac(this._lView[He],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fp(i,s){ey(i,s,s[ht],2,null,null)}(this._lView[He],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=s}}class IA extends sg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Ac(s[He],s,s[xn],!1)}checkNoChanges(){}get context(){return null}}class bA extends ed{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Bt(s);return new la(a,this.ngModule)}}function cb(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Ly{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=$t(c);const h=this.injector.get(s,s0,c);return h!==s0||a===s0?h:this.parentInjector.get(s,a,c)}}class la extends Si{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=cb(s.inputs);if(null!==a)for(const h of c)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return c}get outputs(){return cb(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Ei(i){return i.map(Sd).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,h){let p=(h=h||this.ngModule)instanceof Mo?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Ly(s,p):s,E=y.get(RI,null);if(null===E)throw new te(407,!1);const F={rendererFactory:E,sanitizer:y.get(Kp,null),effectManager:y.get(L0,null),afterRenderEventManager:y.get(by,null)},z=E.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",ge=c?function uA(i,s,a,c){const p=c.get(y0,!1)||a===rt.ShadowDom,y=i.selectRootElement(s,p);return function eg(i){I0(i)}(y),y}(z,c,this.componentDef.encapsulation,y):yc(z,W,function lb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(W)),ot=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Me=null;null!==ge&&(Me=jp(ge,y,!0));const kt=Xp(0,null,null,1,0,null,null,null,null,null,null),qt=My(null,kt,null,ot,null,null,F,z,y,null,Me);let vn,ki;Hi(qt);try{const Bo=this.componentDef;let bd,um=null;Bo.findHostDirectiveDefs?(bd=[],um=new Map,Bo.findHostDirectiveDefs(Bo,bd,um),bd.push(Bo)):bd=[Bo];const AE=function DA(i,s){const a=i[He],c=Ht;return i[c]=s,xh(a,c,2,"#host",null)}(qt,ge),zD=function TA(i,s,a,c,h,p,y){const E=h[He];!function AA(i,s,a,c){for(const h of i)s.mergedAttrs=Ui(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Fy(s,s.mergedAttrs,!0),null!==a&&F_(c,a,s))}(c,i,s,y);let b=null;null!==s&&(b=jp(s,h[Gs]));const T=p.rendererFactory.createRenderer(s,a);let x=16;a.signals?x=4096:a.onPush&&(x=64);const F=My(h,Ny(a),null,x,h[i.index],i,p,T,null,null,b);return E.firstCreatePass&&N0(E,i,c.length-1),k0(h,F),h[i.index]=F}(AE,ge,Bo,bd,qt,F,z);ki=Tl(kt,Ht),ge&&function MA(i,s,a,c){if(c)Tu(i,a,["ng-version",td.full]);else{const{attrs:h,classes:p}=function Xc(i){const s=[],a=[];let c=1,h=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===h?""!==p&&s.push(p,i[++c]):8===h&&a.push(p);else{if(!wr(h))break;h=p}c++}return{attrs:s,classes:a}}(s.selectors[0]);h&&Tu(i,a,h),p&&p.length>0&&lI(i,a,p.join(" "))}}(z,Bo,ge,c),void 0!==a&&function xA(i,s,a){const c=i.projection=[];for(let h=0;h<s.length;h++){const p=a[h];c.push(null!=p?Array.from(p):null)}}(ki,this.ngContentSelectors,a),vn=function SA(i,s,a,c,h,p){const y=Zn(),E=h[He],b=Jr(y,h);A0(E,h,y,a,null,c);for(let x=0;x<a.length;x++)Ar(Js(h,E,y.directiveStart+x,y),h);eb(E,h,y),b&&Ar(b,h);const T=Js(h,E,y.directiveStart+y.componentOffset,y);if(i[xn]=h[xn]=T,null!==p)for(const x of p)x(T,s);return w0(E,y,i),T}(zD,Bo,bd,um,qt,[NA]),F0(kt,qt,null)}finally{Ds()}return new CA(this.componentType,vn,bh(ki,qt),qt,ki)}}class CA extends Ey{constructor(s,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new IA(h),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const p=this._rootLView;Os(p[He],p,h,s,a),this.previousInputValues.set(s,a),Dc(ci(this._tNode.index,p))}}get injector(){return new Fn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function NA(){const i=Zn();ea(Te()[He],i)}function Vy(i){let s=function db(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let h;if(Qr(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new te(903,!1);h=s.\u0275dir}if(h){if(a){c.push(h);const y=i;y.inputs=ud(i.inputs),y.inputTransforms=ud(i.inputTransforms),y.declaredInputs=ud(i.declaredInputs),y.outputs=ud(i.outputs);const E=h.hostBindings;E&&fb(i,E);const b=h.viewQuery,T=h.contentQueries;if(b&&hb(i,b),T&&Ph(i,T),$(i.inputs,h.inputs),$(i.declaredInputs,h.declaredInputs),$(i.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),$(y.inputTransforms,h.inputTransforms)),Qr(h)&&h.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(i),E===Vy&&(a=!1)}}s=Object.getPrototypeOf(s)}!function OA(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const h=i[c];h.hostVars=s+=h.hostVars,h.hostAttrs=Ui(h.hostAttrs,a=Ui(a,h.hostAttrs))}}(c)}function ud(i){return i===dt?{}:i===Xe?[]:i}function hb(i,s){const a=i.viewQuery;i.viewQuery=a?(c,h)=>{s(c,h),a(c,h)}:s}function Ph(i,s){const a=i.contentQueries;i.contentQueries=a?(c,h,p)=>{s(c,h,p),a(c,h,p)}:s}function fb(i,s){const a=i.hostBindings;i.hostBindings=a?(c,h)=>{s(c,h),a(c,h)}:s}function yb(i){const s=i.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const h=s[c];Array.isArray(h)&&h[2]&&(a[c]=h[2])}i.inputTransforms=a}function cd(i){return!!U0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function U0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function gi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function B0(i,s,a,c){const h=Te();return gi(h,wo(),s)&&(Pt(),Oo(on(),h,i,s,a,c)),B0}function Lh(i,s,a,c){return gi(i,wo(),a)?s+ee(a)+c:St}function xb(i,s,a,c,h,p,y,E){const b=Te(),T=Pt(),x=i+Ht,F=T.firstCreatePass?function Mb(i,s,a,c,h,p,y,E,b){const T=s.consts,x=xh(s,i,4,y||null,_o(T,E));tg(s,a,x,_o(T,b)),ea(s,x);const F=x.tView=Xp(2,x,c,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T,null);return null!==s.queries&&(s.queries.template(s,x),F.queries=s.queries.embeddedTView(x)),x}(x,T,b,s,a,c,h,p,y):T.data[x];Xr(F,!1);const z=GA(T,b,F,i);li()&&wc(T,b,z,F),Ar(z,b),k0(b,b[x]=gA(z,b,z,F)),lo(F)&&E0(T,b,F),null!=y&&xy(b,F,E)}let GA=function qA(i,s,a,c){return Nn(!0),s[ht].createComment("")};function Y0(i,s,a){const c=Te();return gi(c,wo(),s)&&is(Pt(),on(),c,i,s,c[ht],a,!1),Y0}function Q0(i,s,a,c,h){const y=h?"class":"style";Os(i,a,s.inputs[y],y,c)}function zy(i,s,a,c){const h=Te(),p=Pt(),y=Ht+i,E=h[ht],b=p.firstCreatePass?function Ob(i,s,a,c,h,p){const y=s.consts,b=xh(s,i,2,c,_o(y,h));return tg(s,a,b,_o(y,p)),null!==b.attrs&&Fy(b,b.attrs,!1),null!==b.mergedAttrs&&Fy(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(y,p,h,s,a,c):p.data[y],T=Rb(p,h,b,E,s,i);h[y]=T;const x=lo(b);return Xr(b,!0),F_(E,T,b),32!=(32&b.flags)&&li()&&wc(p,h,T,b),0===function rr(){return It.lFrame.elementDepthCount}()&&Ar(T,h),function Hd(){It.lFrame.elementDepthCount++}(),x&&(E0(p,h,b),w0(p,b,h)),null!==c&&xy(h,b),zy}function Gy(){let i=Zn();Pl()?function kl(){It.lFrame.isParent=!1}():(i=i.parent,Xr(i,!1));const s=i;(function qu(i){return It.skipHydrationRootTNode===i})(s)&&function Va(){It.skipHydrationRootTNode=null}(),function Cr(){It.lFrame.elementDepthCount--}();const a=Pt();return a.firstCreatePass&&(ea(a,i),al(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Zd(i){return 0!=(8&i.flags)}(s)&&Q0(a,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Wd(i){return 0!=(16&i.flags)}(s)&&Q0(a,s,Te(),s.stylesWithoutHost,!1),Gy}function J0(i,s,a,c){return zy(i,s,a,c),Gy(),J0}let Rb=(i,s,a,c,h,p)=>(Nn(!0),yc(c,h,function mr(){return It.lFrame.currentNamespace}()));function Lb(){return Te()}function X0(i){return!!i&&"function"==typeof i.then}function qy(i){return!!i&&"function"==typeof i.subscribe}function ew(i,s,a,c){const h=Te(),p=Pt(),y=Zn();return function Vb(i,s,a,c,h,p,y){const E=lo(c),T=i.firstCreatePass&&sb(i),x=s[xn],F=yA(s);let z=!0;if(3&c.type||y){const Re=Jr(c,s),Ze=y?y(Re):Re,ot=F.length,Me=y?qt=>y(en(qt[c.index])):c.index;let kt=null;if(!y&&E&&(kt=function XA(i,s,a,c){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===c){const E=s[ms],b=h[p+2];return E.length>b?E[b]:null}"string"==typeof y&&(p+=2)}return null}(i,s,h,c.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=p,kt.__ngLastListenerFn__=p,z=!1;else{p=et(c,s,x,p,!1);const qt=a.listen(Ze,h,p);F.push(p,qt),T&&T.push(h,Me,ot,ot+1)}}else p=et(c,s,x,p,!1);const W=c.outputs;let ge;if(z&&null!==W&&(ge=W[h])){const Re=ge.length;if(Re)for(let Ze=0;Ze<Re;Ze+=2){const vn=s[ge[Ze]][ge[Ze+1]].subscribe(p),ki=F.length;F.push(p,vn),T&&T.push(h,c.index,ki,-(ki+1))}}}(p,h,h[ht],y,i,s,c),ew}function ro(i,s,a,c){try{return es(6,s,a),!1!==a(c)}catch(h){return Py(i,h),!1}finally{es(7,s,a)}}function et(i,s,a,c,h){return function p(y){if(y===Function)return c;Dc(i.componentOffset>-1?ci(i.index,s):s);let b=ro(s,a,c,y),T=p.__ngNextListenerFn__;for(;T;)b=ro(s,a,T,y)&&b,T=T.__ngNextListenerFn__;return h&&!1===b&&y.preventDefault(),b}}function Zy(i=1){return function kn(i){return(It.lFrame.contextLView=function xt(i,s){for(;i>0;)s=s[ys],i--;return s}(i,It.lFrame.contextLView))[xn]}(i)}function tw(i,s,a){return hg(i,"",s,"",a),tw}function hg(i,s,a,c,h){const p=Te(),y=Lh(p,s,a,c);return y!==St&&is(Pt(),on(),p,i,y,p[ht],h,!1),hg}function pg(i,s){return i<<17|s<<2}function ha(i){return i>>17&32767}function nw(i){return 2|i}function Po(i){return(131068&i)>>2}function jh(i,s){return-131069&i|s<<2}function gg(i){return 1|i}function Ky(i,s,a,c,h){const p=i[a+1],y=null===s;let E=c?ha(p):Po(p),b=!1;for(;0!==E&&(!1===b||y);){const x=i[E+1];Gb(i[E],s)&&(b=!0,i[E+1]=c?gg(x):nw(x)),E=c?ha(x):Po(x)}b&&(i[a+1]=c?nw(p):gg(p))}function Gb(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&aa(i,s)>=0}function cw(i,s){return function ks(i,s,a,c){const h=Te(),p=Pt(),y=function $i(i){const s=It.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function ev(i,s,a,c){const h=i.data;if(null===h[a+1]){const p=h[gr()],y=function Xy(i,s){return s>=i.expandoStartIndex}(i,a);(function iv(i,s){return 0!=(i.flags&(s?8:16))})(p,c)&&null===s&&!y&&(s=!1),s=function Kb(i,s,a,c){const h=function Ba(i){const s=It.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===h)0===(c?s.classBindings:s.styleBindings)&&(a=fd(a=tv(null,i,s,a,c),s.attrs,c),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==h)if(a=tv(h,i,s,a,c),null===p){let b=function Yb(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Po(c))return i[ha(c)]}(i,s,c);void 0!==b&&Array.isArray(b)&&(b=tv(null,i,s,b[1],c),b=fd(b,s.attrs,c),function nS(i,s,a,c){i[ha(a?s.classBindings:s.styleBindings)]=c}(i,s,c,b))}else p=function Qb(i,s,a){let c;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)c=fd(c,i[p].hostAttrs,a);return fd(c,s.attrs,a)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(h,p,s,c),function $h(i,s,a,c,h,p){let y=p?s.classBindings:s.styleBindings,E=ha(y),b=Po(y);i[c]=a;let x,T=!1;if(Array.isArray(a)?(x=a[1],(null===x||aa(a,x)>0)&&(T=!0)):x=a,h)if(0!==b){const z=ha(i[E+1]);i[c+1]=pg(z,E),0!==z&&(i[z+1]=jh(i[z+1],c)),i[E+1]=function Mi(i,s){return 131071&i|s<<17}(i[E+1],c)}else i[c+1]=pg(E,0),0!==E&&(i[E+1]=jh(i[E+1],c)),E=c;else i[c+1]=pg(b,0),0===E?E=c:i[b+1]=jh(i[b+1],c),b=c;T&&(i[c+1]=nw(i[c+1])),Ky(i,x,c,!0),Ky(i,x,c,!1),function zb(i,s,a,c,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&aa(p,s)>=0&&(a[c+1]=gg(a[c+1]))}(s,x,i,c,p),y=pg(E,b),p?s.classBindings=y:s.styleBindings=y}(h,p,s,a,y,c)}}(p,i,y,c),s!==St&&gi(h,y,s)&&function nv(i,s,a,c,h,p,y,E){if(!(3&s.type))return;const b=i.data,T=b[E+1],x=function fa(i){return 1==(1&i)}(T)?Br(b,s,a,h,Po(T),y):void 0;Sr(x)||(Sr(p)||function Hb(i){return 2==(2&i)}(T)&&(p=Br(b,null,a,h,E,y)),function _1(i,s,a,c,h){if(s)h?i.addClass(a,c):i.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:Kl.DashCase;null==h?i.removeStyle(a,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Kl.Important),i.setStyle(a,c,h,p))}}(c,y,yo(gr(),a),h,p))}(p,p.data[gr()],h,h[ht],i,h[y+1]=function rv(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=K(xs(i)))),i}(s,a),c,y)}(i,s,null,!0),cw}function tv(i,s,a,c,h){let p=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(p=s[E],c=fd(c,p.hostAttrs,h),p!==i);)E++;return null!==i&&(a.directiveStylingLast=E),c}function fd(i,s,a){const c=a?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?h=y:h===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),fi(i,y,!!a||s[++p]))}return void 0===i?null:i}function Br(i,s,a,c,h,p){const y=null===s;let E;for(;h>0;){const b=i[h],T=Array.isArray(b),x=T?b[1]:b,F=null===x;let z=a[h+1];z===St&&(z=F?Xe:void 0);let W=F?eh(z,c):x===c?z:void 0;if(T&&!Sr(W)&&(W=eh(b,c)),Sr(W)&&(E=W,y))return E;const ge=i[h+1];h=y?ha(ge):Po(ge)}if(null!==s){let b=p?s.residualClasses:s.residualStyles;null!=b&&(E=eh(b,c))}return E}function Sr(i){return void 0!==i}function eC(i,s=""){const a=Te(),c=Pt(),h=i+Ht,p=c.firstCreatePass?xh(c,h,1,s,null):c.data[h],y=tC(c,a,p,s,i);a[h]=y,li()&&wc(c,a,y,p),Xr(p,!1)}let tC=(i,s,a,c,h)=>(Nn(!0),function gc(i,s){return i.createText(s)}(s[ht],c));function hw(i){return sv("",i,""),hw}function sv(i,s,a){const c=Te(),h=Lh(c,i,s,a);return h!==St&&function au(i,s,a){const c=yo(s,i);!function dh(i,s,a){i.setValue(s,a)}(i[ht],c,a)}(c,gr(),h),sv}const lu=void 0;var hv=["en",[["a","p"],["AM","PM"],lu],[["AM","PM"],lu,lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lu,"{1} 'at' {0}",lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ww(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let pa={};function Ew(i){const s=function hC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=fv(s);if(a)return a;const c=s.split("-")[0];if(a=fv(c),a)return a;if("en"===c)return hv;throw new te(701,!1)}function Eg(i){return Ew(i)[gd.PluralCase]}function fv(i){return i in pa||(pa[i]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[i]),pa[i]}var gd=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(gd||{});const md="en-US";let fC=md;function Zi(i,s,a,c,h){if(i=xe(i),Array.isArray(i))for(let p=0;p<i.length;p++)Zi(i[p],s,a,c,h);else{const p=Pt(),y=Te(),E=Zn();let b=So(i)?i:xe(i.provide);const T=Y_(i),x=1048575&E.providerIndexes,F=E.directiveStart,z=E.providerIndexes>>20;if(So(i)||!i.multi){const W=new za(T,h,Mh),ge=Rc(b,s,h?x:x+z,F);-1===ge?(na(zt(E,y),p,b),bv(p,i,s.length),s.push(b),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push(W),y.push(W)):(a[ge]=W,y[ge]=W)}else{const W=Rc(b,s,x+z,F),ge=Rc(b,s,x,x+z),Ze=ge>=0&&a[ge];if(h&&!Ze||!h&&!(W>=0&&a[W])){na(zt(E,y),p,b);const ot=function yn(i,s,a,c,h){const p=new za(i,a,Mh);return p.multi=[],p.index=s,p.componentProviders=0,Rw(p,h,c&&!a),p}(h?Fo:bS,a.length,h,c,T);!h&&Ze&&(a[ge].providerFactory=ot),bv(p,i,s.length,0),s.push(b),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push(ot),y.push(ot)}else bv(p,i,W>-1?W:ge,Rw(a[h?ge:W],T,!h&&c));!h&&c&&Ze&&a[ge].componentProviders++}}}function bv(i,s,a,c){const h=So(s),p=function jT(i){return!!i.useClass}(s);if(h||p){const b=(p?xe(s.useClass):s).prototype.ngOnDestroy;if(b){const T=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const x=T.indexOf(a);-1===x?T.push(a,[c,b]):T[x+1].push(c,b)}else T.push(a,b)}}}function Rw(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Rc(i,s,a,c){for(let h=a;h<c;h++)if(s[h]===i)return h;return-1}function bS(i,s,a,c){return Pg(this.multi,[])}function Fo(i,s,a,c){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Js(a,a[He],this.providerFactory.index,c);p=E.slice(0,y),Pg(h,p);for(let b=y;b<E.length;b++)p.push(E[b])}else p=[],Pg(h,p);return p}function Pg(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function GC(i,s=[]){return a=>{a.providersResolver=(c,h)=>function Iv(i,s,a){const c=Pt();if(c.firstCreatePass){const h=Qr(i);Zi(a,c.data,c.blueprint,h,!0),Zi(s,c.data,c.blueprint,h,!1)}}(c,h?h(i):i,s)}}class fu{}class Lo{}function qC(i,s){return new Pc(i,s??null,[])}class Pc extends fu{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bA(this);const h=Wr(s);this._bootstrapComponents=ca(h.bootstrap),this._r3Injector=c0(s,a,[{provide:fu,useValue:this},{provide:ed,useValue:this.componentFactoryResolver},...c],K(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class kg extends Lo{constructor(s){super(),this.moduleType=s}create(s){return new Pc(this.moduleType,s,[])}}class va extends fu{constructor(s){super(),this.componentFactoryResolver=new bA(this),this.instance=null;const a=new wh([...s.providers,{provide:fu,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],s.parent||py(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Ls(i,s,a=null){return new va({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let yi=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=Z_(0,a.type),h=c.length>0?Ls([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Mt({token:i,providedIn:"environment",factory:()=>new i(Qt(Mo))})}return i})();function Fg(i){i.getStandaloneInjector=s=>s.get(yi).getOrCreateStandaloneInjector(i)}function pu(i,s,a,c,h){return function Qe(i,s,a,c,h,p,y){const E=s+a;return function kh(i,s,a,c){const h=gi(i,s,a);return gi(i,s+1,c)||h}(i,E,h,p)?function da(i,s,a){return i[s]=a}(i,E+2,y?c.call(y,h,p):c(h,p)):function ct(i,s){const a=i[s];return a===St?void 0:a}(i,E+2)}(Te(),function Wn(){const i=It.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,a,c,h)}function tD(){return this._results[Symbol.iterator]()}class Nt{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ns)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Nt.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=tD)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const h=function Ti(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function sc(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let h=i[c],p=s[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function zn(i,s,a,c=!0){const h=s[He];if(function hh(i,s,a,c){const h=tr+c,p=a.length;c>0&&(a[h-1][ai]=s),c<p-tr?(s[ai]=a[h],Yf(a,tr+c,s)):(a.push(s),s[ai]=null),s[cn]=a;const y=s[zo];null!==y&&a!==y&&function Ym(i,s){const a=i[_s];s[qn]!==s[cn][cn][qn]&&(i[Ji]=!0),null===a?i[_s]=[s]:a.push(s)}(y,s);const E=s[Yr];null!==E&&E.insertView(i),s[Rt]|=128}(h,s,i,a),c){const p=k_(a,i),y=s[ht],E=yp(y,i[ui]);null!==E&&function vc(i,s,a,c,h,p){c[Mn]=h,c[Pr]=s,ey(i,c,a,1,h,p)}(h,i[Pr],y,s,E,p)}}let gu=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=sr}return i})();const tn=gu,kS=class extends tn{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,c){const h=function tf(i,s,a,c){const h=s.tView,E=My(i,h,a,4096&i[Rt]?4096:16,null,s,null,null,null,c?.injector??null,c?.hydrationInfo??null);E[zo]=i[s.index];const T=i[Yr];return null!==T&&(E[Yr]=T.createEmbeddedView(h)),F0(h,E,a),E}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:c});return new sg(h)}};function sr(){return Ye(Zn(),Te())}function Ye(i,s){return 4&i.type?new kS(s,i,bh(i,s)):null}let rf=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=iD}return i})();function iD(){return Bg(Zn(),Te())}const sD=rf,mu=class extends sD{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return bh(this._hostTNode,this._hostLView)}get injector(){return new Fn(this._hostTNode,this._hostLView)}get parentInjector(){const s=Io(this._hostTNode,this._hostLView);if(Ju(s)){const a=ec(s,this._hostLView),c=Xu(s);return new Fn(a[He].data[c+8],a)}return new Fn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Av(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-tr}createEmbeddedView(s,a,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const E=s.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(E,h,false),E}createComponent(s,a,c,h,p){const y=s&&!function Lr(i){return"function"==typeof i}(s);let E;if(y)E=a;else{const Re=a||{};E=Re.index,c=Re.injector,h=Re.projectableNodes,p=Re.environmentInjector||Re.ngModuleRef}const b=y?s:new la(Bt(s)),T=c||this.parentInjector;if(!p&&null==b.ngModule){const Ze=(y?T:this.parentInjector).get(Mo,null);Ze&&(p=Ze)}Bt(b.componentType??{});const W=b.create(T,h,null,p);return this.insertImpl(W.hostView,E,false),W}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const h=s._lView;if(function vo(i){return Ir(i[cn])}(h)){const b=this.indexOf(s);if(-1!==b)this.detach(b);else{const T=h[cn],x=new mu(T,T[Pr],T[cn]);x.detach(x.indexOf(s))}}const y=this._adjustIndex(a),E=this._lContainer;return zn(E,h,y,!c),s.attachToViewContainerRef(),Yf(ie(E),y,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Av(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=pp(this._lContainer,a);c&&(sa(ie(this._lContainer),a),Qm(c[He],c))}detach(s){const a=this._adjustIndex(s,-1),c=pp(this._lContainer,a);return c&&null!=sa(ie(this._lContainer),a)?new sg(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function Av(i){return i[8]}function ie(i){return i[8]||(i[8]=[])}function Bg(i,s){let a;const c=s[i.index];return Ir(c)?a=c:(a=gA(c,s,null,i),s[i.index]=a,k0(s,a)),oD(a,s,i,c),new mu(a,i,s)}let oD=function sf(i,s,a,c){if(i[ui])return;let h;h=8&a.type?en(c):function Vo(i,s){const a=i[ht],c=a.createComment(""),h=Jr(s,i);return _c(a,yp(a,h),c,function qi(i,s){return i.nextSibling(s)}(a,h),!1),c}(s,a),i[ui]=h};class yu{constructor(s){this.queryList=s,this.matches=null}clone(){return new yu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Sv(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==dD(s,a).matches&&this.queries[a].setDirty()}}class Mv{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Uw{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Uw(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Bw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Bw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(s,a,Vs(a,p)),this.matchTNodeWithReadOption(s,a,nc(a,s,p,!1,!1))}else c===gu?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,nc(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Wp||h===rf||h===gu&&4&a.type)this.addMatch(a.index,-2);else{const p=nc(a,s,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Vs(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function $g(i,s,a,c){return-1===a?function jg(i,s){return 11&i.type?bh(i,s):4&i.type?Ye(i,s):null}(s,i):-2===a?function aD(i,s,a){return a===Wp?bh(s,i):a===gu?Ye(s,i):a===rf?Bg(s,i):void 0}(i,s,c):Js(i,i[He],a,s)}function vi(i,s,a,c){const h=s[Yr].queries[c];if(null===h.matches){const p=i.data,y=a.matches,E=[];for(let b=0;b<y.length;b+=2){const T=y[b];E.push(T<0?null:$g(s,p[T],y[b+1],a.metadata.read))}h.matches=E}return h.matches}function jw(i,s,a,c){const h=i.queries.getByIndex(a),p=h.matches;if(null!==p){const y=vi(i,s,h,a);for(let E=0;E<p.length;E+=2){const b=p[E];if(b>0)c.push(y[E/2]);else{const T=p[E+1],x=s[-b];for(let F=tr;F<x.length;F++){const z=x[F];z[zo]===z[cn]&&jw(z[He],z,T,c)}if(null!==x[_s]){const F=x[_s];for(let z=0;z<F.length;z++){const W=F[z];jw(W[He],W,T,c)}}}}}return c}function $w(i){const s=Te(),a=Pt(),c=Zf();Ku(c+1);const h=dD(a,c);if(i.dirty&&function Qo(i){return 4==(4&i[Rt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?jw(a,s,c,[]):vi(a,s,h,c);i.reset(p,r0),i.notifyOnChanges()}return!0}return!1}function Hw(i,s,a,c){const h=Pt();if(h.firstCreatePass){const p=Zn();(function lD(i,s,a){null===i.queries&&(i.queries=new Uw),i.queries.track(new Bw(s,a))})(h,new Mv(s,a,c),p.index),function VS(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function cD(i,s,a){const c=new Nt(4==(4&a));(function ou(i,s,a,c){const h=yA(s);h.push(a),i.firstCreatePass&&sb(i).push(c,h.length-1)})(i,s,c,c.destroy),null===s[Yr]&&(s[Yr]=new Sv),s[Yr].queries.push(new yu(c))}(h,Te(),a)}function Hg(){return function uD(i,s){return i[Yr].queries[s].queryList}(Te(),Zf())}function dD(i,s){return i.queries.getByIndex(s)}function zw(i){return!!Wr(i)}const Iu=new st("Application Initializer");let Uv=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Dt(Iu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const p=h();if(X0(p))a.push(p);else if(qy(p)){const y=new Promise((E,b)=>{p.subscribe({complete:E,error:b})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ww=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const Bv=new st("LocaleId",{providedIn:"root",factory:()=>Dt(Bv,pt.Optional|pt.SkipSelf)||function lf(){return typeof $localize<"u"&&$localize.locale||md}()}),yD=new st("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let jv=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ne.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Kw{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let vD=(()=>{class i{compileModuleSync(a){return new kg(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=ca(Wr(a).declarations).reduce((y,E)=>{const b=Bt(E);return b&&y.push(new la(b)),y},[]);return new Kw(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const pf=new st(""),tE=new st("");let qv,nE=(()=>{class i{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qv||(function TD(i){qv=i}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ti.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}static#e=this.\u0275fac=function(c){return new(c||i)(Qt(ti),Qt(gf),Qt(tE))};static#t=this.\u0275prov=Mt({token:i,factory:i.\u0275fac})}return i})(),gf=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return qv?.findTestabilityInTree(this,a,c)??null}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),jc=null;const Ea=new st("AllowMultipleToken"),rE=new st("PlatformDestroyListeners"),Pi=new st("appBootstrapListener");class SD{constructor(s,a){this.name=s,this.token=a}}function xD(i,s,a=[]){const c=`Platform: ${s}`,h=new st(c);return(p=[])=>{let y=Wv();if(!y||y.injector.get(Ea,!1)){const E=[...a,...p,{provide:h,useValue:!0}];i?i(E):function Jg(i){if(jc&&!jc.get(Ea,!1))throw new te(400,!1);(function iE(){!function ju(i){_l=i}(()=>{throw new te(600,!1)})})(),jc=i;const s=i.get(Xg);(function MD(i){i.get(DI,null)?.forEach(a=>a())})(i)}(function oE(i=[],s){return rs.create({name:s,providers:[{provide:hy,useValue:"platform"},{provide:rE,useValue:new Set([()=>jc=null])},...i]})}(E,c))}return function sE(i){const s=Wv();if(!s)throw new te(401,!1);return s}()}}function Wv(){return jc?.get(Xg)??null}let Xg=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function sM(i="zone.js",s){return"noop"===i?new g0:"zone.js"===i?new ti(s):i}(c?.ngZone,function ND(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return h.run(()=>{const p=function WC(i,s,a){return new Pc(i,s,a)}(a.moduleType,this.injector,function yf(i){return[{provide:ti,useFactory:i},{provide:Np,multi:!0,useFactory:()=>{const s=Dt(OD,{optional:!0});return()=>s.initialize()}},{provide:uE,useFactory:mf},{provide:zI,useFactory:GI}]}(()=>h)),y=p.injector.get(Cc,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:b=>{y.handleError(b)}});p.onDestroy(()=>{em(this._modules,p),E.unsubscribe()})}),function aE(i,s,a){try{const c=a();return X0(c)?c.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(y,h,()=>{const E=p.injector.get(Uv);return E.runInitializers(),E.donePromise.then(()=>(function Iw(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(fC=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Bv,md)||md),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,c=[]){const h=Id({},c);return function AD(i,s,a){const c=new kg(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(oo);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new te(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(rE,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||i)(Qt(rs))};static#t=this.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function Id(i,s){return Array.isArray(s)?s.reduce(Id,i):{...i,...s}}let oo=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Dt(uE),this.zoneIsStable=Dt(zI),this.componentTypes=[],this.components=[],this.isStable=Dt(jv).hasPendingTasks.pipe((0,Oe.w)(a=>a?(0,de.of)(!1):this.zoneIsStable),(0,le.x)(),(0,fe.B)()),this._injector=Dt(Mo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Si;if(!this._injector.get(Uv).done)throw!h&&zs(a),new te(405,!1);let y;y=h?a:this._injector.get(ed).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const E=function Ia(i){return i.isBoundToModule}(y)?void 0:this._injector.get(fu),T=y.create(rs.NULL,[],c||y.selector,E),x=T.location.nativeElement,F=T.injector.get(pf,null);return F?.registerApplication(x),T.onDestroy(()=>{this.detachView(T.hostView),em(this.components,T),F?.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;em(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Pi,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>em(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new te(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function em(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const uE=new st("",{providedIn:"root",factory:()=>Dt(Cc).handleError.bind(void 0)});function mf(){const i=Dt(ti),s=Dt(Cc);return a=>i.runOutsideAngular(()=>s.handleError(a))}let OD=(()=>{class i{constructor(){this.zone=Dt(ti),this.applicationRef=Dt(oo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||i)};static#t=this.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function uM(){return!1}let cM=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=tm}return i})();function tm(i){return function lM(i,s,a){if(br(i)&&!a){const c=ci(i.index,s);return new sg(c,c)}return 47&i.type?new sg(s[qn],s):null}(Zn(),Te(),16==(16&i))}class mE{constructor(){}supports(s){return cd(s)}create(s){return new yE(s)}}const kD=(i,s)=>s;class yE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||kD}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<sm(c,h,p)?a:c,E=sm(y,h,p),b=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const T=E-h,x=b-h;if(T!=x){for(let z=0;z<T;z++){const W=z<p.length?p[z]:p[z]=0,ge=W+z;x<=ge&&ge<T&&(p[z]=W+1)}p[y.previousIndex]=x-T}}E!==b&&s(y,E,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!cd(s))throw new te(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],y=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,E),c=!0),a=a._next}else h=0,function LA(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,E=>{y=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,E,y,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,h)):s=this._addAfter(new rm(a,c),p,h),s}_verifyReinsertion(s,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new _f),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _f),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class rm{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class im{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class _f{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new im,this.map.set(a,c)),c.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sm(i,s,a){const c=i.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+s+h}class vE{constructor(){}supports(s){return s instanceof Map||U0(s)}create(){return new FD}}class FD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||U0(s)))throw new te(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const c=new LD(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class LD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VD(){return new Jv([new mE])}let Jv=(()=>{class i{static#e=this.\u0275prov=Mt({token:i,providedIn:"root",factory:VD});constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||VD()),deps:[[i,new nh,new th]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new te(901,!1)}}return i})();function UD(){return new _E([new vE])}let _E=(()=>{class i{static#e=this.\u0275prov=Mt({token:i,providedIn:"root",factory:UD});constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||UD()),deps:[[i,new nh,new th]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new te(901,!1)}}return i})();const jD=xD(null,"core",[]);let vM=(()=>{class i{constructor(a){}static#e=this.\u0275fac=function(c){return new(c||i)(Qt(oo))};static#t=this.\u0275mod=Ou({type:i});static#n=this.\u0275inj=bn({})}return i})();function Ef(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function am(i){const s=Bt(i);if(!s)return null;const a=new la(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(ut,Ie,R)=>{R.d(Ie,{Z:()=>We});var d=R(229),Y=R(6820),P=R(1571),X=R(4287);class ne{constructor(Ge,ke){this._delegate=Ge,this.firebase=ke,(0,P._addComponent)(Ge,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Ge,ke=P._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(Ge);return!lt.isInitialized()&&"EXPLICIT"===(null===(mt=lt.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:ke})}_removeServiceInstance(Ge,ke=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(ke)}_addComponent(Ge){(0,P._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,P._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function le(){const xe=function Oe(xe){const Ge={},ke={__esModule:!0,initializeApp:function te(Pe,qe={}){const se=P.initializeApp(Pe,qe);if((0,d.r3)(Ge,se.name))return Ge[se.name];const wt=new xe(se,ke);return Ge[se.name]=wt,wt},app:lt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ee(Pe){const qe=Pe.name,se=qe.replace("-compat","");if(P._registerComponent(Pe)&&"PUBLIC"===Pe.type){const wt=(Vt=lt())=>{if("function"!=typeof Vt[se])throw fe.create("invalid-app-argument",{appName:qe});return Vt[se]()};void 0!==Pe.serviceProps&&(0,d.ZB)(wt,Pe.serviceProps),ke[se]=wt,xe.prototype[se]=function(...Vt){return this._getService.bind(this,qe).apply(this,Pe.multipleInstances?Vt:[])}}return"PUBLIC"===Pe.type?ke[se]:null},removeApp:function mt(Pe){delete Ge[Pe]},useAsService:function be(Pe,qe){return"serverAuth"===qe?null:qe},modularAPIs:P}};function lt(Pe){if(!(0,d.r3)(Ge,Pe=Pe||P._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Pe});return Ge[Pe]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function me(){return Object.keys(Ge).map(Pe=>Ge[Pe])}}),lt.App=xe,ke}(ne);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function Ge(ke){(0,d.ZB)(xe,ke)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),xe}(),$=new X.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=L;!function Ae(xe){(0,P.registerVersion)("@firebase/app-compat","0.2.13",xe)}()},1571:(ut,Ie,R)=>{R.r(Ie),R.d(Ie,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>hs,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>zr,_apps:()=>Ct,_clearComponents:()=>st,_components:()=>ln,_getProvider:()=>cr,_registerComponent:()=>Xt,_removeServiceInstance:()=>Ta,deleteApp:()=>Li,getApp:()=>Or,getApps:()=>Hs,initializeApp:()=>Aa,onLog:()=>fs,registerVersion:()=>er,setLogLevel:()=>Sn});var d=R(5861),Y=R(6820),P=R(4287),X=R(229);const ne=(he,Q)=>Q.some(Ne=>he instanceof Ne);let de,fe;const L=new WeakMap,$=new WeakMap,K=new WeakMap,Le=new WeakMap,Ae=new WeakMap;let Ge={get(he,Q,Ne){if(he instanceof IDBTransaction){if("done"===Q)return $.get(he);if("objectStoreNames"===Q)return he.objectStoreNames||K.get(he);if("store"===Q)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return te(he[Q])},set:(he,Q,Ne)=>(he[Q]=Ne,!0),has:(he,Q)=>he instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in he};function lt(he){return"function"==typeof he?function mt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...Q){return he.apply(me(this),Q),te(L.get(this))}:function(...Q){return te(he.apply(me(this),Q))}:function(Q,...Ne){const rt=he.call(me(this),Q,...Ne);return K.set(rt,Q.sort?Q.sort():[Q]),te(rt)}}(he):(he instanceof IDBTransaction&&function xe(he){if($.has(he))return;const Q=new Promise((Ne,rt)=>{const dt=()=>{he.removeEventListener("complete",Xe),he.removeEventListener("error",Kt),he.removeEventListener("abort",Kt)},Xe=()=>{Ne(),dt()},Kt=()=>{rt(he.error||new DOMException("AbortError","AbortError")),dt()};he.addEventListener("complete",Xe),he.addEventListener("error",Kt),he.addEventListener("abort",Kt)});$.set(he,Q)}(he),ne(he,function Oe(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Ge):he)}function te(he){if(he instanceof IDBRequest)return function We(he){const Q=new Promise((Ne,rt)=>{const dt=()=>{he.removeEventListener("success",Xe),he.removeEventListener("error",Kt)},Xe=()=>{Ne(te(he.result)),dt()},Kt=()=>{rt(he.error),dt()};he.addEventListener("success",Xe),he.addEventListener("error",Kt)});return Q.then(Ne=>{Ne instanceof IDBCursor&&L.set(Ne,he)}).catch(()=>{}),Ae.set(Q,he),Q}(he);if(Le.has(he))return Le.get(he);const Q=lt(he);return Q!==he&&(Le.set(he,Q),Ae.set(Q,he)),Q}const me=he=>Ae.get(he),Pe=["get","getKey","getAll","getAllKeys","count"],qe=["put","add","delete","clear"],se=new Map;function wt(he,Q){if(!(he instanceof IDBDatabase)||Q in he||"string"!=typeof Q)return;if(se.get(Q))return se.get(Q);const Ne=Q.replace(/FromIndex$/,""),rt=Q!==Ne,dt=qe.includes(Ne);if(!(Ne in(rt?IDBIndex:IDBObjectStore).prototype)||!dt&&!Pe.includes(Ne))return;const Xe=function(){var Kt=(0,d.Z)(function*(jn,...Rn){const Yi=this.transaction(jn,dt?"readwrite":"readonly");let Zr=Yi.store;return rt&&(Zr=Zr.index(Rn.shift())),(yield Promise.all([Zr[Ne](...Rn),dt&&Yi.done]))[0]});return function(Rn){return Kt.apply(this,arguments)}}();return se.set(Q,Xe),Xe}!function ke(he){Ge=he(Ge)}(he=>({...he,get:(Q,Ne,rt)=>wt(Q,Ne)||he.get(Q,Ne,rt),has:(Q,Ne)=>!!wt(Q,Ne)||he.has(Q,Ne)}));class Vt{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function ar(he){const Q=he.getComponent();return"VERSION"===Q?.type}(Ne)){const rt=Ne.getImmediate();return`${rt.library}/${rt.version}`}return null}).filter(Ne=>Ne).join(" ")}}const Hr="@firebase/app",Un=new P.Yd("@firebase/app"),pt="[DEFAULT]",Ut={[Hr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,ln=new Map;function Cn(he,Q){try{he.container.addComponent(Q)}catch(Ne){Un.debug(`Component ${Q.name} failed to register with FirebaseApp ${he.name}`,Ne)}}function zr(he,Q){he.container.addOrOverwriteComponent(Q)}function Xt(he){const Q=he.name;if(ln.has(Q))return Un.debug(`There were multiple attempts to register component ${Q}.`),!1;ln.set(Q,he);for(const Ne of Ct.values())Cn(Ne,he);return!0}function cr(he,Q){const Ne=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),he.container.getProvider(Q)}function Ta(he,Q,Ne=pt){cr(he,Q).clearInstance(Ne)}function st(){ln.clear()}const Lt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $s{constructor(Q,Ne,rt){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}}const hs="9.23.0";function Aa(he,Q={}){let Ne=he;"object"!=typeof Q&&(Q={name:Q});const rt=Object.assign({name:pt,automaticDataCollectionEnabled:!1},Q),dt=rt.name;if("string"!=typeof dt||!dt)throw Lt.create("bad-app-name",{appName:String(dt)});if(Ne||(Ne=(0,X.aH)()),!Ne)throw Lt.create("no-options");const Xe=Ct.get(dt);if(Xe){if((0,X.vZ)(Ne,Xe.options)&&(0,X.vZ)(rt,Xe.config))return Xe;throw Lt.create("duplicate-app",{appName:dt})}const Kt=new Y.H0(dt);for(const Rn of ln.values())Kt.addComponent(Rn);const jn=new $s(Ne,rt,Kt);return Ct.set(dt,jn),jn}function Or(he=pt){const Q=Ct.get(he);if(!Q&&he===pt&&(0,X.aH)())return Aa();if(!Q)throw Lt.create("no-app",{appName:he});return Q}function Hs(){return Array.from(Ct.values())}function Li(he){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(he){const Q=he.name;Ct.has(Q)&&(Ct.delete(Q),yield Promise.all(he.container.getProviders().map(Ne=>Ne.delete())),he.isDeleted=!0)})).apply(this,arguments)}function er(he,Q,Ne){var rt;let dt=null!==(rt=Ut[he])&&void 0!==rt?rt:he;Ne&&(dt+=`-${Ne}`);const Xe=dt.match(/\s|\//),Kt=Q.match(/\s|\//);if(Xe||Kt){const jn=[`Unable to register library "${dt}" with version "${Q}":`];return Xe&&jn.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),Xe&&Kt&&jn.push("and"),Kt&&jn.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void Un.warn(jn.join(" "))}Xt(new Y.wA(`${dt}-version`,()=>({library:dt,version:Q}),"VERSION"))}function fs(he,Q){if(null!==he&&"function"!=typeof he)throw Lt.create("invalid-log-argument");(0,P.Am)(he,Q)}function Sn(he){(0,P.Ub)(he)}const Vi="firebase-heartbeat-database",Rr=1,U="firebase-heartbeat-store";let V=null;function G(){return V||(V=function ee(he,Q,{blocked:Ne,upgrade:rt,blocking:dt,terminated:Xe}={}){const Kt=indexedDB.open(he,Q),jn=te(Kt);return rt&&Kt.addEventListener("upgradeneeded",Rn=>{rt(te(Kt.result),Rn.oldVersion,Rn.newVersion,te(Kt.transaction),Rn)}),Ne&&Kt.addEventListener("blocked",Rn=>Ne(Rn.oldVersion,Rn.newVersion,Rn)),jn.then(Rn=>{Xe&&Rn.addEventListener("close",()=>Xe()),dt&&Rn.addEventListener("versionchange",Yi=>dt(Yi.oldVersion,Yi.newVersion,Yi))}).catch(()=>{}),jn}(Vi,Rr,{upgrade:(he,Q)=>{0===Q&&he.createObjectStore(U)}}).catch(he=>{throw Lt.create("idb-open",{originalErrorMessage:he.message})})),V}function re(){return(re=(0,d.Z)(function*(he){try{return yield(yield G()).transaction(U).objectStore(U).get(Wt(he))}catch(Q){if(Q instanceof X.ZR)Un.warn(Q.message);else{const Ne=Lt.create("idb-get",{originalErrorMessage:Q?.message});Un.warn(Ne.message)}}})).apply(this,arguments)}function nt(he,Q){return vt.apply(this,arguments)}function vt(){return(vt=(0,d.Z)(function*(he,Q){try{const rt=(yield G()).transaction(U,"readwrite");yield rt.objectStore(U).put(Q,Wt(he)),yield rt.done}catch(Ne){if(Ne instanceof X.ZR)Un.warn(Ne.message);else{const rt=Lt.create("idb-set",{originalErrorMessage:Ne?.message});Un.warn(rt.message)}}})).apply(this,arguments)}function Wt(he){return`${he.name}!${he.options.appId}`}class Dt{constructor(Q){this.container=Q,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new qr(Ne),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}triggerHeartbeat(){var Q=this;return(0,d.Z)(function*(){const rt=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=$t();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==dt&&!Q._heartbeatsCache.heartbeats.some(Xe=>Xe.date===dt))return Q._heartbeatsCache.heartbeats.push({date:dt,agent:rt}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(Xe=>{const Kt=new Date(Xe.date).valueOf();return Date.now()-Kt<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,d.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const Ne=$t(),{heartbeatsToSend:rt,unsentEntries:dt}=function lr(he,Q=1024){const Ne=[];let rt=he.slice();for(const dt of he){const Xe=Ne.find(Kt=>Kt.agent===dt.agent);if(Xe){if(Xe.dates.push(dt.date),ps(Ne)>Q){Xe.dates.pop();break}}else if(Ne.push({agent:dt.agent,dates:[dt.date]}),ps(Ne)>Q){Ne.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:rt}}(Q._heartbeatsCache.heartbeats),Xe=(0,X.L)(JSON.stringify({version:2,heartbeats:rt}));return Q._heartbeatsCache.lastSentHeartbeatDate=Ne,dt.length>0?(Q._heartbeatsCache.heartbeats=dt,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),Xe})()}}function $t(){return(new Date).toISOString().substring(0,10)}class qr{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,d.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function Ee(he){return re.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var Ne=this;return(0,d.Z)(function*(){var rt;if(yield Ne._canUseIndexedDBPromise){const Xe=yield Ne.read();return nt(Ne.app,{lastSentHeartbeatDate:null!==(rt=Q.lastSentHeartbeatDate)&&void 0!==rt?rt:Xe.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var Ne=this;return(0,d.Z)(function*(){var rt;if(yield Ne._canUseIndexedDBPromise){const Xe=yield Ne.read();return nt(Ne.app,{lastSentHeartbeatDate:null!==(rt=Q.lastSentHeartbeatDate)&&void 0!==rt?rt:Xe.lastSentHeartbeatDate,heartbeats:[...Xe.heartbeats,...Q.heartbeats]})}})()}}function ps(he){return(0,X.L)(JSON.stringify({version:2,heartbeats:he})).length}!function Sa(he){Xt(new Y.wA("platform-logger",Q=>new Vt(Q),"PRIVATE")),Xt(new Y.wA("heartbeat",Q=>new Dt(Q),"PRIVATE")),er(Hr,"0.9.13",he),er(Hr,"0.9.13","esm2017"),er("fire-js","")}("")},6820:(ut,Ie,R)=>{R.d(Ie,{H0:()=>Oe,wA:()=>P});var d=R(5861),Y=R(229);class P{constructor(L,$,K){this.name=L,this.instanceFactory=$,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const X="[DEFAULT]";class ne{constructor(L,$){this.name=L,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const $=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has($)){const K=new Y.BH;if(this.instancesDeferred.set($,K),this.isInitialized($)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:$});Le&&K.resolve(Le)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(L){var $;const K=this.normalizeInstanceIdentifier(L?.identifier),Le=null!==($=L?.optional)&&void 0!==$&&$;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ae){if(Le)return null;throw Ae}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function fe(le){return"EAGER"===le.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[$,K]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier($);try{const Ae=this.getOrInitializeService({instanceIdentifier:Le});K.resolve(Ae)}catch{}}}}clearInstance(L=X){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,d.Z)(function*(){const $=Array.from(L.instances.values());yield Promise.all([...$.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...$.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=X){return this.instances.has(L)}getOptions(L=X){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:$={}}=L,K=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:K,options:$});for(const[Ae,We]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ae)&&We.resolve(Le);return Le}onInit(L,$){var K;const Le=this.normalizeInstanceIdentifier($),Ae=null!==(K=this.onInitCallbacks.get(Le))&&void 0!==K?K:new Set;Ae.add(L),this.onInitCallbacks.set(Le,Ae);const We=this.instances.get(Le);return We&&L(We,Le),()=>{Ae.delete(L)}}invokeOnInitCallbacks(L,$){const K=this.onInitCallbacks.get($);if(K)for(const Le of K)try{Le(L,$)}catch{}}getOrInitializeService({instanceIdentifier:L,options:$={}}){let K=this.instances.get(L);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(le=L,le===X?void 0:le),options:$}),this.instances.set(L,K),this.instancesOptions.set(L,$),this.invokeOnInitCallbacks(K,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,K)}catch{}var le;return K||null}normalizeInstanceIdentifier(L=X){return this.component?this.component.multipleInstances?L:X:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const $=this.getProvider(L.name);if($.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);$.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const $=new ne(L,this);return this.providers.set(L,$),$}getProviders(){return Array.from(this.providers.values())}}},4287:(ut,Ie,R)=>{R.d(Ie,{Am:()=>le,Ub:()=>Oe,Yd:()=>fe,in:()=>Y});const d=[];var Y=function(L){return L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L}(Y||{});const P={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},X=Y.INFO,ne={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},de=(L,$,...K)=>{if($<L.logLevel)return;const Le=(new Date).toISOString(),Ae=ne[$];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ae](`[${Le}]  ${L.name}:`,...K)};class fe{constructor($){this.name=$,this._logLevel=X,this._logHandler=de,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in Y))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?P[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...$),this._logHandler(this,Y.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...$),this._logHandler(this,Y.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...$),this._logHandler(this,Y.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...$),this._logHandler(this,Y.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...$),this._logHandler(this,Y.ERROR,...$)}}function Oe(L){d.forEach($=>{$.setLogLevel(L)})}function le(L,$){for(const K of d){let Le=null;$&&$.level&&(Le=P[$.level]),K.userLogHandler=null===L?null:(Ae,We,...xe)=>{const Ge=xe.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");We>=(Le??Ae.logLevel)&&L({level:Y[We].toLowerCase(),message:Ge,args:xe,type:Ae.name})}}}},4097:(ut,Ie,R)=>{R.d(Ie,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=R(1571);(0,d.registerVersion)("firebase","9.23.0","app")},120:(ut,Ie,R)=>{R.d(Ie,{Z:()=>d.Z});var d=R(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(ut,Ie,R)=>{R.r(Ie);var d=R(5861),Y=R(3399),P=R(229),X=R(1571),ne=R(7582),de=R(4287),fe=R(6820);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const We=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new de.Yd("@firebase/auth");function te(v,...f){mt.logLevel<=de.in.ERROR&&mt.error(`Auth (${X.SDK_VERSION}): ${v}`,...f)}function me(v,...f){throw qe(v,...f)}function ee(v,...f){return qe(v,...f)}function be(v,f,g){const _=Object.assign(Object.assign({},xe()),{[f]:g});return new P.LL("auth","Firebase",_).create(f,{appName:v.name})}function Pe(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&me(v,"argument-error"),be(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(v,...f){if("string"!=typeof v){const g=f[0],_=[...f.slice(1)];return _[0]&&(_[0].appName=v.name),v._errorFactory.create(g,..._)}return Ge.create(v,...f)}function se(v,f,...g){if(!v)throw qe(f,...g)}function wt(v){const f="INTERNAL ASSERTION FAILED: "+v;throw te(f),new Error(f)}function Vt(v,f){v||wt(f)}function ar(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Hr(){return"http:"===ls()||"https:"===ls()}function ls(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ds{constructor(f,g){this.shortDelay=f,this.longDelay=g,Vt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Un(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Hr()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ae(v,f){Vt(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class ue{static initialize(f,g,_){this.fetchImpl=f,g&&(this.headersImpl=g),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new ds(3e4,6e4);function we(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function De(v,f,g,_){return tt.apply(this,arguments)}function tt(){return(tt=(0,d.Z)(function*(v,f,g,_,A={}){return $e(v,A,(0,d.Z)(function*(){let N={},j={};_&&("GET"===f?j=_:N={body:JSON.stringify(_)});const Z=(0,P.xO)(Object.assign({key:v.config.apiKey},j)).slice(1),Ce=yield v._getAdditionalHeaders();return Ce["Content-Type"]="application/json",v.languageCode&&(Ce["X-Firebase-Locale"]=v.languageCode),ue.fetch()(Mt(v,v.config.apiHost,g,Z),Object.assign({method:f,headers:Ce,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function $e(v,f,g){return On.apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(v,f,g){v._canInitEmulator=!1;const _=Object.assign(Object.assign({},ye),f);try{const A=new _n(v),N=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const j=yield N.json();if("needConfirmation"in j)throw bn(v,"account-exists-with-different-credential",j);if(N.ok&&!("errorMessage"in j))return j;{const Z=N.ok?j.errorMessage:j.error.message,[Ce,je]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ce)throw bn(v,"credential-already-in-use",j);if("EMAIL_EXISTS"===Ce)throw bn(v,"email-already-in-use",j);if("USER_DISABLED"===Ce)throw bn(v,"user-disabled",j);const Be=_[Ce]||Ce.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw be(v,Be,je);me(v,Be)}}catch(A){if(A instanceof P.ZR)throw A;me(v,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function yt(v,f,g,_){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(v,f,g,_,A={}){const N=yield De(v,f,g,_,A);return"mfaPendingCredential"in N&&me(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Mt(v,f,g,_){const A=`${f}${g}?${_}`;return v.config.emulator?ae(v.config,A):`${v.config.apiScheme}://${A}`}class _n{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,_)=>{this.timer=setTimeout(()=>_(ee(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bn(v,f,g){const _={appName:v.name};g.email&&(_.email=g.email),g.phoneNumber&&(_.phoneNumber=g.phoneNumber);const A=ee(v,f,_);return A.customData._tokenResponse=g,A}function sn(){return(sn=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function si(){return(si=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function oi(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function pt(){return(pt=(0,d.Z)(function*(v,f=!1){const g=(0,P.m9)(v),_=yield g.getIdToken(f),A=Ct(_);se(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,j=N?.sign_in_provider;return{claims:A,token:_,authTime:oi(Ut(A.auth_time)),issuedAtTime:oi(Ut(A.iat)),expirationTime:oi(Ut(A.exp)),signInProvider:j||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Ut(v){return 1e3*Number(v)}function Ct(v){const[f,g,_]=v.split(".");if(void 0===f||void 0===g||void 0===_)return te("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,P.tV)(g);return A?JSON.parse(A):(te("Failed to decode base64 JWT payload"),null)}catch(A){return te("Caught error parsing JWT payload as JSON",A?.toString()),null}}function Cn(v,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(_){throw _ instanceof P.ZR&&function Xt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(_)&&v.auth.currentUser===v&&(yield v.auth.signOut()),_}})).apply(this,arguments)}class cr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const _=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),_)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Ta{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function st(v){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,d.Z)(function*(v){var f;const g=v.auth,_=yield v.getIdToken(),A=yield Cn(v,function ao(v,f){return si.apply(this,arguments)}(g,{idToken:_}));se(A?.users.length,g,"internal-error");const N=A.users[0];v._notifyReloadListener(N);const j=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function Aa(v){return v.map(f=>{var{providerId:g}=f,_=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(N.providerUserInfo):[],Z=function hs(v,f){return[...v.filter(_=>!f.some(A=>A.providerId===_.providerId)),...f]}(v.providerData,j),Be=!!v.isAnonymous&&!(v.email&&N.passwordHash||Z?.length),Je={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Z,metadata:new Ta(N.createdAt,N.lastLoginAt),isAnonymous:Be};Object.assign(v,Je)}),Gr.apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(v){const f=(0,P.m9)(v);yield st(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(v,f){const g=yield $e(v,{},(0,d.Z)(function*(){const _=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:N}=v.config,j=Mt(v,A,"/v1/token",`key=${N}`),Z=yield v._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(j,{method:"POST",headers:Z,body:_})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){se(f.idToken,"internal-error"),se(typeof f.idToken<"u","internal-error"),se(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ln(v){const f=Ct(v);return se(f,"internal-error"),se(typeof f.exp<"u","internal-error"),se(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var _=this;return(0,d.Z)(function*(){return se(!_.accessToken||_.refreshToken,f,"user-token-expired"),g||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(f,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var _=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:j}=yield function Or(v,f){return Hs.apply(this,arguments)}(f,g);_.updateTokensAndExpiration(A,N,Number(j))})()}updateTokensAndExpiration(f,g,_){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(f,g){const{refreshToken:_,accessToken:A,expirationTime:N}=g,j=new Li;return _&&(se("string"==typeof _,"internal-error",{appName:f}),j.refreshToken=_),A&&(se("string"==typeof A,"internal-error",{appName:f}),j.accessToken=A),N&&(se("number"==typeof N,"internal-error",{appName:f}),j.expirationTime=N),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Li,this.toJSON())}_performRefresh(){return wt("not implemented")}}function Xn(v,f){se("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class er{constructor(f){var{uid:g,auth:_,stsTokenManager:A}=f,N=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=_,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Ta(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,d.Z)(function*(){const _=yield Cn(g,g.stsTokenManager.getToken(g.auth,f));return se(_,g.auth,"internal-error"),g.accessToken!==_&&(g.accessToken=_,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),_})()}getIdTokenResult(f){return function Da(v){return pt.apply(this,arguments)}(this,f)}reload(){return function Lt(v){return $s.apply(this,arguments)}(this)}_assign(f){this!==f&&(se(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new er(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var _=this;return(0,d.Z)(function*(){let A=!1;f.idToken&&f.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield st(_)),yield _.auth._persistUserIfCurrent(_),A&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var f=this;return(0,d.Z)(function*(){const g=yield f.getIdToken();return yield Cn(f,function ur(v,f){return sn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var _,A,N,j,Z,Ce,je,Be;const Je=null!==(_=g.displayName)&&void 0!==_?_:void 0,Ln=null!==(A=g.email)&&void 0!==A?A:void 0,hn=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,pc=null!==(j=g.photoURL)&&void 0!==j?j:void 0,lh=null!==(Z=g.tenantId)&&void 0!==Z?Z:void 0,To=null!==(Ce=g._redirectEventId)&&void 0!==Ce?Ce:void 0,gc=null!==(je=g.createdAt)&&void 0!==je?je:void 0,dh=null!==(Be=g.lastLoginAt)&&void 0!==Be?Be:void 0,{uid:mc,emailVerified:yc,isAnonymous:hp,providerData:vc,stsTokenManager:fp}=g;se(mc&&fp,f,"internal-error");const Km=Li.fromJSON(this.name,fp);se("string"==typeof mc,f,"internal-error"),Xn(Je,f.name),Xn(Ln,f.name),se("boolean"==typeof yc,f,"internal-error"),se("boolean"==typeof hp,f,"internal-error"),Xn(hn,f.name),Xn(pc,f.name),Xn(lh,f.name),Xn(To,f.name),Xn(gc,f.name),Xn(dh,f.name);const hh=new er({uid:mc,auth:f,email:Ln,emailVerified:yc,displayName:Je,isAnonymous:hp,photoURL:pc,phoneNumber:hn,tenantId:lh,stsTokenManager:Km,createdAt:gc,lastLoginAt:dh});return vc&&Array.isArray(vc)&&(hh.providerData=vc.map(Ym=>Object.assign({},Ym))),To&&(hh._redirectEventId=To),hh}static _fromIdTokenResponse(f,g,_=!1){return(0,d.Z)(function*(){const A=new Li;A.updateFromServerResponse(g);const N=new er({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:_});return yield st(N),N})()}}const fs=new Map;function Sn(v){Vt(v instanceof Function,"Expected a class definition");let f=fs.get(v);return f?(Vt(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,fs.set(v,f),f)}const Rr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,_){var A=this;return(0,d.Z)(function*(){A.storage[g]=_})()}_get(g){var _=this;return(0,d.Z)(function*(){const A=_.storage[g];return void 0===A?null:A})()}_remove(g){var _=this;return(0,d.Z)(function*(){delete _.storage[g]})()}_addListener(g,_){}_removeListener(g,_){}}return v.type="NONE",v})();function U(v,f,g){return`firebase:${v}:${f}:${g}`}class V{constructor(f,g,_){this.persistence=f,this.auth=g,this.userKey=_;const{config:A,name:N}=this.auth;this.fullUserKey=U(this.userKey,A.apiKey,N),this.fullPersistenceKey=U("persistence",A.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?er._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,d.Z)(function*(){if(g.persistence===f)return;const _=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,_?g.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,_="authUser"){return(0,d.Z)(function*(){if(!g.length)return new V(Sn(Rr),f,_);const A=(yield Promise.all(g.map(function(){var je=(0,d.Z)(function*(Be){if(yield Be._isAvailable())return Be});return function(Be){return je.apply(this,arguments)}}()))).filter(je=>je);let N=A[0]||Sn(Rr);const j=U(_,f.config.apiKey,f.name);let Z=null;for(const je of g)try{const Be=yield je._get(j);if(Be){const Je=er._fromJSON(f,Be);je!==N&&(Z=Je),N=je;break}}catch{}const Ce=A.filter(je=>je._shouldAllowMigration);return N._shouldAllowMigration&&Ce.length?(N=Ce[0],Z&&(yield N._set(j,Z.toJSON())),yield Promise.all(g.map(function(){var je=(0,d.Z)(function*(Be){if(Be!==N)try{yield Be._remove(j)}catch{}});return function(Be){return je.apply(this,arguments)}}())),new V(N,f,_)):new V(N,f,_)})()}}function G(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(vt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ee(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Qt(f))return"Blackberry";if(Bn(f))return"Webos";if(re(f))return"Safari";if((f.includes("chrome/")||nt(f))&&!f.includes("edge/"))return"Chrome";if(Wt(f))return"Android";{const _=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Ee(v=(0,P.z$)()){return/firefox\//i.test(v)}function re(v=(0,P.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function nt(v=(0,P.z$)()){return/crios\//i.test(v)}function vt(v=(0,P.z$)()){return/iemobile/i.test(v)}function Wt(v=(0,P.z$)()){return/android/i.test(v)}function Qt(v=(0,P.z$)()){return/blackberry/i.test(v)}function Bn(v=(0,P.z$)()){return/webos/i.test(v)}function Dt(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function ps(v=(0,P.z$)()){return Dt(v)||Wt(v)||Bn(v)||Qt(v)||/windows phone/i.test(v)||vt(v)}function he(v,f=[]){let g;switch(v){case"Browser":g=G((0,P.z$)());break;case"Worker":g=`${G((0,P.z$)())}-${v}`;break;default:g=v}const _=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${X.SDK_VERSION}/${_}`}function Ne(){return(Ne=(0,d.Z)(function*(v){return(yield De(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rt(v,f){return dt.apply(this,arguments)}function dt(){return(dt=(0,d.Z)(function*(v,f){return De(v,"GET","/v2/recaptchaConfig",we(v,f))})).apply(this,arguments)}function Xe(v){return void 0!==v&&void 0!==v.getResponse}function Kt(v){return void 0!==v&&void 0!==v.enterprise}class jn{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Yi(v){return new Promise((f,g)=>{const _=document.createElement("script");_.setAttribute("src",v),_.onload=f,_.onerror=A=>{const N=ee("internal-error");N.customData=A,g(N)},_.type="text/javascript",_.charset="UTF-8",function Rn(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(_)})}function Zr(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Tu{constructor(f){this.type="recaptcha-enterprise",this.auth=Pn(f)}verify(f="verify",g=!1){var _=this;return(0,d.Z)(function*(){function N(){return N=(0,d.Z)(function*(Z){if(!g){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Ce=(0,d.Z)(function*(je,Be){rt(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Je=>{if(void 0!==Je.recaptchaKey){const Ln=new jn(Je);return null==Z.tenantId?Z._agentRecaptchaConfig=Ln:Z._tenantRecaptchaConfigs[Z.tenantId]=Ln,je(Ln.siteKey)}Be(new Error("recaptcha Enterprise site key undefined"))}).catch(Je=>{Be(Je)})});return function(je,Be){return Ce.apply(this,arguments)}}())}),N.apply(this,arguments)}function j(Z,Ce,je){const Be=window.grecaptcha;Kt(Be)?Be.enterprise.ready(()=>{Be.enterprise.execute(Z,{action:f}).then(Je=>{Ce(Je)}).catch(()=>{Ce("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Ce)=>{(function A(Z){return N.apply(this,arguments)})(_.auth).then(je=>{if(!g&&Kt(window.grecaptcha))j(je,Z,Ce);else{if(typeof window>"u")return void Ce(new Error("RecaptchaVerifier is only supported in browser"));Yi("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{j(je,Z,Ce)}).catch(Be=>{Ce(Be)})}}).catch(je=>{Ce(je)})})})()}}function wi(v,f,g){return Au.apply(this,arguments)}function Au(){return(Au=(0,d.Z)(function*(v,f,g,_=!1){const A=new Tu(v);let N;try{N=yield A.verify(g)}catch{N=yield A.verify(g,!0)}const j=Object.assign({},f);return Object.assign(j,_?{captchaResp:N}:{captchaResponse:N}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class Ui{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const _=N=>new Promise((j,Z)=>{try{j(f(N))}catch(Ce){Z(Ce)}});_.onAbort=g,this.queue.push(_);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===f)return;const _=[];try{for(const A of g.queue)yield A(f),A.onAbort&&_.push(A.onAbort)}catch(A){_.reverse();for(const N of _)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Yc{constructor(f,g,_,A){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=_,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Su(this),this.idTokenSubscription=new Su(this),this.beforeStateQueue=new Ui(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(f,g){var _=this;return g&&(this._popupRedirectResolver=Sn(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A,N;if(!_._deleted&&(_.persistenceManager=yield V.create(_,f),!_._deleted)){if(null!==(A=_._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(g),_.lastNotifiedUid=(null===(N=_.currentUser)||void 0===N?void 0:N.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,d.Z)(function*(){var _;const A=yield g.assertedPersistence.getCurrentUser();let N=A,j=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Z=null===(_=g.redirectUser)||void 0===_?void 0:_._redirectEventId,Ce=N?._redirectEventId,je=yield g.tryRedirectSignIn(f);(!Z||Z===Ce)&&je?.user&&(N=je.user,j=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(j)try{yield g.beforeStateQueue.runMiddleware(N)}catch(Z){N=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Z))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,d.Z)(function*(){let _=null;try{_=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,d.Z)(function*(){try{yield st(f)}catch(_){if("auth/network-request-failed"!==_?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function jo(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,d.Z)(function*(){const _=f?(0,P.m9)(f):null;return _&&se(_.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(_&&_._clone(g))})()}_updateCurrentUser(f,g=!1){var _=this;return(0,d.Z)(function*(){if(!_._deleted)return f&&se(_.tenantId===f.tenantId,_,"tenant-id-mismatch"),g||(yield _.beforeStateQueue.runMiddleware(f)),_.queue((0,d.Z)(function*(){yield _.directlySetCurrentUser(f),_.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(Sn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const g=yield rt(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new jn(g);null==f.tenantId?f._agentRecaptchaConfig=_:f._tenantRecaptchaConfigs[f.tenantId]=_,_.emailPasswordEnabled&&new Tu(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,g,_){return this.registerStateListener(this.authStateSubscription,f,g,_)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,_){return this.registerStateListener(this.idTokenSubscription,f,g,_)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var _=this;return(0,d.Z)(function*(){const A=yield _.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const _=f&&Sn(f)||g._popupRedirectResolver;se(_,g,"argument-error"),g.redirectPersistenceManager=yield V.create(g,[Sn(_._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,d.Z)(function*(){var _,A;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(_=g._currentUser)||void 0===_?void 0:_._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,d.Z)(function*(){if(f===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,_,A){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),j=this._isInitialized?Promise.resolve():this._initializationPromise;return se(j,this,"internal-error"),j.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,_,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var g;const _={"X-Client-Version":f.clientVersion};f.app.options.appId&&(_["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();A&&(_["X-Firebase-Client"]=A);const N=yield f._getAppCheckToken();return N&&(_["X-Firebase-AppCheck"]=N),_})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var g;const _=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return _?.error&&function lt(v,...f){mt.logLevel<=de.in.WARN&&mt.warn(`Auth (${X.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function Pn(v){return(0,P.m9)(v)}class Su{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wr(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Qc(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class uo{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return wt("not implemented")}_getIdTokenResponse(f){return wt("not implemented")}_linkToIdToken(f,g){return wt("not implemented")}_getReauthenticationResolver(f){return wt("not implemented")}}function kf(v,f){return xu.apply(this,arguments)}function xu(){return(xu=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:resetPassword",we(v,f))})).apply(this,arguments)}function Jc(v,f){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Xc(){return(Xc=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:update",we(v,f))})).apply(this,arguments)}function dr(v,f){return el.apply(this,arguments)}function el(){return(el=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:signInWithPassword",we(v,f))})).apply(this,arguments)}function Nu(v,f){return tl.apply(this,arguments)}function tl(){return(tl=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:sendOobCode",we(v,f))})).apply(this,arguments)}function nl(){return(nl=(0,d.Z)(function*(v,f){return Nu(v,f)})).apply(this,arguments)}function $o(v,f){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(v,f){return Nu(v,f)})).apply(this,arguments)}function Ru(v,f){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(v,f){return Nu(v,f)})).apply(this,arguments)}function fr(){return(fr=(0,d.Z)(function*(v,f){return Nu(v,f)})).apply(this,arguments)}function Wr(){return(Wr=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:signInWithEmailLink",we(v,f))})).apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:signInWithEmailLink",we(v,f))})).apply(this,arguments)}class co extends uo{constructor(f,g,_,A=null){super("password",_),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new co(f,g,"password")}static _fromEmailAndCode(f,g,_=null){return new co(f,g,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,d.Z)(function*(){var _;switch(g.signInMethod){case"password":const A={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const N=yield wi(f,A,"signInWithPassword");return dr(f,N)}return dr(f,A).catch(function(){var N=(0,d.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Z=yield wi(f,A,"signInWithPassword");return dr(f,Z)}return Promise.reject(j)});return function(j){return N.apply(this,arguments)}}());case"emailLink":return function zs(v,f){return Wr.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:me(f,"internal-error")}})()}_linkToIdToken(f,g){var _=this;return(0,d.Z)(function*(){switch(_.signInMethod){case"password":return Jc(f,{idToken:g,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Ff(v,f){return il.apply(this,arguments)}(f,{idToken:g,email:_._email,oobCode:_._password});default:me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ii(v,f){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:signInWithIdp",we(v,f))})).apply(this,arguments)}class He extends uo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new He(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):me("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:A}=g,N=(0,ne._T)(g,["providerId","signInMethod"]);if(!_||!A)return null;const j=new He(_,A);return j.idToken=N.idToken||void 0,j.accessToken=N.accessToken||void 0,j.secret=N.secret,j.nonce=N.nonce,j.pendingToken=N.pendingToken||null,j}_getIdTokenResponse(f){return Ii(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,Ii(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ii(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,P.xO)(g)}return f}}function cn(){return(cn=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:sendVerificationCode",we(v,f))})).apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:signInWithPhoneNumber",we(v,f))})).apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(v,f){const g=yield yt(v,"POST","/v1/accounts:signInWithPhoneNumber",we(v,f));if(g.temporaryProof)throw bn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const xn={USER_NOT_FOUND:"user-not-found"};function Bi(){return(Bi=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:signInWithPhoneNumber",we(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),xn)})).apply(this,arguments)}class ht extends uo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new ht({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new ht({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function ai(v,f){return Ho.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Pr(v,f){return ms.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Gs(v,f){return Bi.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:_,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:_,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:_,phoneNumber:A,temporaryProof:N}=f;return _||g||A||N?new ht({verificationId:g,verificationCode:_,phoneNumber:A,temporaryProof:N}):null}}class ys{constructor(f){var g,_,A,N,j,Z;const Ce=(0,P.zd)((0,P.pd)(f)),je=null!==(g=Ce.apiKey)&&void 0!==g?g:null,Be=null!==(_=Ce.oobCode)&&void 0!==_?_:null,Je=function Pu(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ce.mode)&&void 0!==A?A:null);se(je&&Be&&Je,"argument-error"),this.apiKey=je,this.operation=Je,this.code=Be,this.continueUrl=null!==(N=Ce.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(j=Ce.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(Z=Ce.tenantId)&&void 0!==Z?Z:null}static parseLink(f){const g=function xa(v){const f=(0,P.zd)((0,P.pd)(v)).link,g=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,_=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(_?(0,P.zd)((0,P.pd)(_)).link:null)||_||g||f||v}(f);try{return new ys(g)}catch{return null}}}let zo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,_){return co._fromEmailAndPassword(g,_)}static credentialWithLink(g,_){const A=ys.parseLink(_);return se(A,"argument-error"),co._fromEmailAndCode(g,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Kr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Yr extends Kr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class bi extends Yr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return se("providerId"in g&&"signInMethod"in g,"argument-error"),He._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return se(f.idToken||f.accessToken,"argument-error"),He._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return bi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return bi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:_,oauthTokenSecret:A,pendingToken:N,nonce:j,providerId:Z}=f;if(!_&&!A&&!g&&!N||!Z)return null;try{return new bi(Z)._credential({idToken:g,accessToken:_,nonce:j,pendingToken:N})}catch{return null}}}let Md=(()=>{class v extends Yr{constructor(){super("facebook.com")}static credential(g){return He._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ji=(()=>{class v extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,_){return He._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:_})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:A}=g;if(!_&&!A)return null;try{return v.credential(_,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),vs=(()=>{class v extends Yr{constructor(){super("github.com")}static credential(g){return He._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Qi extends uo{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Ii(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,Ii(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ii(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:A,pendingToken:N}=g;return _&&A&&N&&_===A?new Qi(_,N):null}static _create(f,g){return new Qi(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ol extends Kr{constructor(f){se(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ol.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ol.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Qi.fromJSON(f);return se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:_}=f;if(!g||!_)return null;try{return Qi._create(_,g)}catch{return null}}}let Na=(()=>{class v extends Yr{constructor(){super("twitter.com")}static credential(g,_){return He._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:_})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:_,oauthTokenSecret:A}=g;if(!_||!A)return null;try{return v.credential(_,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ji(v,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:signUp",we(v,f))})).apply(this,arguments)}class Er{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,_,A=!1){return(0,d.Z)(function*(){const N=yield er._fromIdTokenResponse(f,_,A),j=_s(_);return new Er({user:N,providerId:j,_tokenResponse:_,operationType:g})})()}static _forOperation(f,g,_){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(_,!0);const A=_s(_);return new Er({user:f,providerId:A,_tokenResponse:_,operationType:g})})()}}function _s(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function tr(){return(tr=(0,d.Z)(function*(v){var f;const g=Pn(v);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Er({user:g.currentUser,providerId:null,operationType:"signIn"});const _=yield Ji(g,{returnSecureToken:!0}),A=yield Er._fromIdTokenResponse(g,"signIn",_,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class ku extends P.ZR{constructor(f,g,_,A){var N;super(g.code,g.message),this.operationType=_,this.user=A,Object.setPrototypeOf(this,ku.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(f,g,_,A){return new ku(f,g,_,A)}}function kr(v,f,g,_){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ku._fromErrorAndOperation(v,N,f,_):N})}function Ir(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function br(){return br=(0,d.Z)(function*(v,f){const g=(0,P.m9)(v);yield Zs(!0,g,f);const{providerUserInfo:_}=yield function Nr(v,f){return ii.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=Ir(_||[]);return g.providerData=g.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),br.apply(this,arguments)}function lo(v,f){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(v,f,g=!1){const _=yield Cn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return Er._forOperation(v,"link",_)})).apply(this,arguments)}function Zs(v,f,g){return ul.apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(v,f,g){yield st(f);const A=!1===v?"provider-already-linked":"no-such-provider";se(Ir(f.providerData).has(g)===v,f.auth,A)})).apply(this,arguments)}function Lf(v,f){return cl.apply(this,arguments)}function cl(){return(cl=(0,d.Z)(function*(v,f,g=!1){const{auth:_}=v,A="reauthenticate";try{const N=yield Cn(v,kr(_,A,f,v),g);se(N.idToken,_,"internal-error");const j=Ct(N.idToken);se(j,_,"internal-error");const{sub:Z}=j;return se(v.uid===Z,_,"user-mismatch"),Er._forOperation(v,A,N)}catch(N){throw"auth/user-not-found"===N?.code&&me(_,"user-mismatch"),N}})).apply(this,arguments)}function ll(v,f){return dl.apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(v,f,g=!1){const _="signIn",A=yield kr(v,_,f),N=yield Er._fromIdTokenResponse(v,_,A);return g||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function hl(v,f){return xd.apply(this,arguments)}function xd(){return(xd=(0,d.Z)(function*(v,f){return ll(Pn(v),f)})).apply(this,arguments)}function wm(v,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(v,f){const g=(0,P.m9)(v);return yield Zs(!1,g,f.providerId),lo(g,f)})).apply(this,arguments)}function Em(v,f){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,d.Z)(function*(v,f){return Lf((0,P.m9)(v),f)})).apply(this,arguments)}function Uf(){return(Uf=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:signInWithCustomToken",we(v,f))})).apply(this,arguments)}function ws(){return ws=(0,d.Z)(function*(v,f){const g=Pn(v),_=yield function __(v,f){return Uf.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),A=yield Er._fromIdTokenResponse(g,"signIn",_);return yield g._updateCurrentUser(A.user),A}),ws.apply(this,arguments)}class fl{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Fu._fromServerResponse(f,g):"totpInfo"in g?pl._fromServerResponse(f,g):me(f,"internal-error")}}class Fu extends fl{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Fu(g)}}class pl extends fl{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new pl(g)}}function ho(v,f,g){var _;se((null===(_=g.url)||void 0===_?void 0:_.length)>0,v,"invalid-continue-uri"),se(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(se(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(se(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Ra(){return Ra=(0,d.Z)(function*(v,f,g){var _;const A=Pn(v),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=A._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const j=yield wi(A,N,"getOobCode",!0);g&&ho(A,j,g),yield $o(A,j)}else g&&ho(A,N,g),yield $o(A,N).catch(function(){var j=(0,d.Z)(function*(Z){if("auth/missing-recaptcha-token"!==Z.code)return Promise.reject(Z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ce=yield wi(A,N,"getOobCode",!0);g&&ho(A,Ce,g),yield $o(A,Ce)}});return function(Z){return j.apply(this,arguments)}}())}),Ra.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(v,f,g){yield kf((0,P.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ci(){return Ci=(0,d.Z)(function*(v,f){yield function Ei(v,f){return Xc.apply(this,arguments)}((0,P.m9)(v),{oobCode:f})}),Ci.apply(this,arguments)}function Od(v,f){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(v,f){const g=(0,P.m9)(v),_=yield kf(g,{oobCode:f}),A=_.requestType;switch(se(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(_.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(_.mfaInfo,g,"internal-error");default:se(_.email,g,"internal-error")}let N=null;return _.mfaInfo&&(N=fl._fromServerResponse(Pn(g),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function pr(){return(pr=(0,d.Z)(function*(v,f){const{data:g}=yield Od((0,P.m9)(v),f);return g.email})).apply(this,arguments)}function Pa(){return Pa=(0,d.Z)(function*(v,f,g){var _;const A=Pn(v),N={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(_=A._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const je=yield wi(A,N,"signUpPassword");j=Ji(A,je)}else j=Ji(A,N).catch(function(){var je=(0,d.Z)(function*(Be){if("auth/missing-recaptcha-token"===Be.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Je=yield wi(A,N,"signUpPassword");return Ji(A,Je)}return Promise.reject(Be)});return function(Be){return je.apply(this,arguments)}}());const Z=yield j.catch(je=>Promise.reject(je)),Ce=yield Er._fromIdTokenResponse(A,"signIn",Z);return yield A._updateCurrentUser(Ce.user),Ce}),Pa.apply(this,arguments)}function qo(){return qo=(0,d.Z)(function*(v,f,g){var _;const A=Pn(v),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function j(Z,Ce){se(Ce.handleCodeInApp,A,"argument-error"),Ce&&ho(A,Z,Ce)}if(null!==(_=A._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const Z=yield wi(A,N,"getOobCode",!0);j(Z,g),yield Ru(A,Z)}else j(N,g),yield Ru(A,N).catch(function(){var Z=(0,d.Z)(function*(Ce){if("auth/missing-recaptcha-token"!==Ce.code)return Promise.reject(Ce);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield wi(A,N,"getOobCode",!0);j(je,g),yield Ru(A,je)}});return function(Ce){return Z.apply(this,arguments)}}())}),qo.apply(this,arguments)}function Lu(){return(Lu=(0,d.Z)(function*(v,f,g){const _=(0,P.m9)(v),A=zo.credentialWithLink(f,g||ar());return se(A._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),hl(_,A)})).apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:createAuthUri",we(v,f))})).apply(this,arguments)}function Zo(){return Zo=(0,d.Z)(function*(v,f){const _={identifier:f,continueUri:Hr()?ar():"http://localhost"},{signinMethods:A}=yield function ml(v,f){return yl.apply(this,arguments)}((0,P.m9)(v),_);return A||[]}),Zo.apply(this,arguments)}function Is(){return Is=(0,d.Z)(function*(v,f){const g=(0,P.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&ho(g.auth,A,f);const{email:N}=yield function Ou(v,f){return nl.apply(this,arguments)}(g.auth,A);N!==v.email&&(yield v.reload())}),Is.apply(this,arguments)}function Uu(){return Uu=(0,d.Z)(function*(v,f,g){const _=(0,P.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&ho(_.auth,N,g);const{email:j}=yield function hr(v,f){return fr.apply(this,arguments)}(_.auth,N);j!==v.email&&(yield v.reload())}),Uu.apply(this,arguments)}function jf(){return(jf=(0,d.Z)(function*(v,f){return De(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Bu(){return Bu=(0,d.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const _=(0,P.m9)(v),N={idToken:yield _.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},j=yield Cn(_,function bm(v,f){return jf.apply(this,arguments)}(_.auth,N));_.displayName=j.displayName||null,_.photoURL=j.photoUrl||null;const Z=_.providerData.find(({providerId:Ce})=>"password"===Ce);Z&&(Z.displayName=_.displayName,Z.photoURL=_.photoURL),yield _._updateTokensIfNecessary(j)}),Bu.apply(this,arguments)}function wl(v,f,g){return ju.apply(this,arguments)}function ju(){return(ju=(0,d.Z)(function*(v,f,g){const{auth:_}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const j=yield Cn(v,Jc(_,N));yield v._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class Wo{constructor(f,g,_={}){this.isNewUser=f,this.providerId=g,this.profile=_}}class $u extends Wo{constructor(f,g,_,A){super(f,g,_),this.username=A}}class Pd extends Wo{constructor(f,g){super(f,"facebook.com",g)}}class kd extends $u{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Fa extends Wo{constructor(f,g){super(f,"google.com",g)}}class La extends $u{constructor(f,g,_){super(f,"twitter.com",g,_)}}function $f(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function El(v){var f,g;if(!v)return null;const{providerId:_}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!_&&v?.idToken){const j=null===(g=null===(f=Ct(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(j)return new Wo(N,"anonymous"!==j&&"custom"!==j?j:null)}if(!_)return null;switch(_){case"facebook.com":return new Pd(N,A);case"github.com":return new kd(N,A);case"google.com":return new Fa(N,A);case"twitter.com":return new La(N,A,v.screenName||null);case"custom":case"anonymous":return new Wo(N,null);default:return new Wo(N,_,A)}}(g)}class bs{constructor(f,g,_){this.type=f,this.credential=g,this.auth=_}static _fromIdtoken(f,g){return new bs("enroll",f,g)}static _fromMfaPendingCredential(f){return new bs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,_;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return bs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.idToken)return bs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class go{constructor(f,g,_){this.session=f,this.hints=g,this.signInResolver=_}static _fromError(f,g){const _=Pn(f),A=g.customData._serverResponse,N=(A.mfaInfo||[]).map(Z=>fl._fromServerResponse(_,Z));se(A.mfaPendingCredential,_,"internal-error");const j=bs._fromMfaPendingCredential(A.mfaPendingCredential);return new go(j,N,function(){var Z=(0,d.Z)(function*(Ce){const je=yield Ce._process(_,j);delete A.mfaInfo,delete A.mfaPendingCredential;const Be=Object.assign(Object.assign({},A),{idToken:je.idToken,refreshToken:je.refreshToken});switch(g.operationType){case"signIn":const Je=yield Er._fromIdTokenResponse(_,g.operationType,Be);return yield _._updateCurrentUser(Je.user),Je;case"reauthenticate":return se(g.user,_,"internal-error"),Er._forOperation(g.user,g.operationType,Be);default:me(_,"internal-error")}});return function(Ce){return Z.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,d.Z)(function*(){return g.signInResolver(f)})()}}class mo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(_=>fl._fromServerResponse(f.auth,_)))})}static _fromUser(f){return new mo(f)}getSession(){var f=this;return(0,d.Z)(function*(){return bs._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var _=this;return(0,d.Z)(function*(){const A=f,N=yield _.getSession(),j=yield Cn(_.user,A._process(_.user.auth,N,g));return yield _.user._updateTokensIfNecessary(j),_.user.reload()})()}unenroll(f){var g=this;return(0,d.Z)(function*(){const _="string"==typeof f?f:f.uid,A=yield g.user.getIdToken();try{const N=yield Cn(g.user,function jd(v,f){return De(v,"POST","/v2/accounts/mfaEnrollment:withdraw",we(v,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:_}));g.enrolledFactors=g.enrolledFactors.filter(({uid:j})=>j!==_),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const en=new WeakMap,yo="__sak";class Jr{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(yo,"1"),this.storage.removeItem(yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qo=(()=>{class v extends Jr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,_)=>this.onStorageEvent(g,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $d(){const v=(0,P.z$)();return re(v)||Dt(v)}()&&function Sa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ps(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const _ of Object.keys(this.listeners)){const A=this.storage.getItem(_),N=this.localCache[_];A!==N&&g(_,N,A)}}onStorageEvent(g,_=!1){if(!g.key)return void this.forAllChangedKeys((Z,Ce,je)=>{this.notifyListeners(Z,je)});const A=g.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(A);if(g.newValue!==Z)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!_)return}const N=()=>{const Z=this.storage.getItem(A);!_&&this.localCache[A]===Z||this.notifyListeners(A,Z)},j=this.storage.getItem(A);!function qr(){return(0,P.w1)()&&10===document.documentMode}()||j===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,_){this.localCache[g]=_;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,_,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:_,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,_){var A=()=>super._set,N=this;return(0,d.Z)(function*(){yield A().call(N,g,_),N.localCache[g]=JSON.stringify(_)})()}_get(g){var _=()=>super._get,A=this;return(0,d.Z)(function*(){const N=yield _().call(A,g);return A.localCache[g]=JSON.stringify(N),N})()}_remove(g){var _=()=>super._remove,A=this;return(0,d.Z)(function*(){yield _().call(A,g),delete A.localCache[g]})()}}return v.type="LOCAL",v})(),vo=(()=>{class v extends Jr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,_){}_removeListener(g,_){}}return v.type="SESSION",v})();let zu=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const _=this.receivers.find(N=>N.isListeningto(g));if(_)return _;const A=new v(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var _=this;return(0,d.Z)(function*(){const A=g,{eventId:N,eventType:j,data:Z}=A.data,Ce=_.handlersMap[j];if(!Ce?.size)return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:j});const je=Array.from(Ce).map(function(){var Je=(0,d.Z)(function*(Ln){return Ln(A.origin,Z)});return function(Ln){return Je.apply(this,arguments)}}()),Be=yield function _o(v){return Promise.all(v.map(function(){var f=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(_){return{fulfilled:!1,reason:_}}});return function(g){return f.apply(this,arguments)}}()))}(je);A.ports[0].postMessage({status:"done",eventId:N,eventType:j,response:Be})})()}_subscribe(g,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(_)}_unsubscribe(g,_){this.handlersMap[g]&&_&&this.handlersMap[g].delete(_),(!_||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Al(v="",f=10){let g="";for(let _=0;_<f;_++)g+=Math.floor(10*Math.random());return v+g}class Sm{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,_=50){var A=this;return(0,d.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let j,Z;return new Promise((Ce,je)=>{const Be=Al("",20);N.port1.start();const Je=setTimeout(()=>{je(new Error("unsupported_event"))},_);Z={messageChannel:N,onMessage(Ln){const hn=Ln;if(hn.data.eventId===Be)switch(hn.data.status){case"ack":clearTimeout(Je),j=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Ce(hn.data.response);break;default:clearTimeout(Je),clearTimeout(j),je(new Error("invalid_response"))}}},A.handlers.add(Z),N.port1.addEventListener("message",Z.onMessage),A.target.postMessage({eventType:f,eventId:Be,data:g},[N.port2])}).finally(()=>{Z&&A.removeMessageHandler(Z)})})()}}function fn(){return window}function Sl(){return typeof fn().WorkerGlobalScope<"u"&&"function"==typeof fn().importScripts}function Gu(){return(Gu=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hd="firebaseLocalStorageDb",Jo="firebaseLocalStorage",Ws="fbase_key";class qu{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Zu(v,f){return v.transaction([Jo],f?"readwrite":"readonly").objectStore(Jo)}function xl(){const v=indexedDB.open(Hd,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const _=v.result;try{_.createObjectStore(Jo,{keyPath:Ws})}catch(A){g(A)}}),v.addEventListener("success",(0,d.Z)(function*(){const _=v.result;_.objectStoreNames.contains(Jo)?f(_):(_.close(),yield function Mm(){const v=indexedDB.deleteDatabase(Hd);return new qu(v).toPromise()}(),f(yield xl()))}))})}function Va(v,f,g){return Te.apply(this,arguments)}function Te(){return(Te=(0,d.Z)(function*(v,f,g){const _=Zu(v,!0).put({[Ws]:f,value:g});return new qu(_).toPromise()})).apply(this,arguments)}function Wu(){return(Wu=(0,d.Z)(function*(v,f){const g=Zu(v,!1).get(f),_=yield new qu(g).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Nl(v,f){const g=Zu(v,!0).delete(f);return new qu(g).toPromise()}const Xr=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield xl()),g.db})()}_withRetries(g){var _=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const N=yield _._openDb();return yield g(N)}catch(N){if(A++>3)throw N;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Sl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=zu._getInstance(function rr(){return Sl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var _=(0,d.Z)(function*(A,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(A,N){return _.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var _=(0,d.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return _.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var _,A;if(g.activeServiceWorker=yield function It(){return Gu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Sm(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(_=N[0])&&void 0!==_&&_.fulfilled&&null!==(A=N[0])&&void 0!==A&&A.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var _=this;return(0,d.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Ml(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:g},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield xl();return yield Va(g,yo,"1"),yield Nl(g,yo),!0}catch{}return!1})()}_withPendingWrite(g){var _=this;return(0,d.Z)(function*(){_.pendingWrites++;try{yield g()}finally{_.pendingWrites--}})()}_set(g,_){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(N=>Va(N,g,_)),A.localCache[g]=_,A.notifyServiceWorker(g)}))})()}_get(g){var _=this;return(0,d.Z)(function*(){const A=yield _._withRetries(N=>function Pt(v,f){return Wu.apply(this,arguments)}(N,g));return _.localCache[g]=A,A})()}_remove(g){var _=this;return(0,d.Z)(function*(){return _._withPendingWrite((0,d.Z)(function*(){return yield _._withRetries(A=>Nl(A,g)),delete _.localCache[g],_.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const _=yield g._withRetries(j=>{const Z=Zu(j,!1).getAll();return new qu(Z).toPromise()});if(!_)return[];if(0!==g.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:j,value:Z}of _)N.add(j),JSON.stringify(g.localCache[j])!==JSON.stringify(Z)&&(g.notifyListeners(j,Z),A.push(j));for(const j of Object.keys(g.localCache))g.localCache[j]&&!N.has(j)&&(g.notifyListeners(j,null),A.push(j));return A})()}notifyListeners(g,_){this.localCache[g]=_;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(_)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Wn=1e12;class Cs{constructor(f){this.auth=f,this.counter=Wn,this._widgets=new Map}render(f,g){const _=this.counter;return this._widgets.set(_,new Fl(f,this.auth.name,g||{})),this.counter++,_}reset(f){var g;const _=f||Wn;null===(g=this._widgets.get(_))||void 0===g||g.delete(),this._widgets.delete(_)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Wn))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,d.Z)(function*(){var _;return null===(_=g._widgets.get(f||Wn))||void 0===_||_.execute(),""})()}}class Fl{constructor(f,g,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;se(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wo(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<v;_++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $i=Zr("rcb"),zd=new ds(3e4,6e4);class Nm{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=fn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return se(function Gd(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Xe(fn().grecaptcha)?Promise.resolve(fn().grecaptcha):new Promise((_,A)=>{const N=fn().setTimeout(()=>{A(ee(f,"network-request-failed"))},zd.get());fn()[$i]=()=>{fn().clearTimeout(N),delete fn()[$i];const Z=fn().grecaptcha;if(!Z||!Xe(Z))return void A(ee(f,"internal-error"));const Ce=Z.render;Z.render=(je,Be)=>{const Je=Ce(je,Be);return this.counter++,Je},this.hostLanguage=g,_(Z)},Yi(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:$i,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),A(ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=fn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qd{load(f){return(0,d.Z)(function*(){return new Cs(f)})()}clearedOneInstance(){}}const Ba="recaptcha",Zf={theme:"light",type:"image"};class Ku{constructor(f,g=Object.assign({},Zf),_){this.parameters=g,this.type=Ba,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pn(_),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;se(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qd:new Nm,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),_=f.getAssertedRecaptcha();return _.getResponse(g)||new Promise(N=>{const j=Z=>{Z&&(f.tokenChangeListeners.delete(j),N(Z))};f.tokenChangeListeners.add(j),f.isInvisible&&_.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(_=>_(g)),"function"==typeof f)f(g);else if("string"==typeof f){const _=fn()[f];"function"==typeof _&&_(g)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const _=document.createElement("div");g.appendChild(_),g=_}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){se(Hr()&&!Sl(),f.auth,"internal-error"),yield function Om(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Q(v){return Ne.apply(this,arguments)}(f.auth);se(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dr{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=ht._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function gt(){return(gt=(0,d.Z)(function*(v,f,g){const _=Pn(v),A=yield kn(_,f,(0,P.m9)(g));return new Dr(A,N=>hl(_,N))})).apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(v,f,g){const _=(0,P.m9)(v);yield Zs(!1,_,"phone");const A=yield kn(_.auth,f,(0,P.m9)(g));return new Dr(A,N=>wm(_,N))})).apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(v,f,g){const _=(0,P.m9)(v),A=yield kn(_.auth,f,(0,P.m9)(g));return new Dr(A,N=>Em(_,N))})).apply(this,arguments)}function kn(v,f,g){return xt.apply(this,arguments)}function xt(){return xt=(0,d.Z)(function*(v,f,g){var _;const A=yield g.verify();try{let N;if(se("string"==typeof A,v,"argument-error"),se(g.type===Ba,v,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const j=N.session;if("phoneNumber"in N)return se("enroll"===j.type,v,"internal-error"),(yield function Cl(v,f){return De(v,"POST","/v2/accounts/mfaEnrollment:start",we(v,f))}(v,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{se("signin"===j.type,v,"internal-error");const Z=(null===(_=N.multiFactorHint)||void 0===_?void 0:_.uid)||N.multiFactorUid;return se(Z,v,"missing-multi-factor-info"),(yield function Pl(v,f){return De(v,"POST","/v2/accounts/mfaSignIn:start",we(v,f))}(v,{mfaPendingCredential:j.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function Rt(v,f){return cn.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:A});return j}}finally{g._reset()}}),xt.apply(this,arguments)}function Ts(){return(Ts=(0,d.Z)(function*(v,f){yield lo((0,P.m9)(v),f)})).apply(this,arguments)}let on=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Pn(g)}verifyPhoneNumber(g,_){return kn(this.auth,g,(0,P.m9)(_))}static credential(g,_){return ht._fromVerification(g,_)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:_,temporaryProof:A}=g;return _&&A?ht._fromTokenResponse(_,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ks(v,f){return f?Sn(f):(se(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Di extends uo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ii(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Ii(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Ii(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function ja(v){return ll(v.auth,new Di(v),v.bypassAuthState)}function ei(v){const{auth:f,user:g}=v;return se(g,f,"internal-error"),Lf(g,new Di(v),v.bypassAuthState)}function mr(v){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(v){const{auth:f,user:g}=v;return se(g,f,"internal-error"),lo(g,new Di(v),v.bypassAuthState)})).apply(this,arguments)}class li{constructor(f,g,_,A,N=!1){this.auth=f,this.resolver=_,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,d.Z)(function*(_,A){f.pendingPromise={resolve:_,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(_,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,d.Z)(function*(){const{urlResponse:_,sessionId:A,postBody:N,tenantId:j,error:Z,type:Ce}=f;if(Z)return void g.reject(Z);const je={auth:g.auth,requestUri:_,sessionId:A,tenantId:j||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ce)(je))}catch(Be){g.reject(Be)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ja;case"linkViaPopup":case"linkViaRedirect":return mr;case"reauthViaPopup":case"reauthViaRedirect":return ei;default:me(this.auth,"internal-error")}}resolve(f){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nn=new ds(2e3,1e4);function ea(){return(ea=(0,d.Z)(function*(v,f,g){const _=Pn(v);Pe(v,f,Kr);const A=Ks(_,g);return new $a(_,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(v,f,g){const _=(0,P.m9)(v);Pe(_.auth,f,Kr);const A=Ks(_.auth,g);return new $a(_.auth,"reauthViaPopup",f,A,_).executeNotNull()})).apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(v,f,g){const _=(0,P.m9)(v);Pe(_.auth,f,Kr);const A=Ks(_.auth,g);return new $a(_.auth,"linkViaPopup",f,A,_).executeNotNull()})).apply(this,arguments)}let $a=(()=>{class v extends li{constructor(g,_,A,N,j){super(g,_,N,j),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const _=yield g.execute();return se(_,g.auth,"internal-error"),_})()}onExecution(){var g=this;return(0,d.Z)(function*(){Vt(1===g.filter.length,"Popup operations only handle one event");const _=Al();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],_),g.authWindow.associatedEvent=_,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(ee(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var _,A;this.pollId=null!==(A=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Nn.get())};g()}}return v.currentPopupAction=null,v})();const Ha="pendingRedirect",pn=new Map;class za extends li{constructor(f,g,_=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,_),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,d.Z)(function*(){let _=pn.get(g.auth._key());if(!_){try{const N=(yield function ta(v,f){return Wf.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;_=()=>Promise.resolve(N)}catch(A){_=()=>Promise.reject(A)}pn.set(g.auth._key(),_)}return g.bypassAuthState||pn.set(g.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,_=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(_,f);if("unknown"!==f.type){if(f.eventId){const A=yield _.auth._redirectUserForId(f.eventId);if(A)return _.user=A,g().call(_,f);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Wf(){return(Wf=(0,d.Z)(function*(v,f){const g=Kd(f),_=E_(v);if(!(yield _._isAvailable()))return!1;const A="true"===(yield _._get(g));return yield _._remove(g),A})).apply(this,arguments)}function Ll(v,f){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,d.Z)(function*(v,f){return E_(v)._set(Kd(f),"true")})).apply(this,arguments)}function Wd(v,f){pn.set(v._key(),f)}function E_(v){return Sn(v._redirectPersistence)}function Kd(v){return U(Ha,v.config.apiKey,v.name)}function Ju(v,f,g){return function Xu(v,f,g){return Yd.apply(this,arguments)}(v,f,g)}function Yd(){return(Yd=(0,d.Z)(function*(v,f,g){const _=Pn(v);Pe(v,f,Kr),yield _._initializationPromise;const A=Ks(_,g);return yield Ll(A,_),A._openRedirect(_,f,"signInViaRedirect")})).apply(this,arguments)}function ec(v,f,g){return function Qd(v,f,g){return Ga.apply(this,arguments)}(v,f,g)}function Ga(){return(Ga=(0,d.Z)(function*(v,f,g){const _=(0,P.m9)(v);Pe(_.auth,f,Kr),yield _.auth._initializationPromise;const A=Ks(_.auth,g);yield Ll(A,_.auth);const N=yield di(_);return A._openRedirect(_.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function I_(v,f,g){return function Rm(v,f,g){return Vl.apply(this,arguments)}(v,f,g)}function Vl(){return(Vl=(0,d.Z)(function*(v,f,g){const _=(0,P.m9)(v);Pe(_.auth,f,Kr),yield _.auth._initializationPromise;const A=Ks(_.auth,g);yield Zs(!1,_,f.providerId),yield Ll(A,_.auth);const N=yield di(_);return A._openRedirect(_.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(v,f){return yield Pn(v)._initializationPromise,Eo(v,f,!1)})).apply(this,arguments)}function Eo(v,f){return zt.apply(this,arguments)}function zt(){return(zt=(0,d.Z)(function*(v,f,g=!1){const _=Pn(v),A=Ks(_,f),j=yield new za(_,A,g).execute();return j&&!g&&(delete j.user._redirectEventId,yield _._persistUserIfCurrent(j.user),yield _._setRedirectUser(null,f)),j})).apply(this,arguments)}function di(v){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(v){const f=Al(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class na{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(f,_)&&(g=!0,this.sendToConsumer(f,_),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function bo(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qa(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var _;if(f.error&&!qa(f)){const A=(null===(_=f.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";g.onError(ee(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const _=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&_}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gn(f))}saveEventToCache(f){this.cachedEventUids.add(gn(f)),this.lastProcessedEventTime=Date.now()}}function gn(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function qa({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function tc(v){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,d.Z)(function*(v,f={}){return De(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Pm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nc=/^https?/;function Xs(){return(Xs=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield tc(v);for(const g of f)try{if(Bl(g))return}catch{}me(v,"unauthorized-domain")})).apply(this,arguments)}function Bl(v){const f=ar(),{protocol:g,hostname:_}=new URL(f);if(v.startsWith("chrome-extension://")){const j=new URL(v);return""===j.hostname&&""===_?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&j.hostname===_}if(!nc.test(g))return!1;if(Pm.test(v))return _===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(_)}const Jd=new ds(3e4,6e4);function ra(){const v=fn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Fn=null;const jl=new ds(5e3,15e3),Za="__/auth/iframe",Wa="emulator/auth/iframe",rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$l=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ka(v){const f=v.config;se(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?ae(f,Wa):`https://${v.config.authDomain}/${Za}`,_={apiKey:f.apiKey,appName:v.name,v:X.SDK_VERSION},A=$l.get(v.config.apiHost);A&&(_.eid=A);const N=v._getFrameworks();return N.length&&(_.fw=N.join(",")),`${g}?${(0,P.xO)(_).slice(1)}`}function C(){return C=(0,d.Z)(function*(v){const f=yield function Ms(v){return Fn=Fn||function Dn(v){return new Promise((f,g)=>{var _,A,N;function j(){ra(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ra(),g(ee(v,"network-request-failed"))},timeout:Jd.get()})}if(null!==(A=null===(_=fn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(N=fn().gapi)||void 0===N||!N.load){const Z=Zr("iframefcb");return fn()[Z]=()=>{gapi.load?j():g(ee(v,"network-request-failed"))},Yi(`https://apis.google.com/js/api.js?onload=${Z}`).catch(Ce=>g(Ce))}j()}}).catch(f=>{throw Fn=null,f})}(v),Fn}(v),g=fn().gapi;return se(g,v,"internal-error"),f.open({where:document.body,url:Ka(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rc,dontclear:!0},_=>new Promise(function(){var A=(0,d.Z)(function*(N,j){yield _.restyle({setHideOnLeave:!1});const Z=ee(v,"network-request-failed"),Ce=fn().setTimeout(()=>{j(Z)},jl.get());function je(){fn().clearTimeout(Ce),N(_)}_.ping(je).then(je,()=>{j(Z)})});return function(N,j){return A.apply(this,arguments)}}()))}),C.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ke{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tt="__/auth/handler",At="emulator/auth/handler",hi=encodeURIComponent("fac");function mn(v,f,g,_,A,N){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(v,f,g,_,A,N){se(v.config.authDomain,v,"auth-domain-config-required"),se(v.config.apiKey,v,"invalid-api-key");const j={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:_,v:X.SDK_VERSION,eventId:A};if(f instanceof Kr){f.setDefaultLanguage(v.languageCode),j.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(j.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Be,Je]of Object.entries(N||{}))j[Be]=Je}if(f instanceof Yr){const Be=f.getScopes().filter(Je=>""!==Je);Be.length>0&&(j.scopes=Be.join(","))}v.tenantId&&(j.tid=v.tenantId);const Z=j;for(const Be of Object.keys(Z))void 0===Z[Be]&&delete Z[Be];const Ce=yield v._getAppCheckToken(),je=Ce?`#${hi}=${encodeURIComponent(Ce)}`:"";return`${function ic({config:v}){return v.emulator?ae(v,At):`https://${v.authDomain}/${Tt}`}(v)}?${(0,P.xO)(Z).slice(1)}${je}`})).apply(this,arguments)}const an="webStorageSupport",Lr=class zi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vo,this._completeRedirectFn=Eo,this._overrideRedirectResult=Wd}_openPopup(f,g,_,A){var N=this;return(0,d.Z)(function*(){var j;Vt(null===(j=N.eventManagers[f._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const Z=yield mn(f,g,_,ar(),A);return function ze(v,f,g,_=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),j=Math.max((window.screen.availWidth-_)/2,0).toString();let Z="";const Ce=Object.assign(Object.assign({},M),{width:_.toString(),height:A.toString(),top:N,left:j}),je=(0,P.z$)().toLowerCase();g&&(Z=nt(je)?"_blank":g),Ee(je)&&(f=f||"http://localhost",Ce.scrollbars="yes");const Be=Object.entries(Ce).reduce((Ln,[hn,pc])=>`${Ln}${hn}=${pc},`,"");if(function lr(v=(0,P.z$)()){var f;return Dt(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(je)&&"_self"!==Z)return function at(v,f){const g=document.createElement("a");g.href=v,g.target=f;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(_)}(f||"",Z),new Ke(null);const Je=window.open(f||"",Z,Be);se(Je,v,"popup-blocked");try{Je.focus()}catch{}return new Ke(Je)}(f,Z,Al())})()}_openRedirect(f,g,_,A){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(f),function zf(v){fn().location.href=v}(yield mn(f,g,_,ar(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:N}=this.eventManagers[g];return A?Promise.resolve(A):(Vt(N,"If manager is not set, promise should be"),N)}const _=this.initAndGetManager(f);return this.eventManagers[g]={promise:_},_.catch(()=>{delete this.eventManagers[g]}),_}initAndGetManager(f){var g=this;return(0,d.Z)(function*(){const _=yield function I(v){return C.apply(this,arguments)}(f),A=new na(f);return _.register("authEvent",N=>(se(N?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=_,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(an,{type:an},A=>{var N;const j=null===(N=A?.[0])||void 0===N?void 0:N[an];void 0!==j&&g(!!j),me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Js(v){return Xs.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ps()||re()||Dt()}};class sc{constructor(f){this.factorId=f}_process(f,g,_){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,_);case"signin":return this._finalizeSignIn(f,g.credential);default:return wt("unexpected MultiFactorSessionType")}}}class Ti extends sc{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ti(f)}_finalizeEnroll(f,g,_){return function Dl(v,f){return De(v,"POST","/v2/accounts/mfaEnrollment:finalize",we(v,f))}(f,{idToken:g,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function kl(v,f){return De(v,"POST","/v2/accounts/mfaSignIn:finalize",we(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ia=(()=>{class v{constructor(){}static assertion(g){return Ti._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var b_="@firebase/auth";class Qf{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(_=>{f(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ua(){return window}(0,P.Pz)("authIdTokenMaxAge"),function eh(v){(0,X._registerComponent)(new fe.wA("auth",(f,{options:g})=>{const _=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),N=f.getProvider("app-check-internal"),{apiKey:j,authDomain:Z}=_.options;se(j&&!j.includes(":"),"invalid-api-key",{appName:_.name});const Ce={apiKey:j,authDomain:Z,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(v)},je=new Yc(_,A,N,Ce);return function Pf(v,f){const g=f?.persistence||[],_=(Array.isArray(g)?g:[g]).map(Sn);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(_,f?.popupRedirectResolver)}(je,g),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,_)=>{f.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new fe.wA("auth-internal",f=>{const g=Pn(f.getProvider("auth").getImmediate());return new Qf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(b_,"0.23.2",function fi(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,X.registerVersion)(b_,"0.23.2","esm2017")}("Browser");function Jf(){return Jf=(0,d.Z)(function*(v,f,g){var _;const{BuildInfo:A}=ua();Vt(f.sessionId,"AuthEvent did not contain a session ID");const N=yield function D_(v){return rh.apply(this,arguments)}(f.sessionId),j={};return Dt()?j.ibi=A.packageName:Wt()?j.apn=A.packageName:me(v,"operation-not-supported-in-this-environment"),A.displayName&&(j.appDisplayName=A.displayName),j.sessionId=N,mn(v,g,f.type,void 0,null!==(_=f.eventId)&&void 0!==_?_:void 0,j)}),Jf.apply(this,arguments)}function ac(){return(ac=(0,d.Z)(function*(v){const{BuildInfo:f}=ua(),g={};Dt()?g.iosBundleId=f.packageName:Wt()?g.androidPackageName=f.packageName:me(v,"operation-not-supported-in-this-environment"),yield tc(v,g)})).apply(this,arguments)}function ep(){return(ep=(0,d.Z)(function*(v,f,g){const{cordova:_}=ua();let A=()=>{};try{yield new Promise((N,j)=>{let Z=null;function Ce(){var Je;N();const Ln=null===(Je=_.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof Ln&&Ln(),"function"==typeof g?.close&&g.close()}function je(){Z||(Z=window.setTimeout(()=>{j(ee(v,"redirect-cancelled-by-user"))},2e3))}function Be(){"visible"===document?.visibilityState&&je()}f.addPassiveListener(Ce),document.addEventListener("resume",je,!1),Wt()&&document.addEventListener("visibilitychange",Be,!1),A=()=>{f.removePassiveListener(Ce),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",Be,!1),Z&&window.clearTimeout(Z)}})}finally{A()}})).apply(this,arguments)}function rh(){return(rh=(0,d.Z)(function*(v){const f=function uc(v){if(Vt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),g=new Uint8Array(f);for(let _=0;_<v.length;_++)g[_]=v.charCodeAt(_);return g}(v),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tp extends na{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function Ya(v){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,d.Z)(function*(v){const f=yield Gl()._get(ih(v));return f&&(yield Gl()._remove(ih(v))),f})).apply(this,arguments)}function A_(){const v=[];for(let g=0;g<20;g++){const _=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(_))}return v.join("")}function Gl(){return Sn(Qo)}function ih(v){return U("authEvent",v.config.apiKey,v.name)}function sh(v){if(!v?.includes("?"))return{};const[f,...g]=v.split("?");return(0,P.zd)(g.join("?"))}const oh=class rp{constructor(){this._redirectPersistence=vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Eo,this._overrideRedirectResult=Wd}_initialize(f){var g=this;return(0,d.Z)(function*(){const _=f._key();let A=g.eventManagers.get(_);return A||(A=new tp(f),g.eventManagers.set(_,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){me(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,_,A){var N=this;return(0,d.Z)(function*(){!function nh(v){var f,g,_,A,N,j,Z,Ce,je,Be;const Je=ua();se("function"==typeof(null===(f=Je?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(typeof(null===(g=Je?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(N=null===(A=null===(_=Je?.cordova)||void 0===_?void 0:_.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Ce=null===(Z=null===(j=Je?.cordova)||void 0===j?void 0:j.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Ce?void 0:Ce.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Be=null===(je=Je?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===Be?void 0:Be.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const j=yield N._initialize(f);yield j.initialized(),j.resetRedirect(),function Zd(){pn.clear()}(),yield N._originValidation(f);const Z=function np(v,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:A_(),postBody:null,tenantId:v.tenantId,error:ee(v,"no-auth-event")}}(f,_,A);yield function T_(v,f){return Gl()._set(ih(v),f)}(f,Z);const Ce=yield function Vm(v,f,g){return Jf.apply(this,arguments)}(f,Z,g),je=yield function C_(v){const{cordova:f}=ua();return new Promise(g=>{f.plugins.browsertab.isAvailable(_=>{let A=null;_?f.plugins.browsertab.openUrl(v):A=f.InAppBrowser.open(v,function $t(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(A)})})}(Ce);return function th(v,f,g){return ep.apply(this,arguments)}(f,j,je)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Xf(v){return ac.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:_,handleOpenURL:A,BuildInfo:N}=ua(),j=setTimeout((0,d.Z)(function*(){yield Ya(f),g.onEvent(M_())}),500),Z=function(){var Be=(0,d.Z)(function*(Je){clearTimeout(j);const Ln=yield Ya(f);let hn=null;Ln&&Je?.url&&(hn=function Um(v,f){var g,_;const A=function YE(v){const f=sh(v),g=f.link?decodeURIComponent(f.link):void 0,_=sh(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return sh(A).link||A||_||g||v}(f);if(A.includes("/__/auth/callback")){const N=sh(A),j=N.firebaseError?function S_(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,Z=null===(_=null===(g=j?.code)||void 0===g?void 0:g.split("auth/"))||void 0===_?void 0:_[1],Ce=Z?ee(Z):null;return Ce?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ce,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(Ln,Je.url)),g.onEvent(hn||M_())});return function(Ln){return Be.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,Z);const Ce=A,je=`${N.packageName.toLowerCase()}://`;ua().handleOpenURL=function(){var Be=(0,d.Z)(function*(Je){if(Je.toLowerCase().startsWith(je)&&Z({url:Je}),"function"==typeof Ce)try{Ce(Je)}catch(Ln){console.error(Ln)}});return function(Je){return Be.apply(this,arguments)}}()}};function M_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ee("no-auth-event")}}function cc(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function lc(v=(0,P.z$)()){return!("file:"!==cc()&&"ionic:"!==cc()&&"capacitor:"!==cc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function tI(){try{const v=self.localStorage,f=Al();if(v)return v.setItem(f,"1"),v.removeItem(f),!function eI(v=(0,P.z$)()){return function Bm(){return(0,P.w1)()&&11===document?.documentMode}()||function jm(v=(0,P.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,P.hl)()}catch{return $m()&&(0,P.hl)()}return!1}function $m(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Hm(){return(function sp(){return"http:"===cc()||"https:"===cc()}()||(0,P.ru)()||lc())&&!function DT(){return(0,P.b$)()||(0,P.UG)()}()&&tI()&&!$m()}function nI(){return lc()&&typeof document<"u"}function dc(){return(dc=(0,d.Z)(function*(){return!!nI()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const Gi={LOCAL:"local",NONE:"none",SESSION:"session"},ql=se,zm="persistence";function ah(v){return uh.apply(this,arguments)}function uh(){return(uh=(0,d.Z)(function*(v){yield v._initializationPromise;const f=hc(),g=U(zm,v.config.apiKey,v.name);f&&f.setItem(g,v._getPersistence())})).apply(this,arguments)}function hc(){var v;try{return(null===(v=function op(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Kl=se;class Co{constructor(){this.browserResolver=Sn(Lr),this.cordovaResolver=Sn(oh),this.underlyingResolver=null,this._redirectPersistence=vo,this._completeRedirectFn=Eo,this._overrideRedirectResult=Wd}_initialize(f){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,_,A){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,_,A)})()}_openRedirect(f,g,_,A){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,_,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return nI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const g=yield function rI(){return dc.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ap(v){return v.unwrap()}function up(v){return qm(v)}function qm(v){const{_tokenResponse:f}=v instanceof P.ZR?v.customData:v;if(!f)return null;if(!(v instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return on.credentialFromResult(v);const g=f.providerId;if(!g||g===le.PASSWORD)return null;let _;switch(g){case le.GOOGLE:_=ji;break;case le.FACEBOOK:_=Md;break;case le.GITHUB:_=vs;break;case le.TWITTER:_=Na;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:j,pendingToken:Z,nonce:Ce}=f;return N||j||A||Z?Z?g.startsWith("saml.")?Qi._create(g,Z):He._fromParams({providerId:g,signInMethod:g,pendingToken:Z,idToken:A,accessToken:N}):new bi(g).credential({idToken:A,accessToken:N,rawNonce:Ce}):null}return v instanceof P.ZR?_.credentialFromError(v):_.credentialFromResult(v)}function Ai(v,f){return f.catch(g=>{throw g instanceof P.ZR&&function Do(v,f){var g;const _=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new N_(v,function bl(v,f){var g;const _=(0,P.m9)(v),A=f;return se(f.customData.operationType,_,"argument-error"),se(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,_,"argument-error"),go._fromError(_,A)}(v,f));else if(_){const A=qm(f),N=f;A&&(N.credential=A,N.tenantId=_.tenantId||void 0,N.email=_.email||void 0,N.phoneNumber=_.phoneNumber||void 0)}}(v,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:up(g),additionalUserInfo:$f(g),user:to.getOrCreate(A)}})}function cp(v,f){return ch.apply(this,arguments)}function ch(){return(ch=(0,d.Z)(function*(v,f){const g=yield f;return{verificationId:g.verificationId,confirm:_=>Ai(v,g.confirm(_))}})).apply(this,arguments)}class N_{constructor(f,g){this.resolver=g,this.auth=function Gm(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ai(ap(this.auth),this.resolver.resolveSignIn(f))}}class to{constructor(f){this._delegate=f,this.multiFactor=function Yo(v){const f=(0,P.m9)(v);return en.has(f)||en.set(f,mo._fromUser(f)),en.get(f)}(f)}static getOrCreate(f){return to.USER_MAP.has(f)||to.USER_MAP.set(f,new to(f)),to.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,d.Z)(function*(){return Ai(g.auth,wm(g._delegate,f))})()}linkWithPhoneNumber(f,g){var _=this;return(0,d.Z)(function*(){return cp(_.auth,function ns(v,f,g){return dn.apply(this,arguments)}(_._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,d.Z)(function*(){return Ai(g.auth,function Ss(v,f,g){return Ys.apply(this,arguments)}(g._delegate,f,Co))})()}linkWithRedirect(f){var g=this;return(0,d.Z)(function*(){return yield ah(Pn(g.auth)),I_(g._delegate,f,Co)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,d.Z)(function*(){return Ai(g.auth,Em(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return cp(this.auth,function Yu(v,f,g){return Ds.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Ai(this.auth,function Qu(v,f,g){return As.apply(this,arguments)}(this._delegate,f,Co))}reauthenticateWithRedirect(f){var g=this;return(0,d.Z)(function*(){return yield ah(Pn(g.auth)),ec(g._delegate,f,Co)})()}sendEmailVerification(f){return function fo(v,f){return Is.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,d.Z)(function*(){return yield function al(v,f){return br.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Dm(v,f){return wl((0,P.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function _l(v,f){return wl((0,P.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function gr(v,f){return Ts.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Cm(v,f){return Bu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Vu(v,f,g){return Uu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}to.USER_MAP=new WeakMap;const Tr=se;let Ja=(()=>{class v{constructor(g,_){if(this.app=g,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Tr(A,"invalid-api-key",{appName:g.name}),Tr(A,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?Co:void 0;this._delegate=_.initialize({options:{persistence:lp(A,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?to.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,_){!function Mu(v,f,g){const _=Pn(v);se(_._canInitEmulator,_,"emulator-config-failed"),se(/^https?:\/\//.test(f),_,"invalid-emulator-scheme");const A=!!g?.disableWarnings,N=wr(f),{host:j,port:Z}=function Ad(v){const f=wr(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const _=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(_);if(A){const N=A[1];return{host:N,port:Qc(_.substr(N.length+1))}}{const[N,j]=_.split(":");return{host:N,port:Qc(j)}}}(f);_.config.emulator={url:`${N}//${j}${null===Z?"":`:${Z}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:j,port:Z,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function _m(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,_)}applyActionCode(g){return function Xi(v,f){return Ci.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Od(this._delegate,g)}confirmPasswordReset(g,_){return function Im(v,f,g){return Es.apply(this,arguments)}(this._delegate,g,_)}createUserWithEmailAndPassword(g,_){var A=this;return(0,d.Z)(function*(){return Ai(A._delegate,function gl(v,f,g){return Pa.apply(this,arguments)}(A._delegate,g,_))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function vl(v,f){return Zo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Bf(v,f){const g=ys.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){Tr(Hm(),g._delegate,"operation-not-supported-in-this-environment");const _=yield function pe(v,f){return ir.apply(this,arguments)}(g._delegate,Co);return _?Ai(g._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function x_(v,f){Pn(v)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,_,A){const{next:N,error:j,complete:Z}=Xa(g,_,A);return this._delegate.onAuthStateChanged(N,j,Z)}onIdTokenChanged(g,_,A){const{next:N,error:j,complete:Z}=Xa(g,_,A);return this._delegate.onIdTokenChanged(N,j,Z)}sendSignInLinkToEmail(g,_){return function ka(v,f,g){return qo.apply(this,arguments)}(this._delegate,g,_)}sendPasswordResetEmail(g,_){return function w_(v,f,g){return Ra.apply(this,arguments)}(this._delegate,g,_||void 0)}setPersistence(g){var _=this;return(0,d.Z)(function*(){let A;switch(function Zl(v,f){ql(Object.values(Gi).includes(f),v,"invalid-persistence-type"),(0,P.b$)()?ql(f!==Gi.SESSION,v,"unsupported-persistence-type"):(0,P.UG)()?ql(f===Gi.NONE,v,"unsupported-persistence-type"):$m()?ql(f===Gi.NONE||f===Gi.LOCAL&&(0,P.hl)(),v,"unsupported-persistence-type"):ql(f===Gi.NONE||tI(),v,"unsupported-persistence-type")}(_._delegate,g),g){case Gi.SESSION:A=vo;break;case Gi.LOCAL:A=(yield Sn(Xr)._isAvailable())?Xr:Qo;break;case Gi.NONE:A=Rr;break;default:return me("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ai(this._delegate,function Oa(v){return tr.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ai(this._delegate,hl(this._delegate,g))}signInWithCustomToken(g){return Ai(this._delegate,function Nd(v,f){return ws.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,_){return Ai(this._delegate,function Rd(v,f,g){return hl((0,P.m9)(v),zo.credential(f,g))}(this._delegate,g,_))}signInWithEmailLink(g,_){return Ai(this._delegate,function nr(v,f,g){return Lu.apply(this,arguments)}(this._delegate,g,_))}signInWithPhoneNumber(g,_){return cp(this._delegate,function Hi(v,f,g){return gt.apply(this,arguments)}(this._delegate,g,_))}signInWithPopup(g){var _=this;return(0,d.Z)(function*(){return Tr(Hm(),_._delegate,"operation-not-supported-in-this-environment"),Ai(_._delegate,function Xo(v,f,g){return ea.apply(this,arguments)}(_._delegate,g,Co))})()}signInWithRedirect(g){var _=this;return(0,d.Z)(function*(){return Tr(Hm(),_._delegate,"operation-not-supported-in-this-environment"),yield ah(_._delegate),Ju(_._delegate,g,Co)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Go(v,f){return pr.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Gi,v})();function Xa(v,f,g){let _=v;"function"!=typeof v&&({next:_,error:f,complete:g}=v);const A=_;return{next:j=>A(j&&to.getOrCreate(j)),error:f,complete:g}}function lp(v,f){const g=function Wl(v,f){const g=hc();if(!g)return[];const _=U(zm,v,f);switch(g.getItem(_)){case Gi.NONE:return[Rr];case Gi.LOCAL:return[Xr,vo];case Gi.SESSION:return[vo];default:return[]}}(v,f);if(typeof self<"u"&&!g.includes(Xr)&&g.push(Xr),typeof window<"u")for(const _ of[Qo,vo])g.includes(_)||g.push(_);return g.includes(Rr)||g.push(Rr),g}class Ar{constructor(){this.providerId="phone",this._delegate=new on(ap(Y.Z.auth()))}static credential(f,g){return on.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Ar.PHONE_SIGN_IN_METHOD=on.PHONE_SIGN_IN_METHOD,Ar.PROVIDER_ID=on.PROVIDER_ID;const fc=se;class dp{constructor(f,g,_=Y.Z.app()){var A;fc(null===(A=_.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Ku(f,g,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wm(v){v.INTERNAL.registerComponent(new fe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),_=f.getProvider("auth");return new Ja(g,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zo,FacebookAuthProvider:Md,GithubAuthProvider:vs,GoogleAuthProvider:ji,OAuthProvider:bi,SAMLAuthProvider:ol,PhoneAuthProvider:Ar,PhoneMultiFactorGenerator:ia,RecaptchaVerifier:dp,TwitterAuthProvider:Na,Auth:Ja,AuthCredential:uo,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(Y.Z)},5861:(ut,Ie,R)=>{function d(P,X,ne,de,fe,Oe,le){try{var L=P[Oe](le),$=L.value}catch(K){return void ne(K)}L.done?X($):Promise.resolve($).then(de,fe)}function Y(P){return function(){var X=this,ne=arguments;return new Promise(function(de,fe){var Oe=P.apply(X,ne);function le($){d(Oe,de,fe,le,L,"next",$)}function L($){d(Oe,de,fe,le,L,"throw",$)}le(void 0)})}}R.d(Ie,{Z:()=>Y})},7582:(ut,Ie,R)=>{function X(ae,ue){var ye={};for(var ve in ae)Object.prototype.hasOwnProperty.call(ae,ve)&&ue.indexOf(ve)<0&&(ye[ve]=ae[ve]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(ve=Object.getOwnPropertySymbols(ae);we<ve.length;we++)ue.indexOf(ve[we])<0&&Object.prototype.propertyIsEnumerable.call(ae,ve[we])&&(ye[ve[we]]=ae[ve[we]])}return ye}function K(ae,ue,ye,ve){return new(ye||(ye=Promise))(function(De,tt){function $e(Yt){try{yt(ve.next(Yt))}catch(Mt){tt(Mt)}}function On(Yt){try{yt(ve.throw(Yt))}catch(Mt){tt(Mt)}}function yt(Yt){Yt.done?De(Yt.value):function we(De){return De instanceof ye?De:new ye(function(tt){tt(De)})}(Yt.value).then($e,On)}yt((ve=ve.apply(ae,ue||[])).next())})}function te(ae){return this instanceof te?(this.v=ae,this):new te(ae)}function me(ae,ue,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ve=ye.apply(ae,ue||[]),De=[];return we={},tt("next"),tt("throw"),tt("return"),we[Symbol.asyncIterator]=function(){return this},we;function tt(_n){ve[_n]&&(we[_n]=function(bn){return new Promise(function(ur,sn){De.push([_n,bn,ur,sn])>1||$e(_n,bn)})})}function $e(_n,bn){try{!function On(_n){_n.value instanceof te?Promise.resolve(_n.value.v).then(yt,Yt):Mt(De[0][2],_n)}(ve[_n](bn))}catch(ur){Mt(De[0][3],ur)}}function yt(_n){$e("next",_n)}function Yt(_n){$e("throw",_n)}function Mt(_n,bn){_n(bn),De.shift(),De.length&&$e(De[0][0],De[0][1])}}function be(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ue=ae[Symbol.asyncIterator];return ue?ue.call(ae):(ae=function xe(ae){var ue="function"==typeof Symbol&&Symbol.iterator,ye=ue&&ae[ue],ve=0;if(ye)return ye.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ve>=ae.length&&(ae=void 0),{value:ae&&ae[ve++],done:!ae}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ye={},ve("next"),ve("throw"),ve("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ve(De){ye[De]=ae[De]&&function(tt){return new Promise(function($e,On){!function we(De,tt,$e,On){Promise.resolve(On).then(function(yt){De({value:yt,done:$e})},tt)}($e,On,(tt=ae[De](tt)).done,tt.value)})}}}R.d(Ie,{FC:()=>me,KL:()=>be,_T:()=>X,mG:()=>K,qq:()=>te}),"function"==typeof SuppressedError&&SuppressedError}},ut=>{ut(ut.s=2445)}]);